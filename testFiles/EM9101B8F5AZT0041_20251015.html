<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>展示轮廓</title>
    <style>
        body {
            margin: 0;
            padding: 0;
        }

        #mapContainer {
            width: 100vw;
            height: 100vh;
            position: relative;
        }

        #mapLoading {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 999;
            transition: opacity 0.3s;
        }

        .loading-text {
            font-size: 16px;
            color: #333;
            padding: 10px 20px;
            background: white;
            border-radius: 4px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
        }

        .wkt-input-container {
            position: absolute;
            top: 20px;
            right: 10px;
            z-index: 1000;
            background: white;
            padding: 12px;
            border-radius: 6px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
            width: min(320px, 90vw);
            box-sizing: border-box;
            transition: all 0.3s;
        }

        .minimize-btn {
            position: absolute;
            top: -5px;
            right: -4px;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: #f0f0f0;
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            color: #666;
            z-index: 1001;
            transition: background 0.2s;
        }

        .minimize-btn:hover {
            background: #e0e0e0;
        }

        .content-wrapper {
            transition: all 0.3s;
        }

        .wkt-input-container.minimized {
            width: 40px;
            height: 40px;
            padding: 0;
        }

        .wkt-input-container.minimized .content-wrapper {
            display: none;
        }

        .wkt-input-container.minimized .min-icon {
            display: none;
        }

        .wkt-input-container.minimized .restore-icon {
            display: inline;
        }

        #wktTextarea {
            width: 100%;
            height: 120px;
            margin-bottom: 10px;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-family: monospace;
            resize: vertical;
            box-sizing: border-box;
        }

        .button-group {
            display: flex;
            gap: 10px;
        }

        /* 页签样式 */
        .tabs-header {
            display: flex;
            gap: 8px;
            margin-bottom: 8px;
        }
        .tab-btn {
            flex: 1;
            padding: 6px 0;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 13px;
            background: #f5f5f5;
            color: #333;
            transition: background 0.2s;
        }
        .tab-btn.active { background: #337AFF; color: #fff; }
        .tab-pane { display: none; }
        .tab-pane.active { display: block; }

        /* Multi → Polygons 分割器样式 */
        .split-section {
            margin-top: 10px;
            padding: 10px;
            background: #fafafa;
            border: 1px solid #eee;
            border-radius: 6px;
        }
        .split-section .title {
            font-size: 13px;
            font-weight: 600;
            color: #333;
            margin-bottom: 6px;
        }
        .split-section .desc {
            font-size: 12px;
            color: #666;
            margin-bottom: 8px;
        }
        #multiInput, #polyOutput {
            width: 100%;
            height: 90px;
            margin-bottom: 8px;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-family: monospace;
            resize: vertical;
            box-sizing: border-box;
        }
        .split-actions {
            display: flex;
            gap: 8px;
            margin-bottom: 8px;
        }
        .split-actions button {
            flex: 1;
            padding: 6px 0;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 13px;
            transition: background 0.2s;
        }
        #splitMultiBtn { background: #337AFF; color: #fff; }
        #splitMultiBtn:hover { background: #2860E0; }
        #copyPolysBtn { background: #f5f5f5; color: #333; }
        #copyPolysBtn:hover { background: #e0e0e0; }
        #drawButton,
        #clearButton,
        #drawTrackButton,
        #clearTrackButton {
            width: 50%;
            padding: 8px 0;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: background 0.2s;
        }

        #drawButton,
        #drawTrackButton {
            background: #337AFF;
            color: white;
        }

        #drawButton:hover,
        #drawTrackButton:hover {
            background: #2860E0;
        }

        #clearButton,
        #clearTrackButton {
            background: #f5f5f5;
            color: #333;
        }

        #clearButton:hover,
        #clearTrackButton:hover {
            background: #e0e0e0;
        }

        #drawButton:disabled,
        #clearButton:disabled,
        #drawTrackButton:disabled,
        #clearTrackButton:disabled {
            background: #e0e0e0;
            color: #999;
            cursor: not-allowed;
        }

        .tip {
            font-size: 12px;
            color: #666;
            margin-bottom: 8px;
            line-height: 1.4;
        }

        .area-label {
             position: absolute;
             background: rgba(255, 0, 0, 0.85);
             border: 1px solid #000;
             border-radius: 3px;
             padding: 4px 6px;
             font-size: 12px;
             color: #fff;
             font-weight: 600;
             box-shadow: 0 2px 6px rgba(0, 0, 0, 0.25);
             white-space: nowrap;
             z-index: 9999;
             pointer-events: none;
         }
         /* 默认隐藏标签容器下的标签 */
          .labels-hidden .area-label { display: none; }

          /* Batch → Generator 样式 */
          .batch-section { margin-top: 10px; padding: 10px; background: #fafafa; border: 1px solid #eee; border-radius: 6px; }
          .batch-section .title { font-size: 13px; font-weight: 600; color: #333; margin-bottom: 6px; }
          .batch-section .desc { font-size: 12px; color: #666; margin-bottom: 8px; }
          #batchInput, #multiOutput { width: 100%; height: 90px; margin-bottom: 8px; padding: 8px; border: 1px solid #ddd; border-radius: 4px; font-family: monospace; resize: vertical; box-sizing: border-box; }
          .batch-actions { display: flex; gap: 8px; margin-bottom: 8px; }
          .batch-actions button { flex: 1; padding: 6px 0; border: none; border-radius: 4px; cursor: pointer; font-size: 13px; transition: background 0.2s; }
          #generateMultiBtn { background: #337AFF; color: #fff; }
          #generateMultiBtn:hover { background: #2860E0; }
          #copyMultiBtn { background: #f5f5f5; color: #333; }
          #copyMultiBtn:hover { background: #e0e0e0; }
      </style>
    <script src="https://api.tianditu.gov.cn/api?v=4.0&tk=648f621977051d0199ff0f965d3fd322"></script>
    <script src="https://cdn.bootcdn.net/ajax/libs/Turf.js/6.5.0/turf.min.js"></script>
    <script src="https://lib.baomitu.com/terraformer/1.0.12/terraformer.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://unpkg.com/terraformer-wkt-parser@1.2.1/terraformer-wkt-parser.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <!-- 已移除动态备用加载器 ensureTerraformer：改为仅使用静态脚本标签加载 Terraformer 核心库与 WKT 解析器 -->
    <script>
        // 检查Turf.js是否加载成功
        window.addEventListener('load', function () {
            if (typeof turf === 'undefined') {
                console.warn('Turf.js加载失败，已启用备用面积算法');
            } else {
                console.log('Turf.js加载成功');
            }
        });
    </script>
</head>

<body>
<div id="mapContainer">
    <div id="mapLoading">
        <div class="loading-text">地图正在加载中...</div>
    </div>
</div>

<div class="wkt-input-container">
    <div class="minimize-btn" id="minimizeBtn">
        <span class="min-icon">−</span>
        <span class="restore-icon" style="display:none;">+</span>
    </div>

    <div class="content-wrapper">
        <div class="tabs-header">
            <button class="tab-btn active" id="tabDrawBtn">轮廓</button>
            <button class="tab-btn" id="tabTrackBtn">轨迹</button>
            <button class="tab-btn" id="tabSplitBtn">分割器</button>
            <button class="tab-btn" id="tabBatchBtn">合并器</button>
        </div>
        <div class="tab-pane active" id="tabDraw">
            <div class="tip">请输入WKT字符串（支持POLYGON/MULTIPOLYGON）：</div>
            <textarea id="wktTextarea">POLYGON ((124.48583972772765 45.33117143792995, 124.48583996426754 45.331171390576394, 124.48584020929404 45.3311713761175, 124.48584045370082 45.331171395090664, 124.48584068840444 45.3311714467907, 124.48584090468196 45.33117152929621, 124.48584109449551 45.33117163954084, 124.48584125079059 45.33117177342734, 124.48584136775857 45.331171925979795, 124.48584144105223 45.33117209152858, 124.48584146794754 45.33117226392103, 124.48584205819233 45.33120413760568, 124.48584307443403 45.33122542194807, 124.4858434793826 45.33122755213196, 124.48584350862821 45.331227639054156, 124.48584450384433 45.33122967038934, 124.48584455692472 45.33122975150249, 124.48584610296369 45.3312316035034, 124.48584617777456 45.33123167559127, 124.48584821334849 45.331233274841, 124.48584830692361 45.33123333504566, 124.4858507513382 45.33123461814657, 124.48585085891655 45.33123466363696, 124.48585373272643 45.3312356140116, 124.485864325725 45.33123826226156, 124.48586455846619 45.331238339891605, 124.48586476436363 45.33123844890794, 124.48586493502783 45.331238584868714, 124.48586506350533 45.33123874223422, 124.48586514456127 45.33123891459266, 124.48586517489308 45.33123909492131, 124.48586515326483 45.33123927587274, 124.48586508055774 45.3312394500741, 124.48586495973437 45.33123961042762, 124.48586479571756 45.33123975039973, 124.48586459519004 45.3312398642873, 124.48586436632246 45.33123994744999, 124.48586411843984 45.33123999649935, 124.48586277156782 45.331240161927774, 124.48586264908761 45.33124018607291, 124.48585979954888 45.33124097180317, 124.4858596863253 45.331241012650885, 124.48585711532242 45.33124218249227, 124.48585701588122 45.3312422384099, 124.48585482617318 45.33124374560557, 124.48585474448902 45.331243814358075, 124.48585302359585 45.33124559866728, 124.48585296293327 45.331245677507056, 124.48585177963669 45.33124766761341, 124.48585174242075 45.33124775338871, 124.48585114401546 45.33124986975043, 124.48585113173334 45.33124995903344, 124.4858511421371 45.331252117062284, 124.48585115515245 45.33125220541971, 124.48585180575027 45.33125440605509, 124.48585411112998 45.33125959316265, 124.48585416388279 45.33125977770214, 124.48585416103369 45.331259965944795, 124.48585410270722 45.331260149647846, 124.48584487921015 45.33127944896585, 124.48584419906156 45.3312815350112, 124.48584418311746 45.33128162326988, 124.48584409988263 45.331283762865986, 124.48584410894098 45.3312838516086, 124.48584462586153 45.33128596072653, 124.48584465956635 45.33128604646427, 124.48584575631781 45.33128804217767, 124.48584581334411 45.33128812153949, 124.48584744680498 45.33128992538178, 124.48584752491021 45.33128999524673, 124.48584963085634 45.33129153629487, 124.48584972696953 45.33129159391616, 124.48585222260016 45.331292811579544, 124.48585233294197 45.33129285469151, 124.48585420047957 45.33129342181736, 124.48585440759861 45.3312935014678, 124.48585459037837 45.331293606660665, 124.48585474256608 45.33129373379743, 124.4858548589555 45.33129387852879, 124.48585493556509 45.331294035903596, 124.48585496977408 45.33129420053819, 124.48585496041213 45.33129436680052, 124.48585100388647 45.33131533635842, 124.48585094230243 45.33131551713014, 124.4858508293526 45.33131568511276, 124.48585066986102 45.33131583313204, 124.48584734733944 45.33131833167806, 124.48584546381045 45.33132006722917, 124.48584539629533 45.331320144562795, 124.4858440472518 45.331322111565804, 124.48584400319982 45.33132219690506, 124.485843243403 45.33132431523694, 124.48584322480141 45.331324404214016, 124.48584308586659 45.33132667823429, 124.48584603068751 45.33136348865295, 124.48584601686325 45.331363680723086, 124.4858459454765 45.33136386633193, 124.48584581978955 45.3313640369973, 124.48584564554614 45.331364184919906, 124.48584482718329 45.33136474512515, 124.48584474325756 45.33136481576931, 124.48584298214668 45.33136665285624, 124.48584292105784 45.33136673331885, 124.48584168575191 45.33136887266389, 124.48583169206738 45.33139287352211, 124.48583112620501 45.331395001866554, 124.48583111538342 45.331395091547506, 124.48583116315217 45.33139725664934, 124.48583117792487 45.3313973460492, 124.48583183738147 45.33139946086413, 124.48583187715383 45.33139954638518, 124.4858331217612 45.33140152581157, 124.48583318493334 45.33140160401347, 124.4858349646081 45.33140336839846, 124.48583504863728 45.331403436133286, 124.48583729176438 45.33140491447721, 124.4858373932698 45.3314049690198, 124.48583766843358 45.33140508816036, 124.48583783832592 45.331405176132215, 124.48583798536 45.331405282636844, 124.48583810552095 45.33140540476614, 124.4858432259 45.33141165512986, 124.48584488678303 45.33141330554558, 124.48584496464656 45.33141336929219, 124.48584703281982 45.331414771878514, 124.48584712618258 45.331414824253656, 124.48584952916077 45.33141592991643, 124.48584963474268 45.33141596908006, 124.48585086290886 45.331416325440046, 124.48585107354187 45.33141640348194, 124.48585125996044 45.331416507759684, 124.48585141567736 45.33141663464458, 124.48585153527405 45.33141677972129, 124.48585161458868 45.331416937941384, 124.4858516508614 45.33141710379911, 124.4858518968991 45.331420022710105, 124.48585260532337 45.33144694310598, 124.48585258887431 45.331447104770554, 124.4858525315669 45.331447261729615, 124.48585243526125 45.33144740888844, 124.48585230308322 45.33144754147044, 124.48585213932328 45.33144765517215, 124.48584974672133 45.33144904042207, 124.48584965652067 45.33144910437915, 124.48584771673255 45.331450789178575, 124.48584764649455 45.33145086457018, 124.48584622375147 45.331452789022656, 124.48584617631565 45.33145287280063, 124.4858453281361 45.33145495910472, 124.4858453054196 45.33145504788348, 124.48584506609292 45.33145721169559, 124.48584506901463 45.33145730188472, 124.48584544821628 45.331459455728194, 124.48584547665806 45.331459543681916, 124.48584645905791 45.33146160048191, 124.48584651186962 45.33146168264433, 124.48584805775201 45.33146355924987, 124.48584813207182 45.33146363159206, 124.48585026887493 45.33146531675202, 124.4858525430747 45.331466788293625, 124.48585272159765 45.33146693116214, 124.48585285348419 45.33146709733555, 124.48585293282423 45.33146727936739, 124.48585295606239 45.33146746910061, 124.48585255368339 45.33148175341986, 124.48585252685028 45.33148191996202, 124.48585245668272 45.33148208010261, 124.48584325593305 45.33149773269572, 124.48584238183423 45.33149976261954, 124.4858423574305 45.33149984910931, 124.4858420630696 45.33150196029799, 124.48584206311845 45.331502048482925, 124.4858423598173 45.331504159509, 124.48584238431657 45.3315042459848, 124.48584326061594 45.33150627531652, 124.48584330861914 45.3315063567422, 124.48584473067542 45.331508226003756, 124.48584480032876 45.33150829923511, 124.48584671321913 45.331509936231676, 124.48584680183279 45.331509998440644, 124.48584913167817 45.331511339948676, 124.48584923582938 45.331511388732324, 124.48585099995057 45.33151204888438, 124.48585119581456 45.33151213933397, 124.48585136494107 45.33151225351067, 124.48585150163204 45.33151238756779, 124.48585160128228 45.33151253698885, 124.48585166053448 45.33151269673978, 124.48585167739247 45.33151286143842, 124.48585106058883 45.331534794798564, 124.48585305977718 45.33160321459952, 124.48585314468993 45.33160417867694, 124.485863155082 45.331672204836096, 124.48586378390681 45.33167434198706, 124.48586382264128 45.33167442849576, 124.48586504811877 45.33167643270433, 124.48586511073407 45.33167651194825, 124.4858668827678 45.33167830129946, 124.48586696670395 45.331678370038986, 124.48586921284317 45.331679871373886, 124.48586931466745 45.331679926797904, 124.48587194307629 45.33168107873254, 124.48587205862633 45.3316811185756, 124.48587496183897 45.33168187401168, 124.48587508639112 45.331681896644774, 124.48587814570664 45.33168222469563, 124.48587827416729 45.33168222919314, 124.48588136450292 45.33168211644619, 124.48588149162006 45.331682102624264, 124.48588448662377 45.33168155368927, 124.4858846072005 45.33168152211296, 124.4858873844188 45.33168055943363, 124.48588749352454 45.33168051139413, 124.48588993940771 45.33167917433068, 124.48589003258179 45.331679111792106, 124.48589204712759 45.331677455011594, 124.48589212056054 45.33167738053104, 124.48589362140164 45.33167547177309, 124.48589367209168 45.33167538839497, 124.4858945978651 45.33167330570072, 124.48589462348816 45.33167321769632, 124.48589494312846 45.33167095528379, 124.48589494312519 45.33165901182426, 124.48589492020236 45.33165839707475, 124.48588992144848 45.331591414024246, 124.48588396261727 45.33152585466038, 124.48588396060357 45.33152576952703, 124.4858844297381 45.33151497937023, 124.48588446395362 45.331514798186845, 124.48588454938324 45.33151462562117, 124.4858846825003 45.33151446879685, 124.48588485780982 45.3315143341877, 124.4858850680747 45.33151422735046, 124.48588530461524 45.33151415269543, 124.48588555766676 45.331514113304465, 124.48588581678322 45.3315141108036, 124.48588607126806 45.3315141452961, 124.48588631061602 45.331514215358084, 124.48588652494661 45.33151431809734, 124.48588670541216 45.331514449272746, 124.48592647933721 45.33154996170046, 124.4859270339121 45.33155043110641, 124.48599815419263 45.331607526373446, 124.48607222345119 45.331665580261436, 124.48614721618469 45.33172357465108, 124.48621323092598 45.33177358702952, 124.48628411546622 45.33182949597155, 124.48635010063936 45.331881484300716, 124.48641304646881 45.33193144130735, 124.48646408242045 45.331972469847514, 124.48653207411029 45.332026463256895, 124.48655418362637 45.33204354959123, 124.48661006718957 45.33208745811215, 124.48665134068287 45.332120669970344, 124.4867752196225 45.33221457821295, 124.4868501204642 45.33227349998851, 124.48691519995374 45.33232256457153, 124.48698114044723 45.332375515717246, 124.48712104338148 45.33248543946881, 124.4871903046729 45.3325416427102, 124.48726631557503 45.33259964913086, 124.48726754353584 45.33260048905418, 124.48728056964788 45.33260849932044, 124.48728303261736 45.33260973555401, 124.48728314168612 45.332609779556684, 124.48728590088926 45.33261065017204, 124.48728602009241 45.332610678196346, 124.48728896807842 45.332611149324386, 124.48728909276589 45.332611160277075, 124.48729211453373 45.33261121353907, 124.48729223984107 45.332611206992816, 124.48729521751073 45.33261084031101, 124.4872953385499 45.33261081652118, 124.48729815596168 45.33261004419993, 124.48729826801058 45.332610004094654, 124.48730081525706 45.33260885626221, 124.48730091394475 45.33260880140603, 124.48730309165616 45.332607322840175, 124.48730317313377 45.332607255372274, 124.48730489635797 45.33260550375183, 124.48730495744545 45.33260542630561, 124.48730615895937 45.33260346996096, 124.48730619727439 45.33260338555693, 124.48730683020625 45.332601300806346, 124.48730684425422 45.332601212737366, 124.48730688391326 45.332599080907286, 124.48730687314617 45.33259899260779, 124.48730631798543 45.33259689686202, 124.48730628316399 45.33259681260194, 124.48730510226093 45.3325947538517, 124.48729040198444 45.332574908498856, 124.48729030746001 45.3325747424726, 124.4872902613851 45.33257456653618, 124.48729026558219 45.33257438764798, 124.48729031988518 45.332574212883195, 124.48729042214627 45.33257404915386, 124.48729056832114 45.33257390293561, 124.48729075262833 45.332573780011494, 124.48729096777842 45.33257368524325, 124.48729120526203 45.33257362237903, 124.48729145568643 45.33257359390517, 124.48729170914734 45.33257360094781, 124.48729195562002 45.33257364322842, 124.48729218535634 45.33257371907477, 124.48730912964815 45.332580840584136, 124.48730933889517 45.33258095042716, 124.48735627047873 45.332611312223364, 124.48735873323659 45.33261261570838, 124.48735888306611 45.33261268034076, 124.48735908371344 45.332612787411854, 124.48735925065817 45.332612920180715, 124.48735937740408 45.33261307348098, 124.48735945901919 45.3326132413474, 124.48735949232768 45.33261341724795, 124.48735947603349 45.33261359433794, 124.48735941077064 45.3326137657264, 124.48735929907858 45.33261392474426, 124.48735914530353 45.33261406520373, 124.48732536707044 45.33263931610758, 124.48732355095711 45.332640968376325, 124.48732348524372 45.33264104189737, 124.48732215478131 45.33264291005096, 124.48732211082266 45.33264299034323, 124.48732128835485 45.33264508921209, 124.48731829407657 45.332657091319255, 124.48731806550278 45.3326592116046, 124.48731806835424 45.33265929996822, 124.48731843343413 45.33266141056391, 124.4873184607871 45.33266149681843, 124.48731940533872 45.332663515994255, 124.48731945613245 45.33266359679428, 124.4873209435072 45.33266544620671, 124.487321015771 45.33266551841709, 124.48732298826003 45.33266712631045, 124.4873230791899 45.33266718712901, 124.48732546026183 45.33266849111833, 124.48732556632966 45.33266853818525, 124.48732826360062 45.33266948767658, 124.48732838069098 45.33266951916567, 124.48733128950836 45.3326700773192, 124.48733141307805 45.332670092008776, 124.48733442058152 45.332670237168465, 124.48733454583635 45.332670234488624, 124.48733753533615 45.33266996102234, 124.4873376562341 45.332669941270225, 124.48734062882056 45.332669227406996, 124.48738635412549 45.332654634224255, 124.48738653970747 45.33265458681906, 124.48742630319748 45.332646824364176, 124.48742896719044 45.33264611487731, 124.48753497090657 45.332610108693785, 124.48753756237078 45.33260899279584, 124.4875376620618 45.332608939622794, 124.48753997890113 45.33260742111996, 124.48766297376704 45.33250941892254, 124.48766470207528 45.332507741401656, 124.48766476409823 45.33250766711518, 124.48766600573373 45.332505787463575, 124.48766604607904 45.33250570696952, 124.48766677928157 45.332503609717236, 124.48766810200368 45.33249732678798, 124.48766815741263 45.332497166541586, 124.4876682533697 45.332497016123895, 124.48766838664926 45.33249688059128, 124.48772567166336 45.33244873681918, 124.48772581863004 45.33244863207915, 124.48780396553377 45.332401390644684, 124.48780419106423 45.33240128154231, 124.48800004573296 45.332326929325454, 124.48800026436155 45.33232686402755, 124.48800049636027 45.33232682844113, 124.4880174677149 45.3323253737472, 124.48801772730829 45.332325370273146, 124.48801798252045 45.33232540395031, 124.48801822277576 45.33232547338317, 124.48819374175147 45.33239163759002, 124.48819384873987 45.33239168279709, 124.48839415724017 45.3324860028324, 124.48839437478745 45.332486132184506, 124.48839454626564 45.33248629233478, 124.48839466314091 45.33248647531323, 124.48842365662823 45.33254998491854, 124.48842370559242 45.33255013539603, 124.48842371735788 45.332550289562654, 124.48842369157796 45.33255044287794, 124.48842362901206 45.332550590826486, 124.48833115212443 45.33271591510202, 124.48833032982327 45.332717950163634, 124.48833030756107 45.33271803671684, 124.48833006394815 45.33272014581455, 124.48833006605399 45.3327202337691, 124.48833041048637 45.33272233586238, 124.48833043687942 45.33272242183727, 124.48833135612104 45.332724436144524, 124.48833140578701 45.33272451683551, 124.48833286451188 45.33272636594809, 124.48833293554216 45.33272643825437, 124.48833487769252 45.33272805111186, 124.48833496735695 45.33272811225447, 124.48833731829778 45.332729426875964, 124.48833742315027 45.332729474505264, 124.48834009253557 45.33273044037003, 124.48834020854768 45.33273047265623, 124.48834309379403 45.332731052646494, 124.48834321650759 45.33273106834874, 124.48834620673675 45.3327312401759, 124.48834633143541 45.33273123869068, 124.48834931173464 45.33273099575151, 124.48834943362647 45.33273097713588, 124.48835228946436 45.332730328766445, 124.48835240386497 45.332730293735885, 124.48835502549355 45.33272926485248, 124.48835512800635 45.33272921475336, 124.48835741467761 45.332727844895516, 124.48835750136385 45.33272778165268, 124.48835936520204 45.33272612346349, 124.48835943207601 45.33272605022382, 124.48836085326417 45.33272408706783, 124.4884406941328 45.332581362773254, 124.48844080391456 45.332581210648506, 124.48844095245889 45.33258107588809, 124.48844113441781 45.33258096334376, 124.48844134324047 45.332580877067294, 124.48844157140876 45.33258082016488, 124.48844181070804 45.332580794685065, 124.48844205252321 45.33258080154524, 124.48844228814835 45.33258084049838, 124.48844250910028 45.33258091014213, 124.48844280726755 45.33258102923853, 124.48844557349071 45.332581798839925, 124.48844569343444 45.332581822941215, 124.48844864543601 45.33258220044617, 124.48844876974147 45.33258220757969, 124.48845176943665 45.33258217162545, 124.4884518933266 45.33258216151705, 124.48845482543868 45.33258171348532, 124.48845494415241 45.332581686523426, 124.48845769600189 45.33258084363183, 124.48845780497689 45.33258080085267, 124.48846027081188 45.33257959549302, 124.48846036586055 45.33257953854052, 124.48846245092028 45.332578017034166, 124.48846252839007 45.33257794809677, 124.48846415254627 45.33257616891487, 124.48846420946019 45.33257609064156, 124.48846531029812 45.33257412215689, 124.48846534446861 45.33257403755578, 124.48846587968387 45.3325719554156, 124.48846588979755 45.332571867739226, 124.488465838822 45.33256975195901, 124.4884658246293 45.33256966542127, 124.48846515718141 45.33256751201167, 124.48845778599622 45.332551365638956, 124.48845772894043 45.33255116398859, 124.48845773829325 45.33255095846761, 124.48845781356611 45.33255075981316, 124.48847384704925 45.33252208779228, 124.48847463288378 45.332520189490104, 124.48847465517191 45.33252010877666, 124.48847493684323 45.332518141269986, 124.48847493788193 45.33251805904353, 124.48847470595882 45.332516088309276, 124.48847468571341 45.332516007328714, 124.48847394797973 45.332514099505595, 124.48847390712915 45.33251402248806, 124.48847268834336 45.332512241602394, 124.4884726288404 45.332512171815765, 124.48847089663514 45.332510513369485, 124.48836288875687 45.332424513638166, 124.48836068894055 45.33242307474436, 124.48836058962273 45.3324230215399, 124.48835803410827 45.33242191300607, 124.48835792198251 45.332421874490294, 124.4883551089591 45.33242113890502, 124.48835498833476 45.3324211165583, 124.48835202590526 45.332420782189715, 124.48835190141757 45.33242077687072, 124.48834890342636 45.33242085656842, 124.48834877985946 45.3324208684816, 124.4883458615177 45.332421359182824, 124.48834574362026 45.332421387870355, 124.48834301707757 45.33242227071785, 124.48834290938063 45.33242231507719, 124.48834047941689 45.33242355614358, 124.48834038605885 45.33242361446999, 124.48833834605604 45.33242516606201, 124.48833827062467 45.332425236113956, 124.48833669897917 45.33242703860466, 124.48833664437296 45.332427117690415, 124.48833560148236 45.332429101811115, 124.48833556979999 45.33242918689112, 124.4883354357178 45.33242977788429, 124.48833537053883 45.332429951598115, 124.48833525771241 45.332430112709766, 124.48833510173982 45.332430254791404, 124.48833490884383 45.33243037217437, 124.48833468672058 45.33243046017545, 124.4883344442321 45.33243051528364, 124.48833419105289 45.3324305353003, 124.48833393728403 45.33243051942681, 124.48833369305018 45.3324304682965, 124.48833346809566 45.33243038394931, 124.48821087820119 45.33237265949967, 124.4882094873845 45.332372071821474, 124.48806684591979 45.33231830126703, 124.48806662875128 45.33231819788052, 124.48806644611571 45.3323180653762, 124.4880663057196 45.3323179093454, 124.48806621348733 45.33231773637223, 124.48806617331107 45.33231755375573, 124.4880661868859 45.33231736920184, 124.4880662536392 45.332317190498266, 124.48806637075405 45.332317025185844, 124.48806719449117 45.33231611128774, 124.48806725076334 45.332316032785535, 124.48806833549105 45.33231405985645, 124.48806836896914 45.332313975118566, 124.48806888715676 45.33231189083659, 124.48806889655377 45.3323118031199, 124.48806882828802 45.332309687581834, 124.48806881324282 45.332309600257986, 124.48806816114704 45.33230753476285, 124.48806812223776 45.33230745118714, 124.48806691137216 45.332305515111365, 124.48806685009377 45.332305438495226, 124.48806512699082 45.33230370624052, 124.48806504569836 45.33230363952865, 124.48806287657672 45.33230217766504, 124.48806277839395 45.332302123421, 124.48806024661081 45.33230098812651, 124.48806013531203 45.332300948435396, 124.48805733816219 45.33230018333872, 124.48805721802394 45.33230015972548, 124.48805426300066 45.33229979422913, 124.48805413984408 45.33229978766532, 124.48805101565655 45.332299841985396, 124.48802441657536 45.33230212192433, 124.48802415742121 45.332302125424114, 124.48802390261532 45.332302091896935, 124.48802366268092 45.3323020227274, 124.48801845747074 45.332300065436016, 124.48801567674884 45.3322992537874, 124.4880155570396 45.33229922823115, 124.48801260557092 45.33229881608892, 124.48801248108559 45.33229880754598, 124.48800947233569 45.332298810661186, 124.48800934788643 45.33229881946188, 124.4880063981464 45.33229923771401, 124.48800627970172 45.332299263268276, 124.4880033895608 45.33230011841189, 124.48799065267998 45.33230495372676, 124.48799043408445 45.332305019017255, 124.48799020212151 45.332305054605165, 124.48787601628099 45.332314846364845, 124.48787294265799 45.332315335296435, 124.48779996591045 45.33233233165756, 124.48779815313033 45.33233284438079, 124.48773815590367 45.332352845134395, 124.48773653065416 45.332353472481856, 124.48771127271671 45.332364589028224, 124.48766328131013 45.33238669034304, 124.4876630537177 45.33238677346446, 124.48766280715968 45.332386822814215, 124.48766255159137 45.3323868363997, 124.48766229733177 45.33238681367238, 124.48766205464736 45.33238675554991, 124.4876618333369 45.33238666437913, 124.48766164233649 45.33238654384123, 124.48758372547334 45.332326386461446, 124.48758152377692 45.332324986619085, 124.48758142468812 45.33232493495025, 124.48758119031011 45.332324835942906, 124.48758091044215 45.3323246758769, 124.4875188371738 45.332277465221175, 124.4874684361251 45.33223716460198, 124.48740980793946 45.33219443559157, 124.48740975751592 45.3321943966173, 124.48736007754341 45.332153659382236, 124.48730860433858 45.332113288665184, 124.48725277579435 45.33207141726327, 124.4871999194043 45.33202953158259, 124.48714681769232 45.33198944883104, 124.48709490509617 45.33194752025712, 124.48704192329863 45.331905534688566, 124.4869876694103 45.331865336294854, 124.48693383493782 45.33182346502781, 124.48687787382214 45.33177949558672, 124.48682192257657 45.33173752740101, 124.4868218782056 45.33173749232623, 124.48677774355252 45.33170071345746, 124.48677757651306 45.331700534882735, 124.4867765276989 45.33169905676131, 124.48677646284482 45.33169898394847, 124.48677457240473 45.331697264776025, 124.48673875412562 45.33167040056246, 124.48668091530664 45.33162452840286, 124.48662476586445 45.33158041149924, 124.48656773144641 45.33153638504229, 124.48650778969774 45.33149042970871, 124.48645284251512 45.331447471072686, 124.48639776992583 45.331405414327754, 124.48634284631146 45.33136247405405, 124.48629081099921 45.33132344277533, 124.48623803667698 45.33128062587933, 124.48618470353725 45.33123836374719, 124.48612969872016 45.33119636008657, 124.48606670264405 45.33114836308351, 124.48600671618262 45.33110337242547, 124.48594286663622 45.33105348997505, 124.48588084870283 45.33100448229934, 124.48587864758898 45.33100305257877, 124.48587854828894 45.33100299973909, 124.48587599486804 45.33100189946581, 124.48587588288913 45.33100186126508, 124.48587307474372 45.33100113248089, 124.48587295436717 45.331001110379546, 124.4858699988485 45.331000780944834, 124.48586987467561 45.33100077578767, 124.48586688476878 45.33100085829622, 124.48586676154667 45.33100087028043, 124.48586385155107 45.331001361578075, 124.4858637339905 45.33100139024545, 124.48586157867395 45.33100208888603, 124.48586134889702 45.331002145350475, 124.4858611080992 45.33100217000867, 124.4858608650445 45.3310021619632, 124.48586062857899 45.33100212150684, 124.4858604073089 45.33100205011204, 124.48586020928748 45.331001950377264, 124.48584641216088 45.330993489914654, 124.48584391121304 45.33099224190033, 124.48584380042746 45.330992197627545, 124.485840997395 45.33099132601617, 124.48584087632807 45.330991298193695, 124.48583788334095 45.3309908378182, 124.48583775684334 45.33099082756077, 124.48583469382507 45.33099079686755, 124.48583456696531 45.33099080458619, 124.48583155664507 45.33099120480509, 124.48583143450654 45.330991230190484, 124.4858285975017 45.33099204528552, 124.48582848497814 45.33099208732046, 124.48582593496259 45.33099328463233, 124.48582583656234 45.33099334163271, 124.48582367571011 45.33099487318742, 124.48582359537612 45.33099494286913, 124.48582191026853 45.330996747300254, 124.48582185121936 45.33099682687164, 124.48582071875336 45.33099881541203, 124.48582063944909 45.33099904163387, 124.48582055642204 45.33099920712326, 124.48582042941243 45.33099935808904, 124.48582026325629 45.330999488782986, 124.48582006428026 45.33099959422878, 124.48581984006057 45.33099967041145, 124.48581916631554 45.330999844518594, 124.48581905656596 45.33099988162389, 124.48581654988031 45.331000948112504, 124.48581645215499 45.331000999279034, 124.4858142792267 45.331002382916495, 124.48581419710145 45.33100244627197, 124.48581243743807 45.33100409643103, 124.48581237391812 45.331004169657085, 124.48581109190572 45.33100602595839, 124.48581104931546 45.33100610637524, 124.48581029186356 45.331008100896284, 124.48581027195557 45.331008184742274, 124.4858100638409 45.331010330575474, 124.4858120703764 45.331065333273024, 124.48581245808201 45.331067486277014, 124.48581248686949 45.331067574170675, 124.4858134773092 45.331069628920694, 124.48581353044072 45.33106971097533, 124.48581508358554 45.331071584449916, 124.48581515891378 45.33107165734955, 124.48581721198047 45.33107327381674, 124.48581730646013 45.33107333461422, 124.48581977645794 45.331074628731834, 124.48581988627042 45.331074674970054, 124.48582267335516 45.33107559442614, 124.48582279406119 45.33107562423573, 124.48582578557067 45.33107613186322, 124.48582591229075 45.331076144039244, 124.48582898729983 45.331076219318355, 124.48582911491192 45.33107621336863, 124.4858321491195 45.331075853256365, 124.48583227246496 45.3310758294214, 124.48583514321979 45.33107504847453, 124.4858352573128 45.33107500771782, 124.48583784857034 45.33107383750459, 124.48583794879906 45.33107378147351, 124.4858401558137 45.33107226929715, 124.48584023812633 45.33107220025664, 124.485841971684 45.331070407243736, 124.48584203275298 45.331070327985145, 124.48584322277844 45.33106832661436, 124.4858432597737 45.331068241176894, 124.4858438770051 45.33106602278673, 124.485845828248 45.33105158356448, 124.48584587476552 45.33105141401667, 124.48584596635523 45.33105125386206, 124.48584609964205 45.33105110900215, 124.48584626971459 45.33105098477484, 124.4858464703059 45.33105088575778, 124.4858466940244 45.33105081559963, 124.48584693262634 45.33105077688562, 124.48584717731958 45.33105077104234, 124.48584741908728 45.33105079828509, 124.48584764902071 45.33105085761, 124.48584785864712 45.331050946831056, 124.48584804024202 45.331051062660514, 124.48584818711376 45.33105120083024, 124.48587641817497 45.331083882339406, 124.48587813822729 45.331085513873006, 124.48588618925226 45.3310918826027, 124.48588634084894 45.331092030284786, 124.48588644711656 45.331092196493564, 124.48588650369018 45.33109237440199, 124.48588650824611 45.33109255670237, 124.48588646059713 45.33109273590666, 124.4858863627004 45.33109290465394, 124.48588621857711 45.33109305601288, 124.48588603414719 45.33109318376633, 124.48588581698623 45.331093282666735, 124.48588557601407 45.33109334865176, 124.48588532112889 45.331093379011044, 124.48588506280011 45.33109337249754, 124.48588481163868 45.331093329378795, 124.48588388473874 45.331093097917844, 124.48588376397399 45.331093076861656, 124.48588080263879 45.331092773111045, 124.48588067837322 45.33109276903395, 124.48587768984923 45.331092877572615, 124.48587756683472 45.33109289063054, 124.48587466539017 45.33109340730844, 124.48587454832982 45.33109343700213, 124.48587184490395 45.33109434206357, 124.48587173827363 45.33109438725776, 124.48586933623325 45.33109564609727, 124.48586924411084 45.33109570506354, 124.48586723530002 45.33109726954851, 124.48586716120717 45.33109734003264, 124.4858656224345 45.33109915034348, 124.48586556920436 45.33109922965025, 124.48586455930565 45.331101216568875, 124.4858645289735 45.33110130166624, 124.48586409818306 45.33110333439228, 124.4858640351403 45.33110350935342, 124.48586392384341 45.33110367191409, 124.48586376877398 45.33110381552862, 124.48586357617607 45.33110393441421, 124.48586335380482 45.3311040237838, 124.48586311061419 45.331104080038834, 124.48586285639655 45.33110410091413, 124.48586260138835 45.331104085569145, 124.4858605176808 45.33110380959861, 124.48586039875505 45.33110380189112, 124.48585752643652 45.33110380666553, 124.48585740756347 45.3311038147683, 124.48585632637884 45.33110396168699, 124.48585607775733 45.331103977915994, 124.48585582941725 45.33110395966879, 124.48585559087586 45.331103907644675, 124.48585537127467 45.331103823837374, 124.48585517902968 45.33110371145866, 124.48585502150827 45.33110357481525, 124.48585429534438 45.33110280091035, 124.48585248120825 45.33110120337483, 124.4858523972795 45.33110114234883, 124.485850190592 45.33109981602106, 124.48585009185267 45.331099767254535, 124.4858475701407 45.331098758265725, 124.48584746013367 45.33109872350862, 124.4858447138971 45.331098068069494, 124.4858445965717 45.33109804856957, 124.4858417243681 45.33109777020277, 124.48584160393412 45.33109776665965, 124.48583870884273 45.331097875355354, 124.48583858962223 45.331097887896256, 124.48583577554338 45.33109837975349, 124.48583566181527 45.33109840792837, 124.48583302974114 45.33109926529521, 124.48583292558683 45.33109930809296, 124.48583056997897 45.33110050019968, 124.48583047913637 45.331100556084365, 124.48582848453279 45.33110204014872, 124.48582841026268 45.33110210711438, 124.48582684824709 45.331103829875154, 124.48582679321412 45.33110390551911, 124.48582571984488 45.331105805149406, 124.48582568635207 45.331105885966, 124.48582512280451 45.33110797871254, 124.48582285896309 45.33112479579473, 124.48582281903958 45.33112494924949, 124.48582274212868 45.33112509553139, 124.48582200282448 45.3311261976149, 124.48582195996225 45.3311262827973, 124.48582122666511 45.33112839501253, 124.48582120887816 45.33112848452595, 124.48582109067233 45.331130657549984, 124.48582109868259 45.331130747760234, 124.48582159888069 45.3311328870481, 124.48582166092893 45.33113304004317, 124.48582170471441 45.33113320476831, 124.48582170442278 45.331133372363496, 124.48581812855137 45.33115998064688, 124.48581813569075 45.33116207315224, 124.48581814793911 45.331162159710196, 124.48581872727624 45.331164211860504, 124.48581876296988 45.3311642951247, 124.48581989273667 45.33116622988213, 124.48581995053503 45.33116630672538, 124.48582158827978 45.33116805139046, 124.48582166601058 45.33116811892442, 124.4858237501953 45.33116960794164, 124.48582384493773 45.33116966362887, 124.4858262972489 45.33117084104815, 124.48582640544322 45.33117088279621, 124.48582913373471 45.33117170437566, 124.48582925131531 45.33117173061595, 124.48583215307109 45.33117216548459, 124.48583227562054 45.33117217523114, 124.48583524180651 45.33117220704872, 124.48583536471911 45.33117219993523, 124.48583828388055 45.33117182750624, 124.48583840253843 45.331171803799975, 124.48583972772765 45.33117143792995), (124.48768883896682 45.33240375464272, 124.48768858911355 45.332403737212864, 124.48768834894176 45.332403685598685, 124.48768812775792 45.33240360180018, 124.48768793413275 45.33240348906447, 124.48768777556893 45.33240335175989, 124.48768765821069 45.332403195206915, 124.48768758660543 45.332403025471784, 124.48768756352794 45.332402849131554, 124.48768758987238 45.332402673019224, 124.48768766461792 45.33240250395896, 124.48768778486829 45.33240234850169, 124.4876879459638 45.33240221267119, 124.48768814166232 45.33240210173079, 124.48772856724742 45.332383484672135, 124.48775258817327 45.332372915237485, 124.48775271827121 45.33237286515336, 124.48781085684182 45.33235348562895, 124.48781100193817 45.33235344473018, 124.48788137477356 45.332337056535366, 124.48788162079127 45.33233701774774, 124.48790664373556 45.332334872940386, 124.48790689550559 45.33233486902467, 124.48790714345903 45.33233490007631, 124.48790737792957 45.33233496488484, 124.48790758977684 45.33233506092375, 124.48790777074213 45.33233518444914, 124.48790791377081 45.33233533064548, 124.48790801328713 45.33233549381354, 124.48790806541146 45.33233566759242, 124.48790806811203 45.3323358452076, 124.48790802128332 45.33233601973496, 124.487907926751 45.332336184370824, 124.48790778820032 45.33233633269707, 124.4879076110324 45.332336458931366, 124.48790740215395 45.33233655815268, 124.48778738850244 45.332382124694, 124.4877845736664 45.33238349244058, 124.48775055630851 45.332404056655854, 124.48775034909848 45.33240415866601, 124.4877501174429 45.33240422986137, 124.48774987043436 45.33240426744754, 124.48774961776803 45.332404269949215, 124.48774936936101 45.332404237268214, 124.48774805462999 45.33240396696688, 124.48774793777666 45.33240395119401, 124.4877449408146 45.33240375462841, 124.48768883896682 45.33240375464272), (124.48768117054591 45.332446001746, 124.48768095911196 45.33244610541554, 124.48768072246511 45.332446177018234, 124.48768047025075 45.33244621363562, 124.48768021274881 45.33244621377524, 124.48767996045493 45.332446177431414, 124.48767972365219 45.332446106085435, 124.48767951199261 45.33244600264533, 124.48767933410295 45.33244587132716, 124.48767919723404 45.33244571748336, 124.48767910696426 45.3324455473844, 124.4876790669732 45.33244536796334, 124.4876790788906 45.3324451865332, 124.48768290491611 45.332427012875925, 124.48768296874093 45.332426835895674, 124.4876830819216 45.33242667165265, 124.48768323979424 45.33242652691448, 124.48768343585397 45.332426407645144, 124.48768366202204 45.3324263187591, 124.48768390897916 45.33242626391892, 124.48768416654943 45.3324262453843, 124.48770806970607 45.33242624538242, 124.48770830944322 45.33242626141683, 124.48770854063454 45.332426308948534, 124.4877087550388 45.33242638628322, 124.4877089450132 45.332426490664105, 124.48770910378569 45.33242661837039, 124.48770922569659 45.33242676484976, 124.48770930640025 45.33242692488067, 124.4877093430197 45.332427092758564, 124.48770933424974 45.33242726249912, 124.48770928040285 45.33242742805164, 124.48770918339851 45.33242758351473, 124.48770904669476 45.33242772334662, 124.48770306625272 45.332432749465895, 124.48770291928604 45.332432854205905, 124.48768117054591 45.332446001746), (124.48764935135286 45.332426245378066, 124.48764959337856 45.33242626172303, 124.48764982660974 45.33242631016383, 124.48765004257153 45.332426388940284, 124.48765023341662 45.33242649518989, 124.48765039221018 45.33242662505187, 124.4876505131821 45.332426773807434, 124.48765059193683 45.332426936051284, 124.48765062561253 45.33242710588796, 124.48765061298545 45.33242727714613, 124.48764170997634 45.332469566389804, 124.4876416565856 45.33246972246055, 124.4876415647139 45.33246986935221, 124.48764143728714 45.332470002386465, 124.48764127836375 45.33247011732635, 124.48763390755748 45.33247457311467, 124.48763369395441 45.3324746776306, 124.48763345474326 45.332474749427355, 124.4876331998617 45.33247478552228, 124.48763293989828 45.33247478441587, 124.48763268565276 45.3324747461541, 124.48763244768742 45.33247467232647, 124.48763223588806 45.33247456600004, 124.48763205905358 45.332474431591976, 124.48763192453022 45.332474274686, 124.48763183790663 45.33247410180056, 124.48763180278137 45.332473920117835, 124.48763182061359 45.332473737185566, 124.48763477436461 45.33246165364745, 124.48763484034072 45.332461484460744, 124.48763495162433 45.33246132752549, 124.48763510398176 45.33246118881204, 124.48763529161681 45.33246107359749, 124.48763640857237 45.33246051278772, 124.4876365014754 45.33246045583336, 124.48763853781627 45.332458939791906, 124.48763861343234 45.332458871284935, 124.48764019777508 45.332457107042764, 124.4876402532734 45.33245702954758, 124.48764132631804 45.33245508313863, 124.48764135962077 45.33245499955683, 124.48764188120319 45.332452943834575, 124.4876418910643 45.33245285729358, 124.48764184166198 45.33245076920329, 124.48764182771238 45.33245068294218, 124.48764120917454 45.33244864064009, 124.48764117193613 45.33244855788761, 124.48764000741454 45.3324466378159, 124.48763994828155 45.33244656167033, 124.48763905385546 45.33244563555623, 124.4876389361089 45.33244548421911, 124.48763886151177 45.33244531980532, 124.48763883281083 45.332445148368706, 124.48763885106278 45.332444976221694, 124.48764324715985 45.3324269921521, 124.48764331527258 45.332426819061595, 124.48764343078338 45.33242665896659, 124.48764358908699 45.33242651825013, 124.48764378387163 45.332426402522614, 124.48764400737136 45.332426316398134, 124.48764425067489 45.332426263310516, 124.48764450408194 45.332426245376354, 124.48764935135286 45.332426245378066), (124.48761004609088 45.33241788627503, 124.48760985106725 45.3324180045477, 124.48760962636753 45.3324180928185, 124.48760938112869 45.33241814749801, 124.48760912532295 45.33241816636278, 124.48760886935244 45.332418148645665, 124.4876086236256 45.33241809506715, 124.48760839813453 45.3324180078059, 124.48760820204866 45.33241789041027, 124.48760804334137 45.33241774765396, 124.48760792846633 45.332417585341936, 124.48760786209469 45.33241741007436, 124.487607450543 45.332415611444276, 124.4876074346675 45.332415445082916, 124.4876074625913 45.332415279512475, 124.48760753335517 45.33241512042048, 124.48760764452835 45.332414973271916, 124.4876077922919 45.33241484312149, 124.48760797156997 45.33241473444003, 124.48760838191582 45.33241452904844, 124.48760847425989 45.332414472692484, 124.48761050075727 45.33241297306957, 124.48761057613659 45.33241290530911, 124.48761215914816 45.33241116024599, 124.48761221478641 45.332411083576936, 124.48761329600359 45.33240915735096, 124.4876133298516 45.332409074597145, 124.4876138694489 45.332407038159076, 124.48761388026028 45.33240695236817, 124.48761385836218 45.33240488072795, 124.4876138457384 45.33240479505962, 124.4876132631518 45.33240276452309, 124.48761322790256 45.3324026829319, 124.48761205410952 45.33240069003172, 124.48760063259405 45.33238551352801, 124.48760055007779 45.33238537813951, 124.48760050000632 45.33238523506554, 124.48759769151683 45.33237296093226, 124.48759767609747 45.33237278429876, 124.48759770999919 45.3323726089537, 124.48759779191029 45.33237244168219, 124.48759791866097 45.33237228895687, 124.48759808534673 45.33237215668756, 124.4875982855174 45.332372049992514, 124.48759851142732 45.33237197300036, 124.48759875433477 45.33237192869036, 124.48759900484019 45.33237191877711, 124.48759925325024 45.33237194364421, 124.48759948995253 45.332372002329414, 124.48759970578763 45.33237209256187, 124.48759989240374 45.33237221084996, 124.4876344170155 45.332398869080436, 124.48763457020101 45.332399014381046, 124.48763467903179 45.33239917837499, 124.48763473909888 45.33239935441882, 124.48763474796898 45.3323995353809, 124.48763470528283 45.33239971393042, 124.48763461276961 45.33239988283425, 124.4876344741771 45.33240003525003, 124.48763429511968 45.33240016500335, 124.48763239162362 45.332401291497355, 124.4876293036657 45.33240358475183, 124.48762913374645 45.33240369034951, 124.48762894002836 45.332403773086774, 124.48762872861833 45.33240383035527, 124.48762850618147 45.332403860349544, 124.48762689593616 45.33240397430988, 124.4876267714477 45.332403992109754, 124.48762385210969 45.332404629094334, 124.48762373511647 45.33240466398456, 124.48762105340151 45.33240569736981, 124.48762094856829 45.332405747959285, 124.48761861139623 45.332407136544155, 124.48761852290343 45.33240720081542, 124.48761662345858 45.33240888923642, 124.48761655483344 45.33240896462777, 124.48761516884734 45.3324108855668, 124.4876151232722 45.332410968262955, 124.48761427785158 45.332413132833274, 124.48761386250285 45.33241483198772, 124.48761379609564 45.33241500196636, 124.48761368396057 45.33241515954494, 124.48761353040483 45.33241529867082, 124.48761004609088 45.33241788627503), (124.48758869820905 45.33249434502922, 124.48758845183214 45.33249438727252, 124.48758819847649 45.33249439430671, 124.48758794815416 45.332494365853826, 124.48758771075744 45.33249430303828, 124.48758749566763 45.33249420834238, 124.4875873113848 45.33249408550833, 124.48758716519137 45.33249393939028, 124.48758706286452 45.33249377576252, 124.48758700844816 45.332493601091265, 124.4875870040925 45.33249342227921, 124.4875870499699 45.332493246392566, 124.48758714426715 45.33249308038206, 124.48758774282385 45.33249227067443, 124.48758778812008 45.33249219203896, 124.48758861913892 45.332490236514985, 124.48758864263523 45.332490153269816, 124.48758893680585 45.33248812236168, 124.4875889376615 45.33248803748523, 124.48758868446275 45.33248600383217, 124.48758866264687 45.332485920359574, 124.48758787113482 45.33248395669899, 124.48758782742819 45.33248387761689, 124.48758652591233 45.332482054182265, 124.48758646187831 45.33248198231875, 124.48758469691029 45.33248036432936, 124.48758461483821 45.332480302253956, 124.48758244954614 45.332478947580626, 124.48758235331307 45.33247889799895, 124.4875797586508 45.33247781496674, 124.48757766276844 45.33247711633968, 124.48757743922269 45.332477020948, 124.48757724792524 45.33247689542882, 124.48757709690328 45.3324767450491, 124.4875769924939 45.332476576118985, 124.48757693907822 45.33247639572701, 124.48757693889753 45.33247621144265, 124.48757699195961 45.33247603099875, 124.48757709603782 45.33247586196699, 124.48757724676486 45.33247571144012, 124.48758868270698 45.332466468666986, 124.48758886694178 45.33246634662716, 124.48758908167686 45.332466252606764, 124.48758931848039 45.33246619029764, 124.48758956805389 45.33246616214649, 124.4875898205973 45.33246616925874, 124.48759006619414 45.33246621135508, 124.48759029520065 45.332466286782555, 124.48759049862434 45.33246639257935, 124.48759145851277 45.3324670041084, 124.48759155709928 45.33246705566577, 124.48759408700082 45.332468128713614, 124.48759419778699 45.332468165960925, 124.48759697271231 45.33246887644303, 124.48759709157613 45.33246889799454, 124.48759927295205 45.33246913842713, 124.4875995173687 45.33246918321364, 124.48759974448473 45.332469261087205, 124.48759994539724 45.33246936899517, 124.48760011223041 45.33246950270754, 124.48760023844443 45.332469656982774, 124.48760031909158 45.33246982577327, 124.48760035101063 45.33247000246248, 124.48760033295018 45.33247018012411, 124.48759492276808 45.33249231264489, 124.48759484883436 45.33249249610642, 124.48759472172813 45.33249266445138, 124.48759454716267 45.33249281011308, 124.48759433298412 45.33249292654439, 124.48759408881935 45.332493008512024, 124.48758869820905 45.33249434502922), (124.48756388760073 45.33245230328193, 124.48756370809176 45.332452422673605, 124.48756349935087 45.33245251545377, 124.48756326918924 45.33245257815055, 124.48756302621949 45.33245260841789, 124.48756277953365 45.33245260512313, 124.48756253836268 45.332452568389556, 124.48756231173124 45.33245249959178, 124.48756210811993 45.33245240130418, 124.48756193514794 45.33245227720474, 124.48756179928786 45.33245213193725, 124.48756170562365 45.33245197093765, 124.48754655609251 45.332416489146816, 124.48754650718276 45.33241631142398, 124.48754650971215 45.332416130392716, 124.48754656357804 45.33241595338425, 124.48754666659916 45.33241578756686, 124.48754681460342 45.332415639655665, 124.48754700159712 45.33241551564058, 124.48754722000763 45.332415420543846, 124.48754746098989 45.33241535821661, 124.48754771478501 45.33241533118287, 124.48754797111495 45.33241534053747, 124.48754821959928 45.33241538590152, 124.48754845017498 45.33241546543797, 124.48754865350456 45.332415575925836, 124.48757959711565 45.33243620499805, 124.48757977675189 45.332436354014874, 124.48757990647901 45.3324365268946, 124.48757998016414 45.332436715464596, 124.48758056387086 45.33243926647909, 124.48758057979927 45.33243943133199, 124.4875805527123 45.33243959545904, 124.48758048352387 45.332439753323435, 124.48758037456795 45.33243989959966, 124.4875802295202 45.33244002935313, 124.48756600607301 45.332450592293014, 124.48756388760073 45.33245230328193), (124.48754143506055 45.33253116381955, 124.48754130432248 45.332531020321625, 124.48754121433488 45.332530861997746, 124.48754116833285 45.33253069453954, 124.48754116796995 45.33253052396705, 124.48754121325942 45.33253035641224, 124.48754130257295 45.332530197898606, 124.48754143269997 45.3325300541246, 124.48754159896234 45.33252993025884, 124.48754179538314 45.33252983075418, 124.48754201490102 45.332529759187786, 124.48755702072185 45.33252603873838, 124.48755727157398 45.33252599605957, 124.48755752947123 45.33252598986705, 124.48755778385767 45.332526020414285, 124.48755802432072 45.33252608645095, 124.48755824101794 45.332526185274034, 124.48755842507967 45.3325263128386, 124.48755856897198 45.33252646392324, 124.48755866680506 45.33252663234386, 124.48755871457449 45.33252681120673, 124.48755871032513 45.33252699319076, 124.4875586542308 45.332527170847094, 124.48755854858754 45.33252733690399, 124.48755839771948 45.33252748456453, 124.48755711003628 45.332528508070894, 124.48754737454922 45.3325361342085, 124.48754719073287 45.332536252595006, 124.48754697781695 45.332536343545186, 124.48754674391067 45.33253640359505, 124.48754649792298 45.33253643045745, 124.48754624922265 45.33253642310933, 124.48754600728184 45.33253638183052, 124.48754578131529 45.332536308193234, 124.48754557992937 45.33253620500202, 124.4875454107943 45.33253607618716, 124.48754528035185 45.33253592665479, 124.48754519356999 45.332535762100086, 124.48754494154149 45.332535089485006, 124.48754489645283 45.33253500482394, 124.48754352616487 45.3325330554727, 124.48754345925249 45.332532980402625, 124.48754143506055 45.33253116381955), (124.48754348904089 45.33250555392035, 124.48754323899176 45.33250559652181, 124.48754298190877 45.332505602867755, 124.48754272824904 45.33250557270007, 124.48754248833045 45.332505507245855, 124.48754227191183 45.33250540916751, 124.48754208779648 45.33250528245449, 124.48754194347322 45.33250513226098, 124.48754184481272 45.332504964696255, 124.48754179582807 45.33250478657619, 124.48754179851164 45.33250460514599, 124.48754185275448 45.33250442778556, 124.48754195635011 45.33250426170919, 124.48754210508457 45.3325041136722, 124.48754746260575 45.332499783615425, 124.48754765363493 45.33249965792174, 124.48754787696556 45.33249956231718, 124.48754812322841 45.3324995008126, 124.48754838209211 45.332499475988335, 124.48754864269665 45.332499488885766, 124.48754889410903 45.332499538963816, 124.48754912578197 45.33249962412162, 124.48754932799618 45.33249974078654, 124.48754949226827 45.332499884064255, 124.48755049388711 45.33250096846085, 124.48755056905121 45.33250103505056, 124.48755201204635 45.33250209023668, 124.48755216967403 45.33250223133572, 124.48755228441351 45.332502391711294, 124.48755235169004 45.33250256496891, 124.48755236882096 45.332502744200376, 124.48755233512334 45.33250292225935, 124.4875522519408 45.33250309204623, 124.48755212258983 45.33250324679124, 124.48755195222817 45.33250338032435, 124.48755174764838 45.3325034873213, 124.48755151700757 45.332503563515864, 124.48754348904089 45.33250555392035), (124.48745753409203 45.33243694895102, 124.48745745413804 45.332436780461556, 124.48745742269128 45.33243660417472, 124.48745744097855 45.332436426966815, 124.48745750828645 45.33243625575003, 124.48745762198949 45.33243609720289, 124.48745777765274 45.33243595750971, 124.4874579692042 45.33243584211937, 124.48745818917232 45.33243575553283, 124.48745842897678 45.33243570112749, 124.48745867926382 45.33243568102551, 124.48745893027085 45.33243569601096, 124.48745917220684 45.332435745499346, 124.48745939563489 45.33243582756029, 124.48745959183984 45.33243593899293, 124.4875257706734 45.33248182299301, 124.4875259255985 45.33248195285688, 124.48752604318656 45.33248210093309, 124.48752611925238 45.33248226195139, 124.48752615108862 45.332482430180875, 124.48752613756217 45.332482599634034, 124.48752607915452 45.33248276427975, 124.48752597794446 45.33248291825807, 124.48752583753414 45.33248305608863, 124.48750141741007 45.3325027928856, 124.48750123142064 45.33250291587353, 124.48750101446785 45.33250301031436, 124.48750077521957 45.33250307243488, 124.4875005232346 45.33250309975318, 124.48750026858058 45.33250309117782, 124.48750002143157 45.332503047051404, 124.48749979166209 45.33250296913692, 124.48749958845205 45.33250286054729, 124.48749941992038 45.33250272562101, 124.48749929280041 45.332502569748826, 124.48745753409203 45.33243694895102), (124.48748936180797 45.332546741805096, 124.48748953635582 45.33254662506397, 124.48748973887474 45.332546533513835, 124.48748996216186 45.33254647041083, 124.48749019827547 45.33254643799938, 124.48749043881779 45.33254643743225, 124.4874906752334 45.33254646872962, 124.48749089911361 45.332546530778316, 124.48749110249577 45.33254662137147, 124.48749127814612 45.33254673728694, 124.48749141981739 45.33254687440195, 124.48749154890164 45.332547027909996, 124.48749327989283 45.33254861810281, 124.487493360776 45.332548679547045, 124.48749549324715 45.332550022694384, 124.487495588922 45.33255007245602, 124.48749803836513 45.332551112415885, 124.48749814549217 45.33255114875787, 124.48750082642727 45.33255184923811, 124.48750094126817 45.33255187089235, 124.4875037601373 45.33255220744789, 124.48750387753692 45.3325522135986, 124.48750685497643 45.33255216907385, 124.48752584243512 45.33255065007761, 124.48752609885997 45.332550647863755, 124.48752635072968 45.33255068187481, 124.48752658786269 45.33255075073592, 124.48752680067292 45.332550851663356, 124.48752698055763 45.33255098057722, 124.48752712024512 45.33255113226621, 124.48752721408846 45.33255130059839, 124.48752725829421 45.33255147876897, 124.48752725107529 45.33255165957551, 124.4875271927236 45.332551835709005, 124.48752708559783 45.33255200004931, 124.48752693402865 45.33255214595308, 124.48749879269262 45.33257418998377, 124.48749859400101 45.3325743161011, 124.48749836240654 45.33257441024067, 124.48749810808084 45.332574468267836, 124.48749784219378 45.33257448763408, 124.48749757642317 45.332574467488826, 124.4874973224414 45.332574408716866, 124.4874685780418 45.33256530632792, 124.48746837120925 45.33256522370618, 124.48746818970386 45.3325651154499, 124.48746803982934 45.33256498531891, 124.48746792679097 45.3325648378328, 124.48746785451476 45.3325646781139, 124.4874678255109 45.332564511709414, 124.48746784078678 45.33256434439874, 124.48746789981172 45.33256418199273, 124.48746800053587 45.33256403013189, 124.48746813946094 45.332563894090526, 124.48748936180797 45.332546741805096), (124.48588262534257 45.33104784521206, 124.48588251418383 45.33104768119507, 124.48588245204361 45.331047504764, 124.48588244145914 45.331047323123364, 124.48588248286289 45.331047143690434, 124.48588257456399 45.331046973792326, 124.48588271281797 45.33104682036683, 124.48588289197907 45.33104668967903, 124.48588310473144 45.33104658706553, 124.4858833423873 45.331046516716576, 124.485883595242 45.33104648150482, 124.48588385297026 45.33104648286816, 124.48588410504769 45.331046520750895, 124.48588434118098 45.33104659360611, 124.4858845517275 45.33104669845874, 124.48591162716198 45.331063312914466, 124.4859117458934 45.33106339602781, 124.48591306397248 45.33106444843493, 124.48591532924564 45.331065934612255, 124.4859154316976 45.331065989324024, 124.48591639206634 45.33106640170824, 124.48591654511728 45.331066478887514, 124.48591668040639 45.331066571108266, 124.48591916891526 45.33106853779765, 124.48598315778737 45.33111852911182, 124.48604334403674 45.33116367251831, 124.48616118375728 45.331253550284984, 124.48621403413198 45.33129543156745, 124.48626695192853 45.33133836488127, 124.48631928185145 45.33137762614412, 124.48637415751166 45.33142052893973, 124.4864292300545 45.331462585661555, 124.48648425261115 45.331505602712156, 124.48660118773532 45.33159555282159, 124.48665711328694 45.33163949427292, 124.486715074927 45.3316854638569, 124.48674763402023 45.33170988938532, 124.48674776714613 45.33171000778275, 124.48674787029825 45.331710140226676, 124.48674808436479 45.33171047992596, 124.48674814285908 45.3317105531744, 124.48674986907038 45.331712297061834, 124.48679781999026 45.331752256168635, 124.48679839744939 45.33175271261849, 124.48685426932296 45.331794616882576, 124.48691013386903 45.331838510461296, 124.48696417954629 45.33188054622519, 124.4870182833413 45.3319206290622, 124.4870710368098 45.33196243370407, 124.48712297716354 45.33200438547424, 124.48717622982709 45.33204458667322, 124.48722939786725 45.33208671298113, 124.48728525445205 45.332128605425964, 124.48733603693319 45.33216843482247, 124.48738590084912 45.332209323240356, 124.4873865563925 45.33220982993673, 124.48744526534388 45.33225261782284, 124.48745920128087 45.33226376362269, 124.48745933552487 45.33226389249375, 124.48745943529845 45.3322640360936, 124.48745949744882 45.33226418988475, 124.4874595200124 45.33226434900769, 124.48745950227604 45.332264508434456, 124.48745910722548 45.33226615834225, 124.48745909854185 45.33226624433289, 124.48745917229652 45.33226831729511, 124.48745918708457 45.332268402871094, 124.48745982144162 45.332270427637766, 124.48745985915569 45.33227050964017, 124.48746103070663 45.33227241149387, 124.48746108938069 45.33227248616598, 124.48746282896802 45.3322742638641, 124.48751162066021 45.33231524889362, 124.48751177046373 45.33231540560297, 124.48752044759155 45.33232693550858, 124.48752054145079 45.33232709592595, 124.4875205898956 45.33232726606968, 124.48752059112329 45.33232743960849, 124.48752054508806 45.33232761008473, 124.48752045350301 45.33232777115475, 124.48752031977625 45.3323279168249, 124.48752014888382 45.33232804167458, 124.48751994718492 45.33232814105795, 124.48751972218501 45.332328211276824, 124.48751948225674 45.332328249718245, 124.48751923632823 45.33232825495177, 124.48751899355065 45.33232822678262, 124.4875187629582 45.33232816625905, 124.48751855313157 45.33232807563319, 124.48751837187872 45.3323279582774, 124.4874808583036 45.33229848343357, 124.48741278655042 45.33224642694266, 124.48734255250584 45.332191250028416, 124.48726869385033 45.33213635466398, 124.48712184182206 45.33202147044176, 124.48705392033622 45.33196853134574, 124.4869847004917 45.3319123613162, 124.48691271443401 45.33185737197489, 124.48684185138359 45.33180347541071, 124.48677304121149 45.331747629483, 124.48670378475974 45.33169342608347, 124.48657078946795 45.33159042974562, 124.48650676982186 45.33154141436828, 124.48643857879222 45.33148826967569, 124.4863677920331 45.33143542886349, 124.48630281555184 45.33138345003514, 124.4862348408123 45.331330469721046, 124.48616486597963 45.33127548950407, 124.486101785943 45.33122642707204, 124.48596884803875 45.331123475177286, 124.4859029397258 45.33107133883518, 124.48590280243612 45.331071208135874, 124.48588262534257 45.33104784521206), (124.48744467671902 45.33253751298517, 124.48744444699523 45.332537447979405, 124.48744423939823 45.33253735290165, 124.48744406174649 45.332537231332616, 124.48744392073031 45.332537087850696, 124.48744382166053 45.332536927859465, 124.4874437682681 45.33253675738431, 124.48744376256393 45.332536582845435, 124.48744489836827 45.33252579676463, 124.4874448593019 45.33252388117421, 124.48744484766266 45.332523801931565, 124.48744432918964 45.332521921520375, 124.48744429817745 45.33252184571621, 124.48744327121163 45.33251998635981, 124.48742903187835 45.332499644491016, 124.48742894169885 45.33249947416269, 124.4874289019162 45.33249929452368, 124.48742891415539 45.33249911291142, 124.48742897791644 45.33249893674393, 124.4874290905951 45.33249877321684, 124.48742924758888 45.33249862900946, 124.48742944248534 45.332498510012016, 124.48742966732381 45.332498421084985, 124.4874299129208 45.33249836586064, 124.48743016924472 45.3324983465946, 124.48743042582598 45.33249836407384, 124.48743067218432 45.332498417584404, 124.48743089825733 45.33249850494062, 124.48743109481069 45.33249862257442, 124.487454538285 45.332515814249845, 124.48745602430414 45.332516772185535, 124.48747148476555 45.33252556343472, 124.48747166708021 45.33252569042113, 124.48747180973163 45.332525840547255, 124.48747190696278 45.33252600775462, 124.48747195484998 45.33252618529539, 124.48747195146062 45.332526366004686, 124.4874718969314 45.33252654258982, 124.48747179346304 45.33252670792442, 124.487471645231 45.33252685533634, 124.48746837788067 45.33252949607243, 124.48746815452334 45.332529638474476, 124.48744970073088 45.33253886536963, 124.48744949571868 45.33253894887959, 124.48744927235659 45.332539004226724, 124.48744903834009 45.33253902950418, 124.48744880173145 45.332539023841136, 124.48744857068257 45.33253898743264, 124.48744835315362 45.33253892153311, 124.48744815663912 45.33253882841288, 124.4874478462878 45.332538649759215, 124.48744774031428 45.33253860030914, 124.48744503513684 45.332537596197064, 124.48744491734416 45.3325375625892, 124.48744467671902 45.33253751298517), (124.4874383312232 45.33258793386326, 124.48743838532428 45.33258773341296, 124.48743850207734 45.33258754671805, 124.48743867547589 45.332587383383114, 124.48744399584929 45.332583406379456, 124.48744447079852 45.33258302351667, 124.48744466935062 45.33258289414182, 124.48744490209792 45.33258279718493, 124.48744515858675 45.33258273700071, 124.48744542729725 45.332582716292315, 124.48744569616046 45.33258273598981, 124.4874459531007 45.3325827952085, 124.48745959640493 45.33258711558925, 124.4874598154546 45.33258720429134, 124.48746000542717 45.33258732170014, 124.48746015887262 45.332587463211325, 124.48746026977332 45.332587623275295, 124.48746033378028 45.33258779561496, 124.4874603483833 45.33258797347177, 124.48746031300976 45.33258814987082, 124.4874602290467 45.33258831789437, 124.48746009978709 45.332588470953155, 124.48745993029983 45.332588603044776, 124.48745972723177 45.33258870898905, 124.4874558042105 45.33259035892958, 124.48745333009866 45.33259164402937, 124.48743919630324 45.332600554469636, 124.48743899275595 45.33260065924485, 124.48743876397698 45.33260073375, 124.48743851889581 45.33260077507702, 124.48743826707845 45.33260078161286, 124.48743801835374 45.33260075310238, 124.48743778242998 45.33260069065843, 124.48743756851556 45.33260059671828, 124.4874373849599 45.3326004749486, 124.48743723892763 45.332600330102245, 124.48743713611859 45.33260016783286, 124.48743708054552 45.332599994474066, 124.48743707437765 45.33259981679239, 124.4874383312232 45.33258793386326), (124.48742511271547 45.33233927991273, 124.48742510808223 45.332339451746186, 124.48742505720547 45.3323396198226, 124.487424961942 45.3323397780078, 124.48742482576843 45.33233992052871, 124.4874246536546 45.3323400421839, 124.48742445188205 45.3323401385334, 124.48742422781464 45.33234020606086, 124.48742398962978 45.33234024230182, 124.48742374602044 45.33234024593362, 124.48742350587736 45.33234021682371, 124.48742327796465 45.33234015603446, 124.48742307060034 45.33234006578448, 124.48742289135234 45.332339949367515, 124.48741083808801 45.332330467472225, 124.4873328431653 45.3322694714525, 124.4872638168903 45.33221645055926, 124.48719788550387 45.332164504734315, 124.48713868936976 45.33211935282977, 124.487067735619 45.332065387958195, 124.48699684200164 45.332010470297725, 124.48692490630839 45.331953521216306, 124.48685584793482 45.3318994752443, 124.48678783976409 45.33184746742756, 124.48671688566289 45.33179050492177, 124.48664089234317 45.331730510205226, 124.48656881777069 45.33167445171526, 124.48649667457565 45.33162034141509, 124.48643278629258 45.33157142692699, 124.48636786603728 45.33152048950384, 124.48632768081202 45.33149034599587, 124.48625385149472 45.331433477240466, 124.48617896457264 45.33137356771235, 124.48610682769979 45.33131745949327, 124.48603784871625 45.33126347595582, 124.48597094823684 45.33121255001343, 124.48593309474388 45.331181103826744, 124.48590718979898 45.331157555293395, 124.4859070588839 45.331157409196976, 124.48590696999278 45.33115724813862, 124.4859069264063 45.33115707806265, 124.4859069297332 45.331156905246296, 124.48590697985085 45.33115673606784, 124.48590707490938 45.33115657677135, 124.48590721140026 45.331156433236146, 124.48590738428608 45.331156310759866, 124.48590758718572 45.33115621386285, 124.48590781261078 45.331156146121415, 124.48590805224117 45.331156110035735, 124.48590829723244 45.3311561069377, 124.4859085385425 45.3311561369416, 124.4859087672652 45.331156198940114, 124.48590897495865 45.33115629064495, 124.48596188675678 45.33118498854402, 124.48596205604737 45.331185098896796, 124.48596519791536 45.33118755388653, 124.48596746833682 45.33118900877062, 124.48596757079488 45.33118906225538, 124.48596954967276 45.33118989280976, 124.48596970487694 45.33118996950544, 124.48596984225705 45.33119006157503, 124.4860231584937 45.33123152977802, 124.4860891430886 45.33128351761465, 124.48616811963778 45.331345499219935, 124.4862352476202 45.33139859885905, 124.48630924013057 45.33145559309873, 124.4863812281229 45.33151058408846, 124.48644927236913 45.331563617882146, 124.48658620809962 45.33166856864056, 124.486655236857 45.33172259061709, 124.48672510869707 45.33177649218233, 124.48679412175962 45.33183250093396, 124.48686511322536 45.331888494211604, 124.48693317371064 45.33194154167886, 124.48700020031225 45.33199256346883, 124.48706806554456 45.33204645645595, 124.48713027336379 45.33209262149652, 124.48719807311195 45.33214646248138, 124.48726320636348 45.33219656729202, 124.48733215653134 45.33225052830146, 124.48739616181369 45.332300532442815, 124.48743241031598 45.3323282857638, 124.48743255909555 45.332328424496474, 124.48743266724016 45.33232858083159, 124.4874327307066 45.33232874892418, 124.48743274712203 45.33232892248967, 124.48743271587271 45.332329095038844, 124.48743263812695 45.33232926012051, 124.48743251679147 45.33232941156268, 124.48743235640265 45.33232954370329, 124.48743216295723 45.332329651601896, 124.48743194296037 45.33232975155961, 124.48742972006455 45.33233105843472, 124.48742963487994 45.33233111908758, 124.4874277920118 45.332332708766835, 124.48742772465259 45.33233277970005, 124.4874263419255 45.33233458676466, 124.48742629482955 45.33233466541097, 124.48742542228169 45.33233662446687, 124.48742539715278 45.33233670798066, 124.48742506635963 45.332338748134674, 124.4874250641073 45.33233883349324, 124.48742511271547 45.33233927991273), (124.48587326336516 45.33116722698465, 124.48587328500415 45.33116704981075, 124.48587335562937 45.331166879100536, 124.485873472481 45.33116672152426, 124.48587363099351 45.33116658323898, 124.48587382497304 45.331166469648, 124.4858740468403 45.3311663851897, 124.48587428792594 45.331166333164184, 124.48587453881011 45.33116631560426, 124.4858747896897 45.33116633319606, 124.48587503076222 45.33116638525221, 124.48587525260784 45.33116646973869, 124.48587544655837 45.331166583354324, 124.48587560503552 45.33116672165973, 124.48588069153614 45.33117218893168, 124.4858818715958 45.331173298990066, 124.4859082967496 45.33119525221561, 124.48591995684417 45.33120585087596, 124.48592009128356 45.33120600193503, 124.48592018083131 45.331206168732685, 124.48592022196772 45.33120634471293, 124.48592021307594 45.331206522958865, 124.48592015450535 45.331206696464506, 124.48592004855819 45.33120685841023, 124.48591989939858 45.331207002430716, 124.48591971288948 45.331207122865244, 124.48591949636142 45.33120721498012, 124.48591925832507 45.33120727515478, 124.48591900813662 45.331207301024044, 124.48591875562961 45.3312072915711, 124.48591851072891 45.331207247167505, 124.48591804569715 45.33120712710108, 124.48591792498401 45.33120710511015, 124.4859149616412 45.33120677934752, 124.48591483716555 45.33120677438465, 124.48591184065317 45.331206862526855, 124.48591171719558 45.33120687478265, 124.48590880259549 45.33120737344461, 124.48590868489731 45.331207402448406, 124.48590596414567 45.33120829247887, 124.48590585672773 45.33120833711651, 124.4859034343156 45.331209584333784, 124.48590334130301 45.331209642890954, 124.4859013102642 45.33121119939524, 124.48590123522882 45.33121126962305, 124.4858996735666 45.33121307563597, 124.4858996193901 45.33121315483766, 124.48589858708048 45.33121514099859, 124.48589855584338 45.331215226132755, 124.48589809253275 45.331217316162174, 124.48589808543512 45.33121740395868, 124.48589820891665 45.33121951758922, 124.48589822623101 45.33121960467541, 124.48589893176276 45.33122166073238, 124.48589897282436 45.33122174376482, 124.4859002333098 45.33122366328375, 124.48590029592926 45.33122373833945, 124.48590214136063 45.331225516374616, 124.48593044339987 45.33124790457554, 124.48593061627616 45.33124807921598, 124.48593071433605 45.33124820861735, 124.4859307836238 45.331248281759486, 124.4859326868404 45.331249917516885, 124.48593277502661 45.331249979718955, 124.4859337856597 45.33125056473875, 124.4859339284877 45.33125066143692, 124.4859691077497 45.331278489603925, 124.48603724889817 45.3313305999304, 124.48610821011518 45.33138556989567, 124.48614721223908 45.33141557168064, 124.48622015400888 45.331472526228644, 124.48636012625404 45.331582504438586, 124.48642824266209 45.33163359704251, 124.48649606792146 45.33168745828635, 124.48656428542121 45.33173862859549, 124.48663108352298 45.33179047209245, 124.48670111728677 45.33184749741186, 124.48677710289583 45.33190748606009, 124.4868482291307 45.33196158533018, 124.48691812611854 45.332016504400684, 124.48698616188315 45.332067535990184, 124.48704923456322 45.33211858891581, 124.48711529570222 45.33216963580619, 124.48725022984462 45.33227258568106, 124.48738815600275 45.33238052790858, 124.4874004265922 45.33239009177139, 124.48740057450291 45.33239023246659, 124.48740068095802 45.33239039071067, 124.48740074192213 45.33239056050512, 124.48740075508428 45.33239073541358, 124.48740071994558 45.33239090880587, 124.4874006378379 45.33239107410926, 124.48740051187384 45.33239122505763, 124.48740034682815 45.33239135592902, 124.48740013989888 45.3323914908944, 124.48740005806395 45.33239155569849, 124.48739831251963 45.332393241441615, 124.4873982498998 45.33239331614329, 124.48739699701349 45.332395207342564, 124.48739695594985 45.332395289148465, 124.48739624257671 45.33239731507756, 124.48739622460467 45.332397400929175, 124.48739607742273 45.33239948582392, 124.48739608321465 45.33239957251071, 124.48739650772809 45.33240163840222, 124.48739653678335 45.33240172186557, 124.48739756338925 45.33240377222931, 124.48739903106141 45.3324060030951, 124.48739911535958 45.332406174845815, 124.48739914899437 45.332406355042345, 124.48739913059302 45.33240653632982, 124.48739906090641 45.332406711308856, 124.48739894277911 45.33240687283752, 124.48739878103235 45.33240701432289, 124.48739858226804 45.33240712999016, 124.48739835459898 45.33240721511823, 124.48739810731757 45.33240726623256, 124.48739785051689 45.332407281246866, 124.48739759467833 45.332407259548326, 124.48739735024425 45.33240720202259, 124.48739712719146 45.33240711101761, 124.48739693462393 45.33240699024783, 124.48738579182212 45.33239843121242, 124.48732590829728 45.33235152245857, 124.48727596805874 45.33231157034857, 124.48722860951776 45.33227529252467, 124.48717677292989 45.3322364150896, 124.48712877019035 45.332198414740525, 124.48706281945059 45.332147452813125, 124.48699786513778 45.33209648870683, 124.48693267308191 45.332047340404976, 124.48686983914686 45.331999466439335, 124.4868028797276 45.33194550021607, 124.4867319135375 45.33188952689212, 124.48666794247127 45.331838549974506, 124.48660385442156 45.33178848030457, 124.4865376305656 45.331736308402554, 124.48646875911247 45.33168440491727, 124.48634490765414 45.331586522328784, 124.48630557010118 45.33155726319948, 124.48629067581419 45.33154633944669, 124.48621988581019 45.33149050508599, 124.4861508477944 45.33143647520678, 124.48608277645818 45.331384419386744, 124.48601373176672 45.33133038531695, 124.48594143808448 45.331274927159036, 124.4859413412986 45.33127484331255, 124.48588790377902 45.331222403264746, 124.48588585535676 45.33122077015379, 124.48588576093209 45.33122070868793, 124.4858832890316 45.33121939928461, 124.48588318008713 45.33121935291174, 124.48588026640984 45.331218385770406, 124.48587538865269 45.33121716633142, 124.4858751589328 45.33121708998295, 124.48587495521043 45.33121698304682, 124.48587478556165 45.33121684976222, 124.48587465671164 45.331216695412806, 124.48587457376826 45.33121652611731, 124.48587454001954 45.331216348586956, 124.4858739393306 45.33120372855339, 124.48587326336516 45.33116722698465), (124.48735695754064 45.33256815203186, 124.48735672942581 45.33256806083153, 124.48735653257245 45.332567938656354, 124.48735637530032 45.33256779066988, 124.48735626425633 45.33256762312654, 124.48735620413355 45.33256744310727, 124.48735619747296 45.33256725822034, 124.48735624455594 45.3325670762797, 124.48735634339289 45.33256690497478, 124.48735648980636 45.33256675154554, 124.48735816280613 45.33256533742974, 124.48735823431 45.332565262906684, 124.48735969100119 45.33256335737241, 124.48735973998384 45.33256327428407, 124.48736062828591 45.3325612020503, 124.48736065277711 45.332561113738684, 124.48736093696068 45.332558958156056, 124.48736093597523 45.33255886817358, 124.48736060460969 45.332556715944335, 124.48736057844398 45.3325566287659, 124.48735960002834 45.3325544817999, 124.48735150294249 45.33254132902827, 124.48733653263535 45.332518160724085, 124.4873364500567 45.33251798873492, 124.4873364181266 45.33251780855282, 124.4873364381459 45.33251762751853, 124.48733650929901 45.33251745300749, 124.48733662868716 45.33251729212941, 124.4873367914463 45.33251715143856, 124.48733699094552 45.33251703666679, 124.48733721905715 45.332516952489975, 124.48733746648774 45.33251690233754, 124.48733772315674 45.33251688825272, 124.48733797860744 45.332516910809346, 124.48733822243244 45.33251696908845, 124.48733844469825 45.332517060715695, 124.48733863634963 45.33251718195812, 124.48735719270472 45.33253155658682, 124.487358202242 45.332532273761856, 124.48739838279724 45.33255845201788, 124.48739854819522 45.33255858306848, 124.48739867438401 45.332558734270435, 124.48739875656405 45.33255889987262, 124.48739879160938 45.33255907357617, 124.48739877818696 45.332559248774054, 124.4873987168075 45.33255941880243, 124.4873986098055 45.332559577194104, 124.48739846125102 45.33255971792441, 124.48739827679435 45.33255983564056, 124.4873735243566 45.33257277441287, 124.48737329394469 45.332572870232845, 124.48737304026706 45.332572930052244, 124.48737277448012 45.33257295124028, 124.48737250827257 45.33257293286516, 124.48737225335204 45.332572875734996, 124.48735695754064 45.33256815203186), (124.4873946317784 45.332628101358885, 124.48739482865895 45.33262820598204, 124.48739499332936 45.33262833536363, 124.48739511963892 45.33262848467109, 124.48739520286989 45.33262864832755, 124.48739523991343 45.33262882022022, 124.48739522938597 45.33262899392868, 124.48739517168062 45.33262916296466, 124.48739506895278 45.3326293210144, 124.48739492503944 45.33262946217455, 124.48739474531614 45.332629581172576, 124.48739453649556 45.33262967356371, 124.4873943063777 45.33262973589703, 124.48738207874408 45.332632121775596, 124.48738182802835 45.33263215213131, 124.4873815737584 45.33263214679023, 124.48738132604817 45.332632105964805, 124.48738109475099 45.33263203127895, 124.48738088906715 45.33263192570347, 124.48738071717823 45.33263179343784, 124.48738058592149 45.332631639743234, 124.48738050051782 45.33263147073317, 124.48738046436446 45.332631293130405, 124.48738047889952 45.332631113999476, 124.48738054354463 45.332630940465684, 124.48738065572867 45.33263077943171, 124.48738081098904 45.33263063730305, 124.48738730916722 45.33262577989534, 124.48738749611172 45.3326256649364, 124.48738771106453 45.3326255776693, 124.4873879458981 45.332625521393744, 124.48738819173286 45.33262549823758, 124.48738843927367 45.332625509076394, 124.48738867916063 45.332625553500336, 124.48738890232316 45.33262562982967, 124.4873946317784 45.332628101358885), (124.48588557323613 45.331305589471874, 124.48588540532678 45.33130546077959, 124.48588527589274 45.33130531160364, 124.48588518982591 45.33130514758208, 124.48588515037909 45.33130497491399, 124.48588515904311 45.331304800125324, 124.48588593181933 45.33130070440348, 124.48588598601445 45.33130053882698, 124.48588608338557 45.33130038339269, 124.48588622045858 45.33130024364644, 124.4858863923427 45.33130012457436, 124.4858865929052 45.3313000304249, 124.48588681499 45.3312999645573, 124.48588705067326 45.33129992932169, 124.48588729154574 45.331299925975266, 124.48588752901324 45.33129995463742, 124.48588775460303 45.3313000142855, 124.48588796026606 45.3313001027913, 124.4858881386644 45.331300216996944, 124.48595326515554 45.33135060574333, 124.48595555260859 45.33135205281905, 124.48595565576646 45.33135210593037, 124.48595663509259 45.331352510637124, 124.4859567920054 45.331352587142156, 124.48595693098706 45.33135267929789, 124.48601517434683 45.33139754254325, 124.48608708590011 45.331454472532016, 124.4861562296706 45.33150658622961, 124.48622236947338 45.33155869159648, 124.48629127568975 45.331610621111835, 124.48635912388386 45.331663502884176, 124.48642805154006 45.331718445227686, 124.48649619407797 45.331770558048596, 124.48656208908544 45.331822475187145, 124.48662612384777 45.33187350258371, 124.48669207791154 45.33192546639987, 124.4867572182782 45.3319775763112, 124.4868282099098 45.33203256983713, 124.48689324728109 45.33208259870153, 124.48693120252804 45.33211156490195, 124.48699839746367 45.3321647126911, 124.48707031899909 45.33221865396678, 124.48714420229376 45.33227556408084, 124.48721707446603 45.332332464248275, 124.48727421747574 45.332378575754085, 124.48734625629743 45.33243440590203, 124.48734639849249 45.332434539047505, 124.48734650341964 45.33243468841119, 124.48734656747645 45.332434848865034, 124.48734658846357 45.33243501490017, 124.48734656566046 45.33243518081612, 124.48734649985015 45.33243534091653, 124.48734639329196 45.332435489704665, 124.48734624964443 45.33243562207218, 124.48734607383932 45.33243573347456, 124.48734434920532 45.33243663756307, 124.48734425822069 45.332436695662054, 124.48734227098765 45.33243823554299, 124.48734219751127 45.33243830488265, 124.48734066643094 45.33244008523532, 124.48734061319637 45.33244016323634, 124.48733959524165 45.33244211781193, 124.48733956423071 45.33244220157072, 124.48733909728047 45.33244425763825, 124.48733908964694 45.33244434403777, 124.48733919107731 45.332446425088236, 124.48733920710495 45.33244651091362, 124.48733950605903 45.332447421459406, 124.48733953854016 45.33244760182117, 124.48733951894441 45.33244778310603, 124.4873394480722 45.33244795790986, 124.48733932881802 45.33244811909322, 124.48733916605259 45.33244826007298, 124.48733896642358 45.33244837509117, 124.4873387380844 45.33244845945016, 124.48733849036097 45.332448509704506, 124.48733823337099 45.3324485238017, 124.4873379776106 45.33244850116598, 124.4873377335256 45.332448442721834, 124.48733751108512 45.332448350856275, 124.48733731937415 45.33244822932133, 124.48729387451726 45.332414495498455, 124.48721396718321 45.33235056964149, 124.48713575196616 45.332290400683085, 124.4870587914761 45.332231430932, 124.48698986441867 45.33217748808769, 124.48691389248046 45.332117510251216, 124.48684155972688 45.33206125540821, 124.48675981391237 45.332000444506605, 124.48668686471495 45.331941488401505, 124.48661190359144 45.33188251896282, 124.48653294631225 45.33181955304149, 124.4864548662611 45.331758489593945, 124.48637890292969 45.33169851856722, 124.48630572809007 45.331644379081254, 124.48623194251144 45.33158555004807, 124.48615991052148 45.33152852461879, 124.48609982984523 45.33148246023639, 124.4860259538048 45.33142355907837, 124.48595427001673 45.33136978803774, 124.4859541789439 45.331369711639184, 124.48588771194699 45.33130721985488, 124.4858857170164 45.331305680143274, 124.48588557323613 45.331305589471874), (124.48593388704816 45.331419890209176, 124.48593413720543 45.33142003744328, 124.48599917339679 45.3314695430736, 124.48607001547451 45.33152641630008, 124.48614121637792 45.33158157477655, 124.48628726669867 45.331694606026396, 124.48628983483067 45.33169620162012, 124.48629214636601 45.33169735738791, 124.48629236545239 45.33169749635613, 124.48632111360082 45.33172049448248, 124.486397107663 45.33178048980423, 124.4864691089906 45.33183649134339, 124.48653903658743 45.33189243329653, 124.48660813795388 45.33194651372624, 124.48667911319181 45.33200249420445, 124.48674725989451 45.332055608392615, 124.48681620077004 45.33210856307073, 124.48688622819343 45.33216358400162, 124.487018199739 45.33226556202977, 124.4870861360767 45.33231851240658, 124.48715322521198 45.33237158173147, 124.48722808567933 45.332429473835255, 124.4872821249165 45.33247325990896, 124.48728227101279 45.33247340512554, 124.4872823736969 45.3324735677934, 124.48728242894619 45.332473741539886, 124.48728243459627 45.3324739195583, 124.4872823904256 45.33247409487462, 124.48728229816481 45.33247426062061, 124.4872821614283 45.33247441030304, 124.48728163060674 45.33247488142717, 124.48728156194913 45.33247495671634, 124.48728017462346 45.332476875170514, 124.48728012852254 45.33247695857431, 124.48727930875303 45.332479033100135, 124.48727928704362 45.33247912129824, 124.48727906746137 45.33248126931943, 124.48727907100731 45.33248135880349, 124.48727946035241 45.332483494819826, 124.48727948873488 45.33248358118049, 124.48728051825441 45.332485703748674, 124.48728569750224 45.33249371926348, 124.4872857802577 45.33249389179766, 124.48728581204648 45.33249407255269, 124.4872857915657 45.332494254119304, 124.48728571965495 45.33249442905498, 124.48728559926164 45.332494590188965, 124.48728543532094 45.33249473091628, 124.48728523455289 45.33249484546843, 124.48728500518698 45.33249492914984, 124.4872847566252 45.33249497853036, 124.48728449905627 45.33249499158585, 124.487284243038 45.332494967781145, 124.48728399906473 45.332494908092045, 124.48728377713728 45.332494814965195, 124.48728358635239 45.33249469221798, 124.48714895480369 45.332388559330546, 124.48708102685158 45.332333617724665, 124.48701180485288 45.33228044130236, 124.48694662878358 45.332229306989404, 124.4868698139571 45.33217144647959, 124.48680470362986 45.33211936368046, 124.48673275822988 45.33206440534375, 124.48666081096556 45.33200844636907, 124.48658982954674 45.33195346068923, 124.48644403735861 45.331838624395175, 124.48637165769728 45.33177832883543, 124.48623076564068 45.3316714107661, 124.48615284522508 45.331610473165526, 124.48607780502869 45.33155344043836, 124.4860039912475 45.33149458891947, 124.48593580062088 45.33143924586543, 124.48593569634555 45.331439148644364, 124.48590955053969 45.33141099164591, 124.48590943576471 45.3314108371962, 124.48590936539037 45.33141067002969, 124.48590934206076 45.3314104964272, 124.48590936665242 45.331410322911395, 124.48590943824145 45.33141015600167, 124.485909554138 45.331410001969225, 124.48590970998767 45.33140986660141, 124.48590989993467 45.33140975498433, 124.48591011684236 45.33140967131169, 124.48591035256102 45.33140961872728, 124.485910598234 45.33140959920678, 124.48591084463095 45.331409613483686, 124.48591108249411 45.331409661021524, 124.48591130288635 45.331409740034225, 124.48593388704816 45.331419890209176), (124.48593886176418 45.33151019373231, 124.48593908886977 45.33151034088478, 124.48594390940782 45.33151432404989, 124.48594600170307 45.3315157540983, 124.48594609630346 45.33151580743553, 124.48594667400305 45.33151607383656, 124.48594693732508 45.33151623553319, 124.48598299717565 45.33154540095537, 124.48605012667196 45.331596507061164, 124.48611332264636 45.331647656237045, 124.48623021056844 45.331736570994636, 124.48629121807701 45.331784576124015, 124.48635313398626 45.331832511206485, 124.48641800777611 45.33188441024655, 124.48648096693643 45.33193537717076, 124.48654420662702 45.33198356791274, 124.48660516769776 45.33203153699935, 124.48666916107251 45.33208153183112, 124.48672821729843 45.33212657616074, 124.4868501230534 45.332222502015775, 124.48697119831365 45.33231556110435, 124.48703103933465 45.33236243651825, 124.48708511725468 45.33240649747667, 124.48714210237122 45.33245148573376, 124.48719609009595 45.33249247978506, 124.4872395236864 45.332528156339116, 124.48723966949046 45.33252830364093, 124.48723977089199 45.3325284684396, 124.48723982384723 45.332528644163425, 124.48723982624453 45.33252882380501, 124.4872397779883 45.33252900020079, 124.48723968100293 45.33252916631656, 124.48723953915584 45.33252931552812, 124.48723935810338 45.332529441885285, 124.48723914506567 45.33252954034931, 124.48723626262723 45.332530598960226, 124.48723615871532 45.332530647408504, 124.48723378919591 45.33253201043567, 124.48723369921956 45.332532073748744, 124.48723176114997 45.332533741813414, 124.48723169081403 45.33253381647843, 124.48723026155567 45.33253572299733, 124.48723021366739 45.332535806034045, 124.48722984897942 45.33253667990021, 124.48722975791412 45.33253683971829, 124.48722962533509 45.332536984365966, 124.48722945610243 45.33253710854092, 124.48722925641964 45.33253720769132, 124.48722903360633 45.33253727818262, 124.48722879583006 45.33253731743088, 124.48722855180715 45.33253732399736, 124.48722831048241 45.33253729764136, 124.48722808070218 45.33253723932901, 124.4872278708893 45.33253715119785, 124.48722768873499 45.33253703647844, 124.4872138611915 45.332526483248756, 124.48714504003978 45.332470628410114, 124.48707884999347 45.332418476775615, 124.48700492048258 45.33236053203309, 124.48693899190378 45.33230758949394, 124.48687374856937 45.33225839698279, 124.48679887835893 45.332199499093136, 124.48667484695947 45.33210547227295, 124.48663385896349 45.33207248386332, 124.48657786757504 45.332028490636596, 124.48655584253787 45.332011470550064, 124.48648795495181 45.33195755982853, 124.48643691433267 45.33191652758074, 124.48637388007025 45.331866500498904, 124.48623688990399 45.331758508268145, 124.48617071991775 45.33170837593304, 124.48609581815052 45.33165045190855, 124.48602191948919 45.3315925313754, 124.48595127407012 45.33153581614508, 124.48595123141052 45.33153578003695, 124.48590692375242 45.33149621964477, 124.48590679200467 45.331496075690616, 124.48590670134068 45.331495916728926, 124.48590665504919 45.33149574852597, 124.48590665480964 45.33149557718326, 124.48590670063038 45.33149540891622, 124.48590679084957 45.331495249828656, 124.48590692219433 45.33149510569143, 124.48590708990031 45.33149498173307, 124.48590728788398 45.33149488245012, 124.48590750896358 45.33149481144407, 124.48590774511948 45.33149477129059, 124.48590798778513 45.33149476344629, 124.485908228158 45.3314947881957, 124.48590845751863 45.331494844641014, 124.48590866754706 45.33149493073473, 124.48593886176418 45.33151019373231), (124.4858874029123 45.33145651150388, 124.48588723122025 45.331456407255324, 124.48588708838479 45.33145628322603, 124.48588697891188 45.331456143329035, 124.4858869062554 45.331455991977876, 124.48588687270767 45.33145583394754, 124.48588452736568 45.33142815902051, 124.48588453791969 45.3314279780759, 124.48588459963834 45.33142780228838, 124.48588471002054 45.33142763878135, 124.48588486459339 45.33142749418054, 124.48588505709324 45.331427374345544, 124.4858852797194 45.33142728413241, 124.48588552345046 45.3314272271968, 124.48588577840992 45.331427205845884, 124.48588603426599 45.331427220944875, 124.48588628065077 45.33142727188191, 124.4858865075802 45.3314273565929, 124.48588670585838 45.331427471645135, 124.48588686745057 45.331427612376366, 124.48590968859324 45.331452185211624, 124.48591099425151 45.331453399246904, 124.48593226393719 45.33147066141508, 124.4859324038934 45.33147079938671, 124.48593250463789 45.331470953438114, 124.48593256258806 45.331471118090946, 124.48593257568301 45.3314712874899, 124.48593254345718 45.331471455610824, 124.4859324670566 45.33147161647508, 124.48593234919804 45.33147176436204, 124.48593219407289 45.33147189401259, 124.48593200719759 45.33147200081614, 124.48593179521781 45.33147208097458, 124.48593156567186 45.33147213163734, 124.48593132672285 45.33147215100275, 124.48593108686815 45.33147213838215, 124.48592819365717 45.33147179041149, 124.48592806970379 45.33147178418743, 124.4859250814947 45.331471840584214, 124.48592495819064 45.33147185147482, 124.4859220425297 45.33147231652623, 124.4859219245793 45.331472344116, 124.48592061595144 45.33147275414158, 124.48592036412384 45.33147281183355, 124.48592010083459 45.33147283160721, 124.48591983743032 45.33147281261035, 124.48591958526286 45.33147275566168, 124.48591935519963 45.33147266321545, 124.4858874029123 45.33145651150388), (124.48587906533757 45.3313392918232, 124.48587908089144 45.33133911717693, 124.48587914408499 45.33133894795845, 124.48587925252735 45.33133879057027, 124.48587940211533 45.33133865096726, 124.48587958718942 45.33133853443139, 124.48587980074701 45.33133844537186, 124.48588003470803 45.33133838715832, 124.48588028022056 45.33133836199329, 124.48588052799539 45.33133837082892, 124.48588076865784 45.33133841333089, 124.48588099310213 45.33133848789114, 124.48588119283653 45.331338591688606, 124.48588136030384 45.33133872079604, 124.48591739051206 45.33137259994873, 124.48591752152085 45.331372752638586, 124.48591760721774 45.331372920565514, 124.48591764422983 45.33137309712044, 124.48591763110046 45.3313732753546, 124.48591756834637 45.33137344825322, 124.48591745843737 45.33137360901147, 124.48591730569913 45.331373751302344, 124.48591711614314 45.33137386952567, 124.48591689722971 45.33137395902849, 124.48591665757465 45.331374016288244, 124.48591640661017 45.331374039051326, 124.48591615421354 45.331374026421855, 124.4859142173813 45.33137379166254, 124.48591409370763 45.33137378532086, 124.48591111181815 45.33137383799311, 124.48591098874947 45.331373848693296, 124.4859080779849 45.33137430835595, 124.48590796019676 45.33137433569142, 124.48590523113361 45.33137518488242, 124.4859051231003 45.33137522781489, 124.48590267941265 45.33137643427447, 124.48590258523879 45.33137649117258, 124.48590106115488 45.33137761120378, 124.48590087135496 45.33137772576636, 124.48590065353662 45.33137781203686, 124.48590041605596 45.331377866705814, 124.48590016802277 45.3313778876761, 124.48589991895204 45.33137787414322, 124.48589967839834 45.33137782662634, 124.48589945558963 45.33137774694824, 124.48588110446813 45.331369499247856, 124.4858809101782 45.33136939196454, 124.48588074881101 45.33136926030133, 124.4858806264059 45.33136910918579, 124.485880547544 45.33136894427363, 124.48588051517679 45.331368771736805, 124.48587906533757 45.3313392918232))</textarea>
            <div class="coord-settings" style="margin-bottom:8px;font-size:12px;color:#333;">
                <label>WKT坐标系：
                    <select id="coordSysSelect" style="margin-left:6px;">
                        <option value="wgs84" selected>WGS84</option>
                        <option value="gcj02">GCJ-02（国测局）</option>
                        <option value="bd09">BD-09（百度）</option>
                        <option value="cgcs2000">CGCS2000</option>
                    </select>
                </label>
                <!-- 已移除“不进行绘制坐标转换”选项，统一使用WGS84绘制 -->
            </div>

            <div class="button-group">
                <button id="drawButton" disabled>绘制轮廓</button>
                <button id="clearButton" disabled>清空轮廓</button>
            </div>
            <!-- 显示开关：仅保留显示亩数 -->
            <div class="display-toggles" style="margin-top:8px;font-size:12px;color:#333;">
                <label><input type="checkbox" id="toggleLabelsCheckbox"> 显示亩数</label>
            </div>
        </div>

        <div class="tab-pane" id="tabSplit">
            <!-- MultiPolygon → 多个 Polygon 分割器 -->
            <div class="split-section">
                <div class="title">MultiPolygon → 多个 Polygon 分割器</div>
                <div class="desc">输入一个 MULTIPOLYGON WKT，分割为多行 POLYGON WKT。</div>
                <textarea id="multiInput"></textarea>
                <div class="split-actions">
                    <button id="splitMultiBtn">分割为多个 POLYGON</button>
                    <button id="copyPolysBtn">复制结果</button>
                </div>
                <textarea id="polyOutput" readonly></textarea>
            </div>
        </div>

        <div class="tab-pane" id="tabBatch">
            <!-- 批量POLYGON → MULTIPOLYGON 生成器 -->
            <div class="batch-section">
                <div class="title">批量POLYGON → MULTIPOLYGON 合并器</div>
                <div class="desc">每行一个 POLYGON WKT（或用分号分隔）。生成后可一键填充到上方并绘制。</div>
                <textarea id="batchInput"></textarea>
                <div class="batch-actions">
                    <button id="generateMultiBtn">生成 MULTIPOLYGON</button>
                    <button id="copyMultiBtn">复制结果</button>
                </div>
                <textarea id="multiOutput" readonly></textarea>
            </div>
        </div>
        <div class="tab-pane" id="tabTrack">
            <div class="tip">请粘贴轨迹文本（支持两种格式：1）每行一条：定位时间yyyyMMddHHmmss, 经度, 纬度；2）单行#分隔：经度,纬度,定位时间yyyyMMddHHmmss#经度,纬度,定位时间yyyyMMddHHmmss#…）。</div>
            <div class="coord-settings" style="margin-bottom:8px;font-size:12px;color:#333;">
                <label>轨迹坐标系：
                    <select id="trackCoordSysSelect" style="margin-left:6px;">
                        <option value="wgs84" selected>WGS84</option>
                        <option value="gcj02">GCJ-02（国测局）</option>
                        <option value="bd09">BD-09（百度）</option>
                        <option value="cgcs2000">CGCS2000</option>
                    </select>
                </label>
            </div>
            <textarea id="trackTextarea" style="width:100%;height:120px;margin-bottom:10px;padding:8px;border:1px solid #ddd;border-radius:4px;font-family:monospace;resize:vertical;box-sizing:border-box;">20251015095653,124.504354,45.342155,2.9
20251015095703,124.504421,45.342118,2.8
20251015095713,124.504494,45.342044,5.6
20251015095723,124.504459,45.342031,3.9
20251015095733,124.504307,45.341991,14.0
20251015095743,124.503701,45.341875,19.3
20251015095753,124.503401,45.341786,0.0
20251015095803,124.503350,45.341770,2.3
20251015095813,124.503113,45.341685,5.3
20251015095823,124.502814,45.341598,14.1
20251015095833,124.502274,45.341354,22.4
20251015095843,124.501753,45.341134,19.7
20251015095853,124.501187,45.340860,22.1
20251015095903,124.500561,45.340542,19.0
20251015095913,124.500107,45.340319,13.2
20251015095923,124.499830,45.340192,9.5
20251015095933,124.499298,45.339941,18.3
20251015095943,124.498862,45.339724,10.0
20251015095953,124.498567,45.339575,10.0
20251015100003,124.497980,45.339306,23.7
20251015100013,124.497170,45.338902,26.5
20251015100023,124.496631,45.338580,4.4
20251015100033,124.496358,45.338409,22.5
20251015100043,124.495598,45.338059,24.5
20251015100053,124.494821,45.337716,26.8
20251015100103,124.493822,45.337369,33.1
20251015100113,124.492812,45.337082,27.2
20251015100123,124.492024,45.336793,18.1
20251015100133,124.491306,45.336556,16.8
20251015100143,124.491041,45.336470,8.9
20251015100153,124.490423,45.336204,27.3
20251015100203,124.489772,45.335783,22.2
20251015100213,124.489356,45.335433,24.9
20251015100223,124.488979,45.334728,27.4
20251015100233,124.488583,45.334327,24.6
20251015100243,124.487900,45.333999,14.7
20251015100253,124.487686,45.333899,8.1
20251015100303,124.487430,45.333771,9.0
20251015100313,124.487395,45.333694,0.1
20251015100323,124.487441,45.333670,5.3
20251015100333,124.487557,45.333569,6.5
20251015100343,124.487718,45.333423,7.5
20251015100353,124.487885,45.333267,8.8
20251015100403,124.488049,45.333099,8.5
20251015100413,124.488177,45.332936,4.3
20251015100423,124.488346,45.332720,12.2
20251015100433,124.488459,45.332518,4.4
20251015100443,124.488351,45.332432,8.8
20251015100453,124.488053,45.332311,8.1
20251015100503,124.487878,45.332326,3.0
20251015100513,124.487805,45.332343,0.6
20251015100523,124.487745,45.332363,0.0
20251015100533,124.487720,45.332374,1.7
20251015100543,124.487644,45.332409,2.5
20251015100553,124.487578,45.332458,2.9
20251015100603,124.487505,45.332517,3.1
20251015100613,124.487432,45.332576,3.2
20251015100623,124.487337,45.332647,1.5
20251015100633,124.487334,45.332659,4.3
20251015100643,124.487381,45.332644,0.3
20251015100653,124.487422,45.332636,2.9
20251015100703,124.487528,45.332600,3.5
20251015100713,124.487651,45.332502,5.6
20251015100723,124.487671,45.332407,2.1
20251015100733,124.487651,45.332395,3.4
20251015100743,124.487572,45.332334,3.2
20251015100753,124.487578,45.332339,0.5
20251015100803,124.487507,45.332285,2.7
20251015100813,124.487457,45.332245,2.3
20251015100823,124.487398,45.332202,2.5
20251015100833,124.487348,45.332161,2.3
20251015100843,124.487297,45.332121,2.2
20251015100853,124.487241,45.332079,2.2
20251015100903,124.487188,45.332037,2.2
20251015100913,124.487135,45.331997,2.1
20251015100923,124.487083,45.331955,2.2
20251015100933,124.487030,45.331913,2.3
20251015100943,124.486976,45.331873,2.1
20251015100953,124.486922,45.331831,2.1
20251015101003,124.486866,45.331787,2.6
20251015101013,124.486810,45.331745,2.5
20251015101023,124.486762,45.331705,0.0
20251015101033,124.486763,45.331705,0.0
20251015101043,124.486727,45.331678,2.0
20251015101053,124.486669,45.331632,2.5
20251015101103,124.486613,45.331588,2.2
20251015101113,124.486556,45.331544,2.2
20251015101123,124.486496,45.331498,2.2
20251015101133,124.486441,45.331455,2.3
20251015101143,124.486386,45.331413,2.2
20251015101153,124.486331,45.331370,2.4
20251015101203,124.486279,45.331331,2.2
20251015101213,124.486226,45.331288,2.2
20251015101223,124.486173,45.331246,2.0
20251015101233,124.486118,45.331204,2.4
20251015101243,124.486055,45.331156,2.9
20251015101253,124.485995,45.331111,2.3
20251015101303,124.485931,45.331061,2.7
20251015101313,124.485869,45.331012,2.0
20251015101323,124.485925,45.331057,0.0
20251015101333,124.485924,45.331056,0.0
20251015101343,124.485924,45.331056,0.0
20251015101353,124.485924,45.331056,0.0
20251015101403,124.485924,45.331056,0.0
20251015101413,124.485924,45.331056,0.0
20251015101423,124.485836,45.331002,0.3
20251015101433,124.485833,45.331028,3.1
20251015101443,124.485828,45.331065,3.5
20251015101453,124.485826,45.331010,2.1
20251015101503,124.485832,45.331024,3.0
20251015101513,124.485833,45.331012,4.3
20251015101523,124.485890,45.331078,2.4
20251015101533,124.485957,45.331131,2.6
20251015101543,124.486024,45.331183,3.0
20251015101553,124.486090,45.331234,2.5
20251015101603,124.486153,45.331283,2.8
20251015101613,124.486223,45.331338,2.8
20251015101623,124.486291,45.331391,2.8
20251015101633,124.486356,45.331443,2.5
20251015101643,124.486427,45.331496,2.9
20251015101653,124.486495,45.331549,2.5
20251015101703,124.486559,45.331598,2.9
20251015101713,124.486626,45.331650,2.5
20251015101723,124.486692,45.331701,2.8
20251015101733,124.486761,45.331755,2.8
20251015101743,124.486830,45.331811,2.7
20251015101753,124.486901,45.331865,3.1
20251015101803,124.486973,45.331920,2.9
20251015101813,124.487042,45.331976,2.9
20251015101823,124.487110,45.332029,2.9
20251015101833,124.487184,45.332087,3.1
20251015101843,124.487257,45.332144,2.9
20251015101853,124.487331,45.332199,3.1
20251015101903,124.487401,45.332254,2.8
20251015101913,124.487469,45.332306,2.8
20251015101923,124.487539,45.332361,2.8
20251015101933,124.487598,45.332406,3.2
20251015101943,124.487525,45.332309,4.2
20251015101953,124.487475,45.332267,0.0
20251015102003,124.487477,45.332268,0.0
20251015102013,124.487477,45.332268,0.0
20251015102023,124.487477,45.332268,0.0
20251015102033,124.487574,45.332340,8.8
20251015102043,124.487601,45.332458,4.0
20251015102053,124.487626,45.332452,2.6
20251015102103,124.487613,45.332441,0.0
20251015102113,124.487613,45.332441,0.0
20251015102123,124.487613,45.332441,0.0
20251015102133,124.487604,45.332437,1.8
20251015102143,124.487535,45.332391,2.3
20251015102153,124.487472,45.332342,2.2
20251015102203,124.487408,45.332293,2.7
20251015102213,124.487344,45.332243,2.8
20251015102223,124.487275,45.332189,2.8
20251015102233,124.487210,45.332139,2.9
20251015102243,124.487142,45.332085,3.0
20251015102253,124.487080,45.332039,2.6
20251015102303,124.487012,45.331985,2.9
20251015102313,124.486945,45.331934,2.5
20251015102323,124.486877,45.331881,2.8
20251015102333,124.486806,45.331825,2.8
20251015102343,124.486737,45.331769,2.9
20251015102353,124.486667,45.331715,3.0
20251015102403,124.486598,45.331661,2.8
20251015102413,124.486529,45.331608,2.8
20251015102423,124.486461,45.331556,3.0
20251015102433,124.486393,45.331503,3.2
20251015102443,124.486321,45.331448,3.1
20251015102453,124.486247,45.331391,2.9
20251015102503,124.486180,45.331338,2.8
20251015102513,124.486101,45.331276,2.8
20251015102523,124.486035,45.331224,2.5
20251015102533,124.485963,45.331168,3.3
20251015102543,124.485880,45.331104,3.1
20251015102553,124.485977,45.331180,0.0
20251015102603,124.485977,45.331180,0.0
20251015102613,124.485977,45.331179,0.0
20251015102623,124.485977,45.331179,0.0
20251015102633,124.485977,45.331179,0.0
20251015102643,124.485859,45.331115,4.6
20251015102653,124.485854,45.331119,5.1
20251015102703,124.485834,45.331161,2.3
20251015102713,124.485841,45.331109,1.1
20251015102723,124.485894,45.331166,2.9
20251015102733,124.485959,45.331220,2.5
20251015102743,124.486026,45.331271,2.7
20251015102753,124.486095,45.331325,2.8
20251015102803,124.486167,45.331381,3.0
20251015102813,124.486242,45.331441,3.0
20251015102823,124.486316,45.331498,3.1
20251015102833,124.486356,45.331528,2.7
20251015102843,124.486421,45.331579,2.6
20251015102853,124.486485,45.331628,2.5
20251015102903,124.486557,45.331682,3.2
20251015102913,124.486629,45.331738,3.1
20251015102923,124.486705,45.331798,3.1
20251015102933,124.486776,45.331855,2.6
20251015102943,124.486844,45.331907,2.6
20251015102953,124.486913,45.331961,2.8
20251015103003,124.486985,45.332018,3.1
20251015103013,124.487056,45.332073,2.9
20251015103023,124.487127,45.332127,2.7
20251015103033,124.487186,45.332172,2.9
20251015103043,124.487252,45.332224,2.8
20251015103053,124.487321,45.332277,2.8
20251015103103,124.487399,45.332338,3.2
20251015103113,124.487474,45.332397,3.1
20251015103123,124.487532,45.332443,5.4
20251015103133,124.487441,45.332339,2.6
20251015103143,124.487452,45.332346,0.0
20251015103153,124.487452,45.332346,0.0
20251015103203,124.487452,45.332346,0.0
20251015103213,124.487452,45.332346,0.0
20251015103223,124.487454,45.332348,0.1
20251015103233,124.487525,45.332405,3.1
20251015103243,124.487563,45.332494,5.0
20251015103253,124.487563,45.332493,2.8
20251015103303,124.487573,45.332488,0.0
20251015103313,124.487573,45.332488,0.0
20251015103323,124.487573,45.332488,0.0
20251015103333,124.487543,45.332478,1.9
20251015103343,124.487468,45.332426,3.1
20251015103353,124.487400,45.332373,2.8
20251015103403,124.487331,45.332319,3.0
20251015103413,124.487262,45.332265,2.8
20251015103423,124.487194,45.332213,2.8
20251015103433,124.487127,45.332162,2.8
20251015103443,124.487061,45.332111,2.6
20251015103453,124.486998,45.332060,2.4
20251015103503,124.486930,45.332009,2.4
20251015103513,124.486860,45.331954,3.0
20251015103523,124.486789,45.331900,3.0
20251015103533,124.486713,45.331840,3.1
20251015103543,124.486643,45.331783,2.9
20251015103553,124.486576,45.331731,2.9
20251015103603,124.486508,45.331680,2.6
20251015103613,124.486440,45.331626,2.7
20251015103623,124.486372,45.331575,2.7
20251015103633,124.486302,45.331520,3.0
20251015103643,124.486232,45.331465,2.9
20251015103653,124.486159,45.331408,3.0
20251015103703,124.486120,45.331378,3.1
20251015103713,124.486049,45.331323,2.9
20251015103723,124.485981,45.331271,2.8
20251015103733,124.485914,45.331218,3.2
20251015103743,124.485933,45.331233,5.7
20251015103753,124.485945,45.331242,0.0
20251015103803,124.485944,45.331242,0.0
20251015103813,124.485944,45.331241,0.0
20251015103823,124.485955,45.331250,5.4
20251015103833,124.485981,45.331243,5.7
20251015103843,124.485860,45.331133,4.2
20251015103853,124.485837,45.331130,0.0
20251015103903,124.485874,45.331138,0.5
20251015103913,124.485857,45.331150,2.9
20251015103923,124.485858,45.331204,2.4
20251015103933,124.485859,45.331225,3.3
20251015103943,124.485875,45.331229,2.7
20251015103953,124.485929,45.331282,2.8
20251015104003,124.486002,45.331338,2.8
20251015104013,124.486071,45.331392,2.9
20251015104023,124.486139,45.331444,2.8
20251015104033,124.486208,45.331498,3.0
20251015104043,124.486279,45.331554,2.9
20251015104053,124.486294,45.331565,3.6
20251015104103,124.486333,45.331594,2.3
20251015104113,124.486395,45.331643,2.6
20251015104123,124.486457,45.331692,3.0
20251015104133,124.486526,45.331744,2.9
20251015104143,124.486592,45.331796,2.8
20251015104153,124.486656,45.331846,2.6
20251015104203,124.486720,45.331897,2.7
20251015104213,124.486791,45.331953,3.0
20251015104223,124.486858,45.332007,2.8
20251015104233,124.486921,45.332055,2.2
20251015104243,124.486986,45.332104,2.7
20251015104253,124.487051,45.332155,2.8
20251015104303,124.487117,45.332206,2.3
20251015104313,124.487165,45.332244,1.9
20251015104323,124.487217,45.332283,2.3
20251015104333,124.487264,45.332319,1.9
20251015104343,124.487314,45.332359,2.3
20251015104353,124.487374,45.332406,2.9
20251015104403,124.487443,45.332459,2.8
20251015104413,124.487462,45.332475,4.8
20251015104423,124.487412,45.332399,0.0
20251015104433,124.487412,45.332399,0.0
20251015104443,124.487412,45.332399,0.0
20251015104453,124.487412,45.332399,0.0
20251015104503,124.487421,45.332407,3.8
20251015104513,124.487505,45.332539,5.1
20251015104523,124.487505,45.332541,2.4
20251015104533,124.487530,45.332539,0.1
20251015104543,124.487529,45.332539,0.0
20251015104553,124.487529,45.332539,0.0
20251015104603,124.487529,45.332539,0.0
20251015104613,124.487529,45.332539,0.0
20251015104623,124.487529,45.332539,0.0
20251015104633,124.487529,45.332539,0.0
20251015104643,124.487529,45.332539,0.0
20251015104653,124.487529,45.332539,0.0
20251015104703,124.487529,45.332539,0.0
20251015104713,124.487529,45.332539,0.0
20251015104723,124.487529,45.332539,0.0
20251015104733,124.487529,45.332539,0.0
20251015104743,124.487529,45.332539,0.0
20251015104753,124.487529,45.332539,0.0
20251015104803,124.487517,45.332537,2.3
20251015104813,124.487466,45.332508,2.0
20251015104823,124.487406,45.332464,2.1
20251015104833,124.487348,45.332419,2.5
20251015104843,124.487286,45.332371,2.1
20251015104853,124.487229,45.332325,3.1
20251015104902,124.487156,45.332268,3.0
20251015104912,124.487082,45.332211,2.7
20251015104922,124.487010,45.332157,2.8
20251015104932,124.486943,45.332104,2.8
20251015104942,124.486905,45.332075,2.6
20251015104952,124.486840,45.332025,2.8
20251015105002,124.486769,45.331970,2.8
20251015105012,124.486704,45.331918,2.9
20251015105022,124.486638,45.331866,2.5
20251015105032,124.486574,45.331815,2.4
20251015105042,124.486508,45.331763,2.5
20251015105052,124.486440,45.331711,3.1
20251015105102,124.486371,45.331656,2.9
20251015105112,124.486303,45.331603,2.9
20251015105122,124.486234,45.331551,2.9
20251015105132,124.486168,45.331499,2.7
20251015105142,124.486099,45.331447,2.7
20251015105152,124.486027,45.331390,3.3
20251015105202,124.485953,45.331333,3.0
20251015105212,124.485881,45.331278,3.3
20251015105222,124.485951,45.331332,5.6
20251015105232,124.485965,45.331343,0.0
20251015105242,124.485965,45.331343,0.0
20251015105252,124.485964,45.331342,0.0
20251015105302,124.485964,45.331342,0.0
20251015105312,124.485964,45.331342,0.0
20251015105322,124.485963,45.331341,0.0
20251015105332,124.485963,45.331341,0.0
20251015105342,124.485963,45.331341,0.0
20251015105352,124.485956,45.331335,0.1
20251015105402,124.485867,45.331251,3.3
20251015105412,124.485871,45.331260,3.4
20251015105422,124.485860,45.331283,2.7
20251015105432,124.485873,45.331284,2.7
20251015105442,124.485863,45.331337,2.4
20251015105452,124.485866,45.331398,2.6
20251015105502,124.485871,45.331457,2.9
20251015105512,124.485868,45.331526,2.4
20251015105522,124.485874,45.331592,3.1
20251015105532,124.485879,45.331659,2.3
20251015105542,124.485879,45.331671,1.5
20251015105552,124.485869,45.331603,3.1
20251015105602,124.485867,45.331535,5.3
20251015105612,124.485869,45.331464,3.8
20251015105622,124.485867,45.331388,3.3
20251015105632,124.485865,45.331401,1.3
20251015105642,124.485859,45.331326,3.9
20251015105652,124.485875,45.331314,3.0
20251015105702,124.485942,45.331377,2.4
20251015105712,124.486014,45.331431,3.1
20251015105722,124.486088,45.331490,2.6
20251015105732,124.486148,45.331536,2.5
20251015105742,124.486220,45.331593,3.2
20251015105752,124.486294,45.331652,3.0
20251015105802,124.486367,45.331706,3.0
20251015105812,124.486443,45.331766,3.3
20251015105822,124.486521,45.331827,3.5
20251015105832,124.486600,45.331890,3.4
20251015105842,124.486675,45.331949,3.4
20251015105852,124.486748,45.332008,2.9
20251015105902,124.486830,45.332069,3.1
20251015105912,124.486902,45.332125,2.7
20251015105922,124.486978,45.332185,3.3
20251015105932,124.487047,45.332239,2.9
20251015105942,124.487124,45.332298,3.5
20251015105952,124.487202,45.332358,3.6
20251015110002,124.487282,45.332422,3.4
20251015110012,124.487367,45.332488,3.5
20251015110022,124.487426,45.332533,4.0
20251015110032,124.487355,45.332445,0.1
20251015110042,124.487357,45.332446,0.0
20251015110052,124.487357,45.332446,0.0
20251015110102,124.487357,45.332446,0.0
20251015110112,124.487357,45.332446,0.0
20251015110122,124.487357,45.332446,0.0
20251015110132,124.487358,45.332446,0.0
20251015110142,124.487366,45.332435,4.1
20251015110152,124.487429,45.332525,6.1
20251015110202,124.487418,45.332629,2.8
20251015110212,124.487464,45.332600,3.0
20251015110222,124.487495,45.332587,0.0
20251015110232,124.487495,45.332586,0.0
20251015110242,124.487495,45.332586,0.0
20251015110252,124.487495,45.332586,0.0
20251015110302,124.487435,45.332567,1.9
20251015110312,124.487369,45.332524,3.0
20251015110322,124.487298,45.332469,3.2
20251015110332,124.487240,45.332422,2.7
20251015110342,124.487165,45.332364,3.0
20251015110352,124.487098,45.332311,2.6
20251015110402,124.487030,45.332258,2.8
20251015110412,124.486964,45.332207,2.9
20251015110422,124.486898,45.332156,3.0
20251015110432,124.486828,45.332101,2.8
20251015110442,124.486759,45.332048,2.9
20251015110452,124.486691,45.331995,3.0
20251015110502,124.486620,45.331939,2.9
20251015110512,124.486551,45.331885,2.7
20251015110522,124.486481,45.331829,3.1
20251015110532,124.486409,45.331773,3.1
20251015110542,124.486333,45.331713,3.0
20251015110552,124.486303,45.331689,0.0
20251015110602,124.486303,45.331689,0.0
20251015110612,124.486299,45.331687,1.1
20251015110622,124.486228,45.331632,3.5
20251015110632,124.486153,45.331574,3.0
20251015110642,124.486082,45.331519,3.1
20251015110652,124.486011,45.331462,3.2
20251015110702,124.485944,45.331411,1.2
20251015110712,124.485913,45.331385,5.8
20251015110722,124.485960,45.331423,0.0
20251015110732,124.485958,45.331421,0.0
20251015110742,124.485957,45.331420,0.0
20251015110752,124.485957,45.331420,0.1
20251015110802,124.485946,45.331412,2.0
20251015110812,124.485857,45.331372,1.7
20251015110822,124.485847,45.331396,0.2
20251015110832,124.485848,45.331395,0.0
20251015110842,124.485857,45.331406,0.0
20251015110852,124.485871,45.331390,1.5
20251015110902,124.485923,45.331446,3.0
20251015110912,124.485992,45.331502,3.4
20251015110922,124.486066,45.331561,3.6
20251015110932,124.486141,45.331618,3.2
20251015110942,124.486219,45.331679,3.2
20251015110952,124.486290,45.331733,2.5
20251015111002,124.486360,45.331786,2.6
20251015111012,124.486432,45.331846,3.2
20251015111022,124.486508,45.331906,3.2
20251015111032,124.486578,45.331961,2.9
20251015111042,124.486649,45.332016,2.8
20251015111052,124.486721,45.332072,2.7
20251015111102,124.486793,45.332127,2.8
20251015111112,124.486858,45.332179,2.7
20251015111122,124.486935,45.332237,3.0
20251015111132,124.487000,45.332288,3.0
20251015111142,124.487069,45.332341,2.7
20251015111152,124.487137,45.332396,2.8
20251015111202,124.487208,45.332452,2.9
20251015111212,124.487274,45.332504,2.6
20251015111222,124.487345,45.332559,3.4
20251015111232,124.487337,45.332546,3.9
20251015111242,124.487295,45.332481,0.0
20251015111252,124.487296,45.332481,0.0
20251015111302,124.487296,45.332481,0.0
20251015111312,124.487296,45.332481,0.0
20251015111322,124.487296,45.332481,0.0
20251015111332,124.487296,45.332481,0.0
20251015111342,124.487296,45.332481,0.0
20251015111352,124.487296,45.332481,0.0
20251015111402,124.487296,45.332481,0.0
20251015111412,124.487296,45.332481,0.0
20251015111422,124.487296,45.332481,0.0
20251015111432,124.487296,45.332482,0.0
20251015111442,124.487296,45.332482,0.0
20251015111452,124.487296,45.332482,0.0
20251015111502,124.487296,45.332482,0.0
20251015111512,124.487296,45.332482,0.0
20251015111522,124.487296,45.332482,0.0
20251015111532,124.487296,45.332482,0.0
20251015111542,124.487296,45.332482,0.0
20251015111552,124.487296,45.332482,0.0
20251015111602,124.487296,45.332482,0.0
20251015111701,124.487415,45.332632,1.7
20251015111935,124.487647,45.332496,0.0
20251015111945,124.487647,45.332496,0.0
20251015111955,124.487647,45.332496,0.0
20251015112005,124.487647,45.332496,0.0
20251015112015,124.487647,45.332496,0.0
20251015112025,124.487647,45.332496,0.0
20251015112035,124.487647,45.332496,0.0
20251015112045,124.487647,45.332496,0.0
20251015112055,124.487647,45.332496,0.0
20251015112105,124.487647,45.332496,0.0
20251015112115,124.487647,45.332496,0.0
20251015112125,124.487647,45.332496,0.0
20251015112135,124.487647,45.332496,0.0
20251015112145,124.487647,45.332496,0.0
20251015112155,124.487647,45.332496,0.0
20251015112205,124.487647,45.332496,0.0
20251015112215,124.487647,45.332496,0.0
20251015112225,124.487647,45.332496,0.0
20251015112235,124.487647,45.332496,0.0
20251015112245,124.487647,45.332496,0.0
20251015112255,124.487647,45.332496,0.0
20251015112305,124.487647,45.332496,0.0
20251015112315,124.487647,45.332496,0.0
20251015112325,124.487647,45.332496,0.0
20251015112335,124.487647,45.332496,0.0
20251015112345,124.487647,45.332496,0.0
20251015112355,124.487647,45.332496,0.0
20251015112405,124.487647,45.332496,0.0
20251015112415,124.487647,45.332496,0.0
20251015112425,124.487647,45.332496,0.0
20251015112435,124.487651,45.332494,1.4
20251015112445,124.487745,45.332415,1.9
20251015112455,124.487630,45.332415,2.6
20251015112505,124.487608,45.332505,2.1
20251015112515,124.487569,45.332536,1.6
20251015112526,124.487509,45.332583,2.3
20251015112536,124.487455,45.332619,2.8
20251015112546,124.487418,45.332625,3.4
20251015112556,124.487367,45.332603,2.3
20251015112606,124.487316,45.332570,2.4
20251015112616,124.487264,45.332531,2.0
20251015112626,124.487208,45.332485,1.9
20251015112636,124.487154,45.332444,2.5
20251015112646,124.487097,45.332399,2.2
20251015112656,124.487043,45.332355,2.4
20251015112706,124.486983,45.332308,2.2
20251015112716,124.486922,45.332261,2.5
20251015112726,124.486862,45.332215,2.7
20251015112736,124.486801,45.332167,2.0
20251015112746,124.486740,45.332119,2.6
20251015112756,124.486681,45.332074,2.2
20251015112806,124.486617,45.332024,2.6
20251015112816,124.486556,45.331976,2.3
20251015112826,124.486493,45.331928,2.8
20251015112836,124.486430,45.331877,2.6
20251015112846,124.486365,45.331825,2.8
20251015112856,124.486303,45.331777,2.7
20251015112906,124.486242,45.331729,2.7
20251015112916,124.486179,45.331681,2.8
20251015112926,124.486125,45.331640,2.6
20251015112936,124.486062,45.331589,2.3
20251015112946,124.485995,45.331538,2.8
20251015112956,124.485927,45.331483,3.2
20251015113006,124.485956,45.331507,1.2
20251015113016,124.485956,45.331507,0.0
20251015113026,124.485955,45.331506,0.0
20251015113036,124.485954,45.331505,0.0
20251015113046,124.485952,45.331503,0.0
20251015113056,124.485861,45.331457,4.6
20251015113106,124.485878,45.331468,3.7
20251015113116,124.485858,45.331502,2.8
20251015113126,124.485879,45.331487,0.1
20251015113136,124.485879,45.331487,0.0
20251015113146,124.485879,45.331487,0.0
20251015113156,124.485879,45.331487,0.0
20251015113206,124.485879,45.331487,0.0
20251015113216,124.485883,45.331493,1.2
20251015113226,124.485939,45.331543,3.0
20251015113236,124.486010,45.331600,3.0
20251015113246,124.486084,45.331658,2.8
20251015113256,124.486159,45.331716,2.9
20251015113306,124.486225,45.331766,2.7
20251015113316,124.486296,45.331822,3.0
20251015113326,124.486362,45.331874,2.5
20251015113336,124.486425,45.331924,3.6
20251015113346,124.486476,45.331965,1.8
20251015113356,124.486544,45.332019,1.1
20251015113406,124.486566,45.332036,2.2
20251015113416,124.486622,45.332080,2.5
20251015113426,124.486663,45.332113,2.2
20251015113436,124.486725,45.332160,3.0
20251015113446,124.486787,45.332207,2.6
20251015113456,124.486862,45.332266,3.1
20251015113506,124.486927,45.332315,2.7
20251015113516,124.486993,45.332368,2.7
20251015113526,124.487067,45.332426,2.4
20251015113536,124.487133,45.332478,2.4
20251015113546,124.487202,45.332534,3.4
20251015113556,124.487278,45.332592,3.2
20251015113606,124.487291,45.332600,4.3
20251015113616,124.487251,45.332546,0.0
20251015113626,124.487251,45.332547,0.0
20251015113636,124.487252,45.332546,0.0
20251015113646,124.487252,45.332547,0.0
20251015113656,124.487252,45.332547,0.0
20251015113706,124.487245,45.332540,1.8
20251015113716,124.487255,45.332545,0.0
20251015113726,124.487324,45.332574,0.6
20251015113736,124.487308,45.332564,0.0
20251015113746,124.487308,45.332564,0.0
20251015113756,124.487308,45.332564,0.0
20251015113806,124.487308,45.332564,0.0
20251015113816,124.487307,45.332565,2.2
20251015113826,124.487375,45.332586,4.1
20251015113836,124.487419,45.332563,3.8
20251015113846,124.487439,45.332548,0.0
20251015113856,124.487401,45.332586,2.6
20251015113906,124.487389,45.332610,0.0
20251015113916,124.487389,45.332610,0.0
20251015113926,124.487389,45.332610,0.0
20251015113936,124.487389,45.332610,0.0
20251015113946,124.487389,45.332610,0.0
20251015113956,124.487389,45.332610,0.0
20251015114006,124.487389,45.332610,0.0
20251015114016,124.487389,45.332610,0.0
20251015114026,124.487433,45.332563,2.3
20251015114036,124.487441,45.332557,0.1
20251015114046,124.487497,45.332529,3.1
20251015114056,124.487618,45.332499,5.5
20251015114106,124.487795,45.332392,8.5
20251015114116,124.488011,45.332310,6.4
20251015114126,124.488202,45.332382,5.2
20251015114136,124.488408,45.332479,5.6
20251015114146,124.488450,45.332571,3.7
20251015114156,124.488282,45.332796,11.7
20251015114206,124.488090,45.333043,10.3
20251015114216,124.487862,45.333280,11.5
20251015114226,124.487602,45.333521,13.0
20251015114236,124.487403,45.333686,5.4
20251015114246,124.487296,45.333723,2.6
20251015114256,124.487454,45.333778,5.5
20251015114306,124.487639,45.333874,7.2
20251015114316,124.487786,45.333954,3.0
20251015114326,124.487818,45.333986,2.4
20251015114336,124.487820,45.334037,1.5
20251015114346,124.488008,45.334038,7.2
20251015114356,124.488132,45.334112,11.7
20251015114406,124.488263,45.334180,1.7
20251015114416,124.488463,45.334279,11.0
20251015114426,124.488833,45.334470,14.9
20251015114436,124.489072,45.334939,20.1
20251015114446,124.489233,45.335271,0.9
20251015114456,124.489280,45.335358,7.0
20251015114506,124.489395,45.335484,6.3
20251015114516,124.489535,45.335615,5.5
20251015114526,124.489733,45.335762,10.7
20251015114536,124.490040,45.335970,14.6
20251015114546,124.490458,45.336218,7.5
20251015114556,124.490795,45.336356,8.4
20251015114606,124.490829,45.336367,0.0
20251015114616,124.491052,45.336453,13.0
20251015114625,124.491621,45.336664,22.1
20251015114635,124.492398,45.336938,21.5
20251015114645,124.493200,45.337203,27.6
20251015114655,124.494118,45.337451,29.4
20251015114705,124.494960,45.337783,29.5
20251015114715,124.495843,45.338167,27.9
20251015114725,124.496604,45.338558,28.5
20251015114735,124.497348,45.339002,26.6
20251015114745,124.498070,45.339360,20.2
20251015114755,124.498622,45.339608,17.4
20251015114805,124.499329,45.339964,27.5
20251015114815,124.499880,45.340215,8.5
20251015114825,124.500341,45.340446,21.7
20251015114835,124.500945,45.340746,16.7
20251015114845,124.501234,45.340889,2.9
20251015114855,124.501260,45.340902,0.0
20251015114905,124.501261,45.340902,0.0
20251015114915,124.501261,45.340902,0.0
20251015114925,124.501261,45.340902,0.0
20251015114935,124.501373,45.340948,8.5
20251015114945,124.501752,45.341137,17.6
20251015114955,124.502158,45.341308,10.2
20251015115005,124.502614,45.341520,17.1
20251015115015,124.503050,45.341675,16.5
20251015115025,124.503673,45.341871,17.8
20251015115035,124.504172,45.341973,11.0
20251015115045,124.504521,45.342063,6.9
20251015115055,124.504513,45.342027,4.0
20251015115105,124.504434,45.342114,4.3
20251015115115,124.504324,45.342182,0.2</textarea>
            <div class="button-group">
                <button id="drawTrackButton" disabled style="flex: 1;">绘制轨迹</button>
                <button id="showTrackPointsButton" disabled style="flex: 1;" class="btn-warning">打点</button>
                <button id="clearTrackButton" disabled style="flex: 1;">清空轨迹</button>
            </div>
            <!-- 回放控制 -->
            <div class="split-section" style="margin-top:8px;">
                <div class="title">轨迹回放</div>
                <div class="playback-actions" style="display:flex;gap:8px;margin-bottom:8px;">
                    <button id="playbackStartBtn" disabled>开始</button>
                    <button id="playbackPauseBtn" disabled>继续</button>
                    <button id="playbackStopBtn" disabled>结束</button>
                </div>
                <div class="playback-speed" style="display:flex;align-items:center;gap:8px;margin-bottom:8px;">
                    <label>速度：
                        <select id="playbackSpeedSelect" disabled>
                            <option value="1" selected>1×</option>
                            <option value="2">2×</option>
                            <option value="4">4×</option>
                            <option value="8">8×</option>
                            <option value="16">16×</option>
                            <option value="32">32×</option>
                            <option value="64">64×</option>
                            <option value="128">128×</option>
                            <option value="256">256×</option>
                            <option value="512">512×</option>
                            <option value="1024">1024×</option>
                        </select>
                    </label>
                    <span id="playbackTimeLabel" style="font-size:12px;color:#666;">时间：—</span>
                </div>
                <div class="playback-time" style="display:flex;flex-direction:column;gap:4px;margin-bottom:8px;">
                    <label class="playback-time-label" style="display:flex;align-items:center;gap:8px;flex:1 1 auto;min-width:0;">
                        <span class="playback-time-text" style="white-space:nowrap;">起始时间：</span>
                        <input type="range" id="playbackTimeSlider" disabled min="0" max="0" step="1000" value="0" style="flex:1 1 auto;min-width:0;max-width:100%;vertical-align:middle;">
                    </label>
                    <span id="playbackTimeCursor" style="font-size:12px;color:#666;align-self:flex-end;">—</span>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    let map;
    let currentPolygons = []; // 存储多边形和其标签
    let currentTracks = []; // 存储轨迹折线及相关覆盖物
    let mapLoaded = false;
    let mapLabelHandlers = []; // 存储地图事件处理器
    let labelsEnabled = false; // 标签显示开关（默认关闭）
    let isDrawing = false; // 绘制进行中防止重复点击

    window.onload = function () {
        if (typeof T === 'undefined') {
            alert("天地图API加载失败，请检查网络或密钥！");
            return;
        }
        initMap();
        bindDrawEvent();
        bindMinimizeEvent();
        bindTabs();
        bindBatchGenerator();
        bindMultiSplitter();
        bindLabelsToggle(); // 绑定标签显示开关
        bindTrackEvents();  // 绑定轨迹绘制与清空
        bindPlaybackControls(); // 绑定轨迹回放
    };

    function initMap() {
        showLoading();
        disableButtons(true);

        try {
            map = new T.Map("mapContainer", {
                zoom: 12,
                center: new T.LngLat(116.40769, 39.90403)
            });

            // 已移除测试标签
            map.enableScrollWheelZoom();

            // 添加地图类型控件
            const mapTypeCtrl = new T.Control.MapType({
                mapTypes: [TMAP_NORMAL_MAP, TMAP_SATELLITE_MAP, TMAP_TERRAIN_MAP],
                position: T_ANCHOR_TOP_LEFT
            });
            map.addControl(mapTypeCtrl);

            // 加载影像底图（卫星）
            const tk = "648f621977051d0199ff0f965d3fd322";

            // 方案1：使用默认地图类型（作为备选）
            map.setMapType(TMAP_SATELLITE_MAP);

            // 方案2：手动添加影像图层（底图 + 标注）
            const vecLayer = new T.TileLayer(`https://t0.tianditu.gov.cn/img_w/wmts?SERVICE=WMTS&REQUEST=GetTile&VERSION=1.0.0&LAYER=img&STYLE=default&TILEMATRIXSET=w&FORMAT=tiles&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}&tk=${tk}`);
            const cvaLayer = new T.TileLayer(`https://t0.tianditu.gov.cn/cia_w/wmts?SERVICE=WMTS&REQUEST=GetTile&VERSION=1.0.0&LAYER=cia&STYLE=default&TILEMATRIXSET=w&FORMAT=tiles&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}&tk=${tk}`);

            // 添加图层并监听加载状态
            vecLayer.addEventListener("load", function () {
                console.log("影像底图加载完成");
            });

            vecLayer.addEventListener("error", function (e) {
                console.error("影像底图加载错误:", e);
                alert("影像底图加载错误，将使用默认地图类型");
            });

            map.addLayer(vecLayer);
            map.addLayer(cvaLayer);

            // 监听地图加载事件
            map.addEventListener("loaded", function () {
                console.log("地图加载完成");
                markMapLoaded();
            });
            map.addEventListener("load", function () {
                console.log("地图load事件触发");
                markMapLoaded();
            });
            map.addEventListener("tilesloaded", function () {
                console.log("地图瓦片加载完成");
                markMapLoaded();
            });
            // 监听地图加载失败事件
            map.addEventListener("error", function (e) {
                console.error("地图加载错误:", e);
                alert("地图加载错误: " + e.message);
                hideLoading();
            });

            // 监听地图移动事件，用于更新标签位置
            const moveHandler = function () {
                updateAllLabelsPosition();
            };
            map.addEventListener("move", moveHandler);
            map.addEventListener("zoom", moveHandler);

            // 存储事件处理器，用于清理
            mapLabelHandlers.push({ event: "move", handler: moveHandler });
            mapLabelHandlers.push({ event: "zoom", handler: moveHandler });

            // 超时容错
            setTimeout(() => {
                if (!mapLoaded) markMapLoaded();
            }, 8000);

        } catch (error) {
            alert("地图初始化失败：" + error.message);
            console.error(error);
            hideLoading();
        }
    }

    function markMapLoaded() {
        if (!mapLoaded) {
            mapLoaded = true;
            hideLoading();
            disableButtons(false);
            disableTrackButtons(false);
            // 仅开启速度选择，回放按钮按状态控制
            const speedSel = document.getElementById('playbackSpeedSelect');
            if (speedSel) speedSel.disabled = false;
            updatePlaybackButtonsState('idle');
        }
    }

    function showLoading() {
        const loading = document.getElementById("mapLoading");
        loading.style.display = "flex";
        loading.style.opacity = "1";
    }

    function hideLoading() {
        const loading = document.getElementById("mapLoading");
        loading.style.opacity = "0";
        setTimeout(() => loading.style.display = "none", 300);
    }

    function disableButtons(disabled) {
        document.getElementById("drawButton").disabled = disabled;
        document.getElementById("clearButton").disabled = disabled;
    }

    function disableTrackButtons(disabled) {
        const drawTrackBtn = document.getElementById("drawTrackButton");
        const showTrackPointsBtn = document.getElementById("showTrackPointsButton");
        const clearTrackBtn = document.getElementById("clearTrackButton");
        if (drawTrackBtn) drawTrackBtn.disabled = disabled;
        if (showTrackPointsBtn) showTrackPointsBtn.disabled = disabled;
        if (clearTrackBtn) clearTrackBtn.disabled = disabled;
    }
    // 回放控件的禁用/启用
    function disablePlaybackButtons(disabled) {
        ["playbackStartBtn","playbackPauseBtn","playbackStopBtn","playbackSpeedSelect","playbackTimeSlider"].forEach(id=>{
            const el = document.getElementById(id);
            if (el) el.disabled = disabled;
        });
    }

    // 回放按钮状态管理：空闲/播放/暂停
    function updatePlaybackButtonsState(state){
        try {
            const startBtn = document.getElementById('playbackStartBtn');
            const pauseBtn = document.getElementById('playbackPauseBtn');
            const stopBtn = document.getElementById('playbackStopBtn');
            if (!startBtn || !pauseBtn || !stopBtn) return;
            if (state === 'idle') {
                startBtn.disabled = false;
                pauseBtn.disabled = true;
                stopBtn.disabled = true;
                pauseBtn.textContent = '继续';
            } else if (state === 'playing') {
                startBtn.disabled = true;
                pauseBtn.disabled = false;
                stopBtn.disabled = false;
                pauseBtn.textContent = '暂停';
            } else if (state === 'paused') {
                startBtn.disabled = true;
                pauseBtn.disabled = false;
                stopBtn.disabled = false;
                pauseBtn.textContent = '继续';
            }
        } catch(e) { console.warn('更新按钮状态失败:', e); }
    }

    function bindDrawEvent() {
        document.getElementById("drawButton").addEventListener("click", function () {
            if (isDrawing) { console.log('绘制进行中，忽略重复点击'); return; }
            isDrawing = true;
            disableButtons(true);
            showLoading();
            try {
                const wktStr = document.getElementById("wktTextarea").value.trim();
                if (!wktStr) { alert("请输入WKT字符串！"); return; }
                clearOverlays();
                const geojson = parseWkt(wktStr);
    
                const polygonData = [];
                if (geojson.type === "Polygon") {
                    polygonData.push({ index: 1, coordinates: geojson.coordinates });
                } else if (geojson.type === "MultiPolygon") {
                    geojson.coordinates.forEach((polygon, index) => {
                        polygonData.push({ index: index + 1, coordinates: polygon });
                    });
                }
    
                // 重置并绘制
                polygonInfoList = [];
                polygonData.forEach(pd => processPolygon(pd.index, pd.coordinates));
    
                // 视图居中到所有已绘制轮廓
                try { fitViewportToPolygons(); } catch (e) { console.warn('视图居中失败', e); }
    
                // 在视图稳定后再创建/更新标签
                setTimeout(() => {
                    if (labelsEnabled) {
                        try {
                            createAllLabels();
                            updateAllLabelsPosition();
                        } catch (e) {
                            console.warn('创建或更新标签失败:', e);
                        }
                    }
                }, 150);
            } catch (e) {
                alert('绘制失败：' + (e && e.message ? e.message : e));
                console.error('绘制异常:', e);
            } finally {
                hideLoading();
                isDrawing = false;
                disableButtons(false);
            }
        });

        document.getElementById("clearButton").addEventListener("click", function () {
            if (isDrawing) { console.log('绘制进行中，暂不清空'); return; }
            clearOverlays();
            console.log("已清空所有轮廓");
        });
    }

    // 存储多边形数据，用于后续标签创建
    let polygonInfoList = [];

    // 处理单个多边形的绘制和面积计算
    function processPolygon(actualPolygonIndex, polygonCoords) {
        console.log('开始处理多边形', actualPolygonIndex);

        // 坐标系选择（绘制始终使用WGS84坐标）
        const coordSys = (document.getElementById('coordSysSelect') && document.getElementById('coordSysSelect').value) || 'wgs84';

        // 统一转换为WGS84用于绘制与面积计算
        function toWgs(point){
            const lng = point[0], lat = point[1];
            if (coordSys === 'wgs84' || coordSys === 'cgcs2000') {
                return [lng, lat];
            } else if (coordSys === 'gcj02') {
                const w = gcj02ToWgs84(lng, lat);
                return [w.lng, w.lat];
            } else if (coordSys === 'bd09') {
                const gcj = bd09ToGcj02(lng, lat);
                const w = gcj02ToWgs84(gcj.lng, gcj.lat);
                return [w.lng, w.lat];
            }
            return [lng, lat];
        }
        const coordsWGS84 = polygonCoords.map(ring => ring.map(toWgs));
        let outerRingWGS = coordsWGS84[0] || [];

        // 生成用于绘制的坐标（直接使用WGS84坐标）
        const rings = coordsWGS84.map(ring => ring.map(([lng, lat]) => new T.LngLat(lng, lat)));


         // 创建半透明填充的多边形（无边框）
          const polygon = new T.Polygon(rings, {
              color: "#FFD700",
              weight: 1,
              opacity: 1,
              fillColor: "#FFFF00",
              fillOpacity: 0.35
          });
 
          // 使用WGS84坐标计算面积（更准确的面积计算）
         let areaSqm;
         let areaMu;



         try {
             // 检查Turf.js是否可用
             if (typeof turf !== 'undefined' && turf.area) {
                 // 使用Turf.js计算多边形面积
                // 构造GeoJSON格式的多边形
                const geoJsonPolygon = {
                    type: "Polygon",
                    coordinates: coordsWGS84
                };


                 // 使用Turf.js计算面积（平方米）
                 areaSqm = turf.area(geoJsonPolygon);
                 areaMu = (areaSqm / 666.6667).toFixed(4); // 转换为亩
                 console.log(`多边形${actualPolygonIndex}面积计算结果(Turf.js): ${areaSqm}平方米 = ${areaMu}亩`);
             } else {
                 // 如果Turf.js不可用，回退到之前的计算方法
                 console.warn('Turf.js不可用，使用备用计算方法');
                 // 计算带孔洞的多边形面积
                 areaSqm = 0;
                 // 计算外环面积
                 outerRingWGS = coordsWGS84[0] || [];
                 areaSqm += calculatePolygonArea(outerRingWGS);

                 // 减去内环（孔洞）面积
                 for (let i = 1; i < coordsWGS84.length; i++) {
                     const innerRingArea = calculatePolygonArea(coordsWGS84[i]);
                     areaSqm -= innerRingArea;
                 }

                  areaMu = (areaSqm / 666.6667).toFixed(4); // 使用更精确的转换系数
                  console.log(`多边形${actualPolygonIndex}面积计算结果(备用): ${areaSqm}平方米 = ${areaMu}亩`);
              }
          } catch (error) {
              console.error(`面积计算失败:`, error);
              areaSqm = 0;
              areaMu = '0.0000';
          }

          // 计算多边形的中心点和底部中心点（WGS84）
          const centerPoint = calculatePolygonCenter(outerRingWGS);
          const bottomCenterPoint = calculatePolygonBottomCenter(outerRingWGS);

          // 添加多边形到地图
          if (map) {
              map.addOverLay(polygon);
              console.log(`多边形${actualPolygonIndex}已添加到地图`);
          } else {
              console.error('地图对象不存在');
          }

          // 存储多边形信息，用于后续标签创建
          polygonInfoList.push({
              index: actualPolygonIndex,
              polygon: polygon,
              area: areaMu,
              bottomCenter: { lng: bottomCenterPoint.lng, lat: bottomCenterPoint.lat },
              ringPoints: rings
          });
      }

    // 视图居中：根据已绘制的GCJ-02点
    function fitViewportToPolygons() {
        const points = [];
        try {
            if (!map || !map.setViewport) return;
            polygonInfoList.forEach(info => {
                if (!info || !info.ringPoints) return;
                info.ringPoints.forEach(ring => {
                    ring.forEach(ll => points.push(ll));
                });
            });
            if (!points.length) return;
            map.setViewport(points);
        } catch (e) {
            try {
                const lngs = points.map(p => p.lng);
                const lats = points.map(p => p.lat);
                const center = new T.LngLat(
                    (Math.min(...lngs) + Math.max(...lngs)) / 2,
                    (Math.min(...lats) + Math.max(...lats)) / 2
                );
                if (map && map.panTo) map.panTo(center);
            } catch (e2) {
                console.warn('视图居中失败:', e2);
            }
        }
    }

    // 统一创建所有多边形的标签
    function createAllLabels() {
        const mapContainer = document.getElementById('mapContainer');
        if (!mapContainer || !map) return;

        polygonInfoList.forEach(info => {
            if (!info) return;
            // 防止重复创建
            if (info.labelRef) return;
            // 创建标签元素
            const labelDiv = document.createElement('div');
            labelDiv.className = 'area-label';
            labelDiv.innerHTML = `多边形${info.index}：${info.area}亩`;

            // 添加到地图容器并根据屏幕边界定位到轮廓下方
            mapContainer.appendChild(labelDiv);
            positionLabelForPolygon(labelDiv, info);

            // 记录引用，避免重复创建
            info.labelRef = labelDiv;

            // 存储到 currentPolygons 以复用现有定位/清理逻辑
            const labelObj = {
                domElement: labelDiv,
                isDomLabel: true,
                polygonInfo: info
            };
            currentPolygons.push({ polygon: info.polygon, label: labelObj });
        });

        // 不清空 polygonInfoList，便于开关随时创建/隐藏标签
    }

    // 根据多边形屏幕边界定位标签，保证始终在轮廓下方
    function positionLabelForPolygon(labelDiv, info) {
        if (!map || !info || !info.ringPoints) return;
        const points = [];
        info.ringPoints.forEach(ring => {
            ring.forEach(ll => {
                const p = map.lngLatToContainerPoint(ll);
                points.push(p);
            });
        });
        if (!points.length) return;
        const minX = Math.min(...points.map(p => p.x));
        const maxX = Math.max(...points.map(p => p.x));
        const maxY = Math.max(...points.map(p => p.y));
        const container = document.getElementById('mapContainer');
        const labelWidth = labelDiv.offsetWidth;
        const labelHeight = labelDiv.offsetHeight;
        const targetLeft = Math.round((minX + maxX) / 2 - labelWidth / 2);
        const targetTop = Math.round(maxY + 6);
        const clampedLeft = Math.max(0, Math.min(targetLeft, container.clientWidth - labelWidth));
        const clampedTop = Math.max(0, Math.min(targetTop, container.clientHeight - labelHeight));
        labelDiv.style.left = clampedLeft + 'px';
        labelDiv.style.top = clampedTop + 'px';
    }

    // 更新所有标签位置（地图move/zoom时调用）
    function updateAllLabelsPosition() {
        try {
            if (!map) return;
            const container = document.getElementById('mapContainer');
            if (!container) return;
            currentPolygons.forEach(item => {
                if (!item || !item.label) return;
                const labelObj = item.label;
                if (labelObj.isDomLabel && labelObj.domElement && labelObj.polygonInfo) {
                    // 确保标签在容器中
                    if (!labelObj.domElement.parentNode) {
                        container.appendChild(labelObj.domElement);
                    }
                    positionLabelForPolygon(labelObj.domElement, labelObj.polygonInfo);
                }
            });
        } catch (e) {
            console.warn('更新标签位置时出错:', e);
        }
    }
    // 确保在全局可用（处理第三方库事件回调作用域差异）
    window.updateAllLabelsPosition = updateAllLabelsPosition;

    // 绑定“显示亩数标签”开关（默认隐藏）
    function bindLabelsToggle() {
        const cb = document.getElementById('toggleLabelsCheckbox');
        const container = document.getElementById('mapContainer');
        if (!cb || !container) return;
        // 默认隐藏标签
        container.classList.add('labels-hidden');
        cb.addEventListener('change', () => {
            labelsEnabled = cb.checked;
            if (labelsEnabled) {
                container.classList.remove('labels-hidden');
                const hasAnyLabel = currentPolygons.some(item => item && item.label && item.label.domElement);
                if (!hasAnyLabel) {
                    try { createAllLabels(); } catch (e) { console.warn('创建标签失败:', e); }
                }
                updateAllLabelsPosition();
            } else {
                container.classList.add('labels-hidden');
            }
        });
    }

    /**
     * 计算多边形中心点（比底部中心更适合显示标签）
     */
    function calculatePolygonCenter(outerRing) {
        let sumLng = 0, sumLat = 0;
        const len = outerRing.length;

        for (let i = 0; i < len; i++) {
            sumLng += outerRing[i][0];
            sumLat += outerRing[i][1];
        }

        return {
            lng: sumLng / len,
            lat: sumLat / len
        };
    }

    /**
     * 计算多边形面积（球面多边形面积计算）
     * 使用更准确的球面坐标面积计算方法，确保面积与视觉大小一致
     */
    function calculatePolygonArea(coordinates) {
        // 地球半径（米）- 使用更精确的值
        const R = 6371000.8;
        const n = coordinates.length;

        // 将所有坐标转换为弧度
        const coordsRad = coordinates.map(point => [
            point[0] * Math.PI / 180,
            point[1] * Math.PI / 180
        ]);

        let areaRad = 0;

        // 使用更准确的球面多边形面积公式（Girard定理）
        for (let i = 0; i < n; i++) {
            const j = (i + 1) % n;
            const lon1 = coordsRad[i][0];
            const lat1 = coordsRad[i][1];
            const lon2 = coordsRad[j][0];
            const lat2 = coordsRad[j][1];

            // 计算球面多边形面积增量
            const dlon = lon2 - lon1;
            const sinLat1 = Math.sin(lat1);
            const sinLat2 = Math.sin(lat2);
            const cosLat1 = Math.cos(lat1);
            const cosLat2 = Math.cos(lat2);

            // 使用更精确的公式
            areaRad += dlon * (sinLat1 * cosLat2 * Math.cos(dlon / 2) + sinLat2 * cosLat1);
        }

        // 计算总面积（平方米）
        const areaSqm = Math.abs(areaRad) * R * R * 0.5;

        return areaSqm;
    }

    /**
     * 清空所有多边形和标签（同时处理 polygonInfoList 与 currentPolygons）
     */
    function clearOverlays() {
        try {
            // 先移除 polygonInfoList 中记录的多边形与其DOM标签
            polygonInfoList.forEach(info => {
                if (info && info.polygon && map && map.removeOverLay) {
                    try { map.removeOverLay(info.polygon); } catch (e) { console.warn('移除多边形失败:', e); }
                }
                if (info && info.labelRef && info.labelRef.parentNode) {
                    try { info.labelRef.parentNode.removeChild(info.labelRef); } catch (e) { console.warn('移除DOM标签失败:', e); }
                    info.labelRef = null;
                }
            });

            // 再处理 currentPolygons（兼容旧路径与标签对象）
            currentPolygons.forEach(item => {
                if (item.polygon && map && map.removeOverLay) {
                    try { map.removeOverLay(item.polygon); } catch (e) { console.warn('移除多边形失败:', e); }
                }
                if (item.label) {
                    if (item.label.domElement && item.label.domElement.parentNode) {
                        try { item.label.domElement.parentNode.removeChild(item.label.domElement); } catch (e) { console.warn('移除DOM标签失败:', e); }
                    } else if (map && map.removeOverLay && !item.label.isDomLabel) {
                        try { map.removeOverLay(item.label); } catch (e) { console.warn('移除地图覆盖物标签失败:', e); }
                    }
                }
            });

            // 清空记录数组
            currentPolygons = [];
            polygonInfoList = [];

            console.log('已清空所有多边形和标签（保留事件监听器）');
        } catch (error) {
            console.error('清空覆盖物时出错:', error);
        }
    }

    // 其他辅助函数（保持不变）
    function bindMinimizeEvent() {
        const container = document.querySelector(".wkt-input-container");
        const btn = document.getElementById("minimizeBtn");
        const minIcon = btn?.querySelector(".min-icon");
        const restoreIcon = btn?.querySelector(".restore-icon");

        btn?.addEventListener("click", () => {
            const minimized = container.classList.toggle("minimized");
            if (minIcon && restoreIcon) {
                if (minimized) {
                    minIcon.style.display = "none";
                    restoreIcon.style.display = "";
                } else {
                    minIcon.style.display = "";
                    restoreIcon.style.display = "none";
                }
            }
        });
    }

    // 在脚本内部补充：页签切换（3个页签）
     function bindTabs() {
         const tabs = [
             { btn: document.getElementById('tabDrawBtn'), pane: document.getElementById('tabDraw'), key: 'draw' },
             { btn: document.getElementById('tabTrackBtn'), pane: document.getElementById('tabTrack'), key: 'track' },
             { btn: document.getElementById('tabSplitBtn'), pane: document.getElementById('tabSplit'), key: 'split' },
             { btn: document.getElementById('tabBatchBtn'), pane: document.getElementById('tabBatch'), key: 'batch' },
         ];
         if (tabs.some(t => !t.btn || !t.pane)) return;
         function activate(key) {
             tabs.forEach(t => {
                 const active = t.key === key;
                 t.btn.classList.toggle('active', active);
                 t.pane.classList.toggle('active', active);
             });
         }
         tabs.forEach(t => t.btn.addEventListener('click', () => activate(t.key)));
         activate('draw');
     }
    function updateParserStatus() {
        const el = document.getElementById('parserStatus');
        if (!el) return;
        const ok = (typeof Terraformer !== 'undefined' && Terraformer.WKT && typeof Terraformer.WKT.parse === 'function');
        if (ok) {
            el.textContent = 'Terraformer WKT Parser';
            el.style.color = '#2f8f2f';
        } else {
            el.textContent = '本地回退解析（仅支持POLYGON/MULTIPOLYGON）';
            el.style.color = '#c77d1e';
        }
    }
     function parseWkt(wkt) {
         wkt = wkt.trim();
         // 优先使用成熟库（Terraformer WKT Parser）
         if (typeof Terraformer !== 'undefined' && Terraformer.WKT && Terraformer.WKT.parse) {
             try {
                 return Terraformer.WKT.parse(wkt);
             } catch (e) {
                 console.warn('Terraformer解析失败，尝试本地回退解析:', e);
             }
         } else {
             // 不再提示“未加载”，由状态栏展示回退信息
         }
         // 回退解析：仅支持 POLYGON / MULTIPOLYGON
         const typeMatch = wkt.match(/^\s*(POLYGON|MULTIPOLYGON)\s*\(/i);
         if (!typeMatch) throw new Error('仅支持POLYGON/MULTIPOLYGON');
         const type = typeMatch[1].toUpperCase();
         const inner = wkt.substring(wkt.indexOf('('));
         if (type === 'POLYGON') {
             const coords = parsePolygonCoords(inner.replace(/^\(/, '').replace(/\)$/, ''));
             return { type: 'Polygon', coordinates: coords };
         } else {
             const trimmed = inner.replace(/^\(\(/, '').replace(/\)\)$/, '');
             const coords = parseMultiPolygonCoords(trimmed);
             return { type: 'MultiPolygon', coordinates: coords };
         }
     }

     function bindMultiSplitter() {
         const input = document.getElementById('multiInput');
         const output = document.getElementById('polyOutput');
         const splitBtn = document.getElementById('splitMultiBtn');
         const copyBtn = document.getElementById('copyPolysBtn');
         if (!input || !output || !splitBtn || !copyBtn) return;

         // 本地WKT序列化辅助
         function ringToText(ring) {
             if (!ring || !ring.length) return '()';
             const first = ring[0];
             const last = ring[ring.length - 1];
             const closed = (first[0] === last[0] && first[1] === last[1]) ? ring : ring.concat([[first[0], first[1]]]);
             return '(' + closed.map(pt => pt[0] + ' ' + pt[1]).join(', ') + ')';
         }
         function toWktPolygonCoords(coords) {
             return 'POLYGON(' + coords.map(ringToText).join(', ') + ')';
         }
         function toWktMulti(coords) {
             return 'MULTIPOLYGON(' + coords.map(poly => '(' + poly.map(ringToText).join(', ') + ')').join(', ') + ')';
         }

         function polygonsFromMulti(text) {
             const geo = parseWkt(text.trim());
             if (geo.type !== 'MultiPolygon') throw new Error('请输入有效的 MULTIPOLYGON WKT');
             const polys = geo.coordinates.map(rings => toWktPolygonCoords(rings));
             return polys;
         }
         splitBtn.addEventListener('click', () => {
             try {
                 const list = polygonsFromMulti(input.value.trim());
                 output.value = list.join('\n');
             } catch (e) {
                 alert('分割失败：' + e.message);
             }
         });
         copyBtn.addEventListener('click', async () => {
             const val = output.value.trim();
             if (!val) { alert('没有可复制的结果'); return; }
             try { await navigator.clipboard.writeText(val); alert('已复制到剪贴板'); } catch (e) { console.warn('复制失败', e); }
         });
     }

     function bindBatchGenerator() {
         const batchInput = document.getElementById('batchInput');
         const output = document.getElementById('multiOutput');
         const genBtn = document.getElementById('generateMultiBtn');
         const copyBtn = document.getElementById('copyMultiBtn');

         // 本地WKT序列化辅助（与分割器保持一致）
         function ringToText(ring) {
             if (!ring || !ring.length) return '()';
             const first = ring[0];
             const last = ring[ring.length - 1];
             const closed = (first[0] === last[0] && first[1] === last[1]) ? ring : ring.concat([[first[0], first[1]]]);
             return '(' + closed.map(pt => pt[0] + ' ' + pt[1]).join(', ') + ')';
         }
         function toWktMulti(coords) {
             return 'MULTIPOLYGON(' + coords.map(poly => '(' + poly.map(ringToText).join(', ') + ')').join(', ') + ')';
         }

         genBtn.addEventListener('click', () => {
             try {
                 const lines = batchInput.value.trim().split(/\n|;/).map(s => s.trim()).filter(Boolean);
                 if (lines.length === 0) throw new Error('请按每行或分号输入至少一个POLYGON');
                 const polygons = lines.map((line, idx) => {
                     const g = parseWkt(line);
                     if (g.type !== 'Polygon') throw new Error(`第${idx + 1}行不是有效的POLYGON WKT`);
                     return g;
                 });
                 const multiGeo = { type: 'MultiPolygon', coordinates: polygons.map(p => p.coordinates) };
                 output.value = toWktMulti(multiGeo.coordinates);
             } catch (e) {
                 alert('生成失败：' + e.message);
             }
         });

         copyBtn.addEventListener('click', async () => {
             const val = output.value.trim();
             if (!val) { alert('没有可复制的结果'); return; }
             try { await navigator.clipboard.writeText(val); alert('已复制到剪贴板'); } catch (e) { console.warn('复制失败', e); }
         });

     }

     function setExampleWkt() {
         const exampleWkt = "MULTIPOLYGON(" +
             "(" +
             "(116.35 39.93, 116.39 39.93, 116.39 39.90, 116.35 39.90, 116.35 39.93)," + // 外环
             "(116.36 39.92, 116.38 39.92, 116.38 39.91, 116.36 39.91, 116.36 39.92)" +  // 内环
             ")," +
             "(" +
             "(116.40 39.95, 116.43 39.97, 116.46 39.96, 116.49 39.98, 116.52 39.95, 116.55 39.93, 116.58 39.94, 116.61 39.92, 116.64 39.95, 116.40 39.95)" +
             ")" +
             ")";
         document.getElementById("wktTextarea").value = exampleWkt;
     }

     function parsePolygonCoords(coordStr) {
         const ringStrs = coordStr.split(/\)\s*,\s*\(/).map(s => s.replace(/[()]/g, '').trim());
         const rings = [];
         ringStrs.forEach(ringStr => {
             const pts = ringStr.split(/,\s*/).map(pointStr => {
                 const [lng, lat] = pointStr.split(/\s+/).map(Number);
                 if (isNaN(lng) || isNaN(lat)) throw new Error("坐标格式错误：" + pointStr);
                 return [lng, lat];
             });
             // 自动拆分：如果一个ring中包含多次回到起点（闭合），则拆分为多个环
             // 兼容用户将外环与内环错误地写在同一对括号中的情况
             let start = 0;
             while (start < pts.length) {
                 const startPt = pts[start];
                 let closeIdx = -1;
                 for (let i = start + 1; i < pts.length; i++) {
                     if (pts[i][0] === startPt[0] && pts[i][1] === startPt[1]) {
                         closeIdx = i;
                         break;
                     }
                 }
                 if (closeIdx === -1) {
                     // 未找到闭合：将剩余点视为一个环，并强制闭合
                     const ring = pts.slice(start);
                     if (ring.length && (ring[0][0] !== ring[ring.length - 1][0] || ring[0][1] !== ring[ring.length - 1][1])) {
                         ring.push([ring[0][0], ring[0][1]]);
                     }
                     rings.push(ring);
                     break;
                 } else {
                     const ring = pts.slice(start, closeIdx + 1);
                     rings.push(ring);
                     start = closeIdx + 1;
                 }
             }
         });
         return rings;
     }

     function parseMultiPolygonCoords(coordStr) {
         const polygonStrs = coordStr.split(/\)\s*\)\s*,\s*\(\s*\(/).map(s => s.replace(/[()]/g, '').trim());
         return polygonStrs.map(polygonStr => parsePolygonCoords(polygonStr));
     }

     function wgs84ToGcj02(lng, lat) {
         const x_PI = 3.14159265358979324 * 3000.0 / 180.0;
         const PI = 3.1415926535897932384626;
         const a = 6378245.0;
         const ee = 0.00669342162296594323;

         if (outOfChina(lng, lat)) return { lng, lat };

         let dlat = transformLat(lng - 105.0, lat - 35.0);
         let dlng = transformLng(lng - 105.0, lat - 35.0);
         const radlat = lat / 180.0 * PI;
         let magic = Math.sin(radlat);
         magic = 1 - ee * magic * magic;
         const sqrtmagic = Math.sqrt(magic);
         dlat = (dlat * 180.0) / ((a * (1 - ee)) / (magic * sqrtmagic) * PI);
         dlng = (dlng * 180.0) / (a / sqrtmagic * Math.cos(radlat) * PI);

         return { lng: lng + dlng, lat: lat + dlat };

         function outOfChina(lng, lat) {
             return (lng < 72.004 || lng > 137.8347) || (lat < 0.8293 || lat > 55.8271);
         }

         function transformLat(x, y) {
             let ret = -100.0 + 2.0 * x + 3.0 * y + 0.2 * y * y + 0.1 * x * y + 0.2 * Math.sqrt(Math.abs(x));
             ret += (20.0 * Math.sin(6.0 * x * PI) + 20.0 * Math.sin(2.0 * x * PI)) * 2.0 / 3.0;
             ret += (20.0 * Math.sin(y * PI) + 40.0 * Math.sin(y / 3.0 * PI)) * 2.0 / 3.0;
             ret += (160.0 * Math.sin(y / 12.0 * PI) + 320 * Math.sin(y * PI / 30.0)) * 2.0 / 3.0;
             return ret;
         }

         function transformLng(x, y) {
             let ret = 300.0 + x + 2.0 * y + 0.1 * x * x + 0.1 * x * y + 0.1 * Math.sqrt(Math.abs(x));
             ret += (20.0 * Math.sin(6.0 * x * PI) + 20.0 * Math.sin(2.0 * x * PI)) * 2.0 / 3.0;
             ret += (20.0 * Math.sin(x * PI) + 40.0 * Math.sin(x / 3.0 * PI)) * 2.0 / 3.0;
             ret += (150.0 * Math.sin(x / 12.0 * PI) + 300.0 * Math.sin(x / 30.0 * PI)) * 2.0 / 3.0;
             return ret;
         }
     }

     function gcj02ToWgs84(lng, lat) {
         const g = wgs84ToGcj02(lng, lat);
         return { lng: lng * 2 - g.lng, lat: lat * 2 - g.lat };
     }

     function bd09ToGcj02(bdLng, bdLat) {
         const x_PI = 3.14159265358979324 * 3000.0 / 180.0;
         const x = bdLng - 0.0065;
         const y = bdLat - 0.006;
         const z = Math.sqrt(x * x + y * y) - 0.00002 * Math.sin(y * x_PI);
         const theta = Math.atan2(y, x) - 0.000003 * Math.cos(x * x_PI);
         const ggLng = z * Math.cos(theta);
         const ggLat = z * Math.sin(theta);
         return { lng: ggLng, lat: ggLat };
     }

     function calculatePolygonBottomCenter(outerRing) {
         let minLat = Infinity;
         let bottomPoints = [];
         outerRing.forEach(point => {
             const lat = point[1];
             if (lat < minLat) {
                 minLat = lat;
                 bottomPoints = [point];
             } else if (lat === minLat) {
                 bottomPoints.push(point);
             }
         });

         const sumLng = bottomPoints.reduce((sum, point) => sum + point[0], 0);
         const centerLng = sumLng / bottomPoints.length;

         return { lng: centerLng, lat: minLat };
     }

     function fitBounds(geojson) {
         try {
             const allPoints = [];
             function collectPoints(coords) {
                 if (typeof coords[0] === 'number') {
                     allPoints.push(coords);
                 } else {
                     coords.forEach(coord => collectPoints(coord));
                 }
             }
             collectPoints(geojson.coordinates);

             if (allPoints.length === 0) return;

             const lats = allPoints.map(p => p[1]);
             const lngs = allPoints.map(p => p[0]);
             const minLng = Math.min(...lngs);
             const maxLng = Math.max(...lngs);
             const minLat = Math.min(...lats);
             const maxLat = Math.max(...lats);

             const sw = wgs84ToGcj02(minLng, minLat);
             const ne = wgs84ToGcj02(maxLng, maxLat);

             // 修复setViewport方法的使用，确保参数格式正确
             if (map && map.setViewport) {
                 map.setViewport([
                     new T.LngLat(sw.lng, sw.lat),
                     new T.LngLat(ne.lng, ne.lat)
                 ], { padding: [50, 50] });
             } else {
                 console.warn('地图对象或setViewport方法不可用');
             }
         } catch (error) {
             console.error('调整视图范围时出错:', error);
         }
     }
// 轨迹绘制与解析
    function bindTrackEvents() {
        const drawBtn = document.getElementById('drawTrackButton');
        const showPointsBtn = document.getElementById('showTrackPointsButton');
        const clearBtn = document.getElementById('clearTrackButton');
        const ta = document.getElementById('trackTextarea');
        if (!drawBtn || !showPointsBtn || !clearBtn || !ta) return;

        drawBtn.addEventListener('click', function(){
            try {
                const text = ta.value.trim();
                if (!text) { alert('请粘贴轨迹文本（时间戳,经度,纬度）'); return; }
                const points = parseTrackText(text);
                if (points.length < 2) { alert('有效轨迹点不足，至少需要两点'); return; }
                drawTrackFromPoints(points);
                fitViewportToTrack(points);
            } catch (e) {
                alert('绘制轨迹失败：' + (e && e.message ? e.message : e));
                console.error('绘制轨迹异常:', e);
            }
        });

        showPointsBtn.addEventListener('click', function(){
            try {
                const text = ta.value.trim();
                if (!text) { alert('请粘贴轨迹文本（时间戳,经度,纬度）'); return; }
                const points = parseTrackText(text);
                if (points.length === 0) { alert('未找到有效轨迹点'); return; }
                showTrackPoints(points);
                fitViewportToTrack(points);
            } catch (e) {
                alert('显示轨迹点失败：' + (e && e.message ? e.message : e));
                console.error('显示轨迹点异常:', e);
            }
        });

        clearBtn.addEventListener('click', function(){
            clearTrackOverlays();
            console.log('已清空轨迹');
        });
    }

    function showTrackPoints(points) {
        // 先移除旧轨迹（不影响轮廓）
        clearTrackOverlays(false);
        
        if (!map || !points || points.length === 0) {
            console.log('无轨迹点可显示');
            return;
        }
        
        console.log(`准备显示${points.length}个轨迹点`);
        
        // 使用批量处理和更小的图标来提高性能
        // 创建一个更小的红点SVG图标
        const smallRedDotIcon = new T.Icon({
            iconUrl: 'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="1" height="1"><circle cx="0.5" cy="0.5" r="0.3" fill="%23FF0000"/></svg>',
            iconSize: new T.Point(1, 1),
            iconAnchor: new T.Point(0.5, 0.5)
        });
        
        // 优化批量添加点的速度
        const batchSize = 2000; // 增加每批处理的点数
        const concurrentBatches = 4; // 并发批次数量
        
        // 预创建点击事件处理函数，避免重复创建
        function createClickHandler(point, index) {
            return function() {
                const infoWindow = new T.InfoWindow({
                    content: `点${index + 1}<br/>经度: ${point.lng.toFixed(6)}<br/>纬度: ${point.lat.toFixed(6)}`,
                    offset: new T.Point(0, -20)
                });
                infoWindow.open(map, point);
            };
        }
        
        // 使用setTimeout实现更高效的批量添加，避免阻塞UI
        let currentIndex = 0;
        
        function addBatch() {
            if (currentIndex >= points.length) {
                console.log(`已显示${points.length}个轨迹点`);
                return;
            }
            
            // 添加当前批次的点
            const endIndex = Math.min(currentIndex + batchSize, points.length);
            const markersToAdd = [];
            
            // 先创建所有标记
            for (let i = currentIndex; i < endIndex; i++) {
                const point = points[i];
                const index = i;
                
                const marker = new T.Marker(point, {
                    icon: smallRedDotIcon
                });
                
                // 添加点击事件
                marker.addEventListener('click', createClickHandler(point, index));
                
                markersToAdd.push(marker);
            }
            
            // 批量添加到地图和数组
            markersToAdd.forEach(marker => {
                map.addOverLay(marker);
                currentTracks.push(marker);
            });
            
            currentIndex = endIndex;
            
            // 使用setTimeout而不是requestAnimationFrame，减少对渲染周期的依赖
            // 设置为0，将任务放入微任务队列，但允许UI有短暂的呼吸空间
            setTimeout(addBatch, 0);
        }
        
        // 启动批量添加
        addBatch();
    }
    
    // 恢复原始的clearTrackOverlays函数
    function clearTrackOverlays(resetArray = true){        
        try {
            currentTracks.forEach(pl => {
                if (pl && map && map.removeOverLay) {
                    try { map.removeOverLay(pl); } catch (e) { console.warn('移除轨迹失败:', e); }
                }
            });
            if (resetArray) currentTracks = [];
        } catch (e) {
            console.warn('清空轨迹时出错:', e);
        }
    }

    function parseTrackText(text){
        // 选择输入坐标系（优先使用轨迹页签专属选择器，若未设置则回退到绘制页签选择器）
        const coordSysEl = document.getElementById('trackCoordSysSelect') || document.getElementById('coordSysSelect');
        const coordSys = (coordSysEl && coordSysEl.value) || 'wgs84';
        const isHash = text.indexOf('#') !== -1;
        const items = isHash ? text.split('#') : text.split(/\r?\n/);
        const pts = [];
        for (let i=0;i<items.length;i++){
            const raw = items[i];
            if (!raw) continue;
            const line = raw.trim();
            if (!line) continue;
            const parts = line.split(',');
            if (parts.length < 3) continue;
            let lng = parseFloat((parts[isHash ? 0 : 1] || '').trim());
            let lat = parseFloat((parts[isHash ? 1 : 2] || '').trim());
            // 初步过滤：数值合法性与正常范围
            if (!isFinite(lng) || !isFinite(lat)) continue;
            if (lng === 0 || lat === 0) continue; // 丢弃0.0异常点
            if (lng < -180 || lng > 180 || lat < -90 || lat > 90) continue; // 超出经纬度范围丢弃

            // 将输入坐标转换为WGS84
            let w;
            if (coordSys === 'wgs84' || coordSys === 'cgcs2000') {
                w = { lng, lat };
            } else if (coordSys === 'gcj02') {
                w = gcj02ToWgs84(lng, lat);
            } else if (coordSys === 'bd09') {
                const g = bd09ToGcj02(lng, lat);
                w = gcj02ToWgs84(g.lng, g.lat);
            } else {
                w = { lng, lat };
            }
            // 转换结果兜底检查
            if (!isFinite(w.lng) || !isFinite(w.lat)) continue;
            if (w.lng < -180 || w.lng > 180 || w.lat < -90 || w.lat > 90) continue;

            // 使用WGS84坐标绘制到地图
            pts.push(new T.LngLat(w.lng, w.lat));
        }
        return pts;
    }

    function drawTrackFromPoints(points){
        // 先移除旧轨迹（不影响轮廓）
        clearTrackOverlays(false);
        const polyline = new T.Polyline(points, {
            color: '#FF3B30',
            weight: 1,
            opacity: 0.9
        });
        if (map) {
            map.addOverLay(polyline);
        }
        currentTracks.push(polyline);
    }

    function clearTrackOverlays(resetArray = true){
        try {
            currentTracks.forEach(pl => {
                if (pl && map && map.removeOverLay) {
                    try { map.removeOverLay(pl); } catch (e) { console.warn('移除轨迹失败:', e); }
                }
            });
            if (resetArray) currentTracks = [];
        } catch (e) {
            console.warn('清空轨迹时出错:', e);
        }
    }


    function fitViewportToTrack(points){
        try {
            if (!map || !map.setViewport || !points || !points.length) return;
            map.setViewport(points);
        } catch (e) {
            console.warn('轨迹视图居中失败:', e);
        }
    }

    // ========= 轨迹回放功能 =========
    let playbackState = { points: [], idx: 0, speed: 1, timer: null, running: false, marker: null, line: null, path: [] };

    function bindPlaybackControls(){
        const startBtn = document.getElementById('playbackStartBtn');
        const pauseBtn = document.getElementById('playbackPauseBtn');
        const stopBtn = document.getElementById('playbackStopBtn');
        const speedSel = document.getElementById('playbackSpeedSelect');
        const timeSlider = document.getElementById('playbackTimeSlider');
        const timeCursor = document.getElementById('playbackTimeCursor');
        const ta = document.getElementById('trackTextarea');
        if (!startBtn || !pauseBtn || !stopBtn || !speedSel) return;

        // 初始按钮状态
        updatePlaybackButtonsState('idle');

        startBtn.addEventListener('click', function(){
            try {
                const text = (ta && ta.value || '').trim();
                if (!text) { alert('请粘贴轨迹文本（时间戳,经度,纬度）'); return; }
                const pts = parseTrackTextWithTime(text);
                if (pts.length < 2) { alert('有效轨迹点不足，至少需要两点'); return; }
                startPlayback(pts);
                // 状态在startPlayback中已设置为playing
            } catch (e) {
                alert('开始回放失败：' + (e && e.message ? e.message : e));
                console.error('开始回放异常:', e);
            }
        });

        pauseBtn.addEventListener('click', function(){
            if (!playbackState.running) {
                // 继续
                playbackState.running = true;
                scheduleNext();
                updatePlaybackButtonsState('playing');
            } else {
                // 暂停
                if (playbackState.timer) { clearTimeout(playbackState.timer); playbackState.timer = null; }
                playbackState.running = false;
                updatePlaybackButtonsState('paused');
            }
        });

        stopBtn.addEventListener('click', function(){ 
            stopPlayback(); 
            updatePlaybackButtonsState('idle');
        });

        speedSel.addEventListener('change', function(){
            const v = parseFloat(speedSel.value);
            playbackState.speed = (isFinite(v) && v > 0) ? v : 1;
        });

        if (timeSlider) {
            timeSlider.addEventListener('input', function(){
                const ms = parseInt(timeSlider.value, 10);
                const txt = formatTimeForLabel(ms);
                if (timeCursor) timeCursor.textContent = txt;
            });
            timeSlider.addEventListener('change', function(){
                jumpToSliderTime();
            });
        }
    }

    function parseTrackTextWithTime(text){
        const coordSysEl = document.getElementById('trackCoordSysSelect') || document.getElementById('coordSysSelect');
        const coordSys = (coordSysEl && coordSysEl.value) || 'wgs84';
        const isHash = text.indexOf('#') !== -1;
        const items = isHash ? text.split('#') : text.split(/\r?\n/);
        const out = [];
        for (let i=0;i<items.length;i++){
            const raw = items[i];
            if (!raw) continue;
            const line = raw.trim();
            if (!line) continue;
            const parts = line.split(',');
            if (parts.length < 3) continue;
            const tsRaw = (parts[isHash ? 2 : 0] || '').trim();
            const ts = (tsRaw || '').replace(/\D/g,'');
            let lng = parseFloat((parts[isHash ? 0 : 1] || '').trim());
            let lat = parseFloat((parts[isHash ? 1 : 2] || '').trim());
            if (!isFinite(lng) || !isFinite(lat)) continue;
            if (lng === 0 || lat === 0) continue;
            if (lng < -180 || lng > 180 || lat < -90 || lat > 90) continue;
            const t = parseTimestamp(ts);
            if (!t) continue;
            let w;
            if (coordSys === 'wgs84' || coordSys === 'cgcs2000') {
                w = { lng, lat };
            } else if (coordSys === 'gcj02') {
                w = gcj02ToWgs84(lng, lat);
            } else if (coordSys === 'bd09') {
                const g = bd09ToGcj02(lng, lat);
                w = gcj02ToWgs84(g.lng, g.lat);
            } else { w = { lng, lat }; }
            if (!isFinite(w.lng) || !isFinite(w.lat)) continue;
            if (w.lng < -180 || w.lng > 180 || w.lat < -90 || w.lat > 90) continue;
            out.push({ ll: new T.LngLat(w.lng, w.lat), time: t, ts });
        }
        out.sort((a,b)=>a.time - b.time);
        return out;
    }

    function parseTimestamp(ts){
        const tstr = (ts || '').replace(/\D/g,'');
        const m = tstr && tstr.match(/^\d{14}$/);
        if (!m) return null;
        const y = parseInt(tstr.slice(0,4),10);
        const M = parseInt(tstr.slice(4,6),10) - 1;
        const d = parseInt(tstr.slice(6,8),10);
        const h = parseInt(tstr.slice(8,10),10);
        const m2 = parseInt(tstr.slice(10,12),10);
        const s = parseInt(tstr.slice(12,14),10);
        const dt = new Date(y,M,d,h,m2,s);
        return isNaN(dt.getTime()) ? null : dt;
    }

    function startPlayback(points){
        console.log('[Playback] startPlayback: 点数=', points && points.length);
        stopPlayback();
        playbackState.points = points;
        playbackState.idx = 0;
        playbackState.speed = playbackState.speed || 1;
        playbackState.running = true;
        // 配置时间滑动条，并尊重现有滑块位置作为起始
        configureTimeSlider(points);
        // 启用滑块
        const slider = document.getElementById('playbackTimeSlider');
        if (slider) slider.disabled = false;
        let initIdx = 0;
        if (slider && slider.min && slider.max) {
            const ms = parseInt(slider.value, 10);
            if (isFinite(ms)) initIdx = findIndexByTime(points, ms);
        }
        playbackState.idx = initIdx;
        const first = points[initIdx];
        console.log('[Playback] 首点:', first && first.ts, first && first.ll, 'initIdx=', initIdx);
        playbackState.path = points.slice(0, initIdx+1).map(p=>p.ll);
        playbackState.line = new T.Polyline(playbackState.path, { color: '#00FFFF', weight: 1, opacity: 0.9 });
        if (map) {
            map.addOverLay(playbackState.line);
        }
        currentTracks.push(playbackState.line);
        // 创建并定位DOM标记以保证可见移动
        ensurePlaybackDom(first.ll);
        updatePlaybackDom(first.ll);
        updatePlaybackTimeLabel(first.ts);
        try { fitViewportToTrack(points.map(p=>p.ll)); } catch(e){}
        // 更新按钮状态
        updatePlaybackButtonsState('playing');
        scheduleNext();
    }

    function scheduleNext(){
        if (!playbackState.running) return;
        if (!playbackState.points || playbackState.idx >= playbackState.points.length - 1) {
            playbackState.running = false;
            console.log('[Playback] 回放结束：idx=', playbackState.idx, '点数=', playbackState.points ? playbackState.points.length : 0);
            updatePlaybackButtonsState('idle'); // 播放结束后按钮回到初始状态：开始可点，继续/结束灰化
            return;
        }
        const next = playbackState.points[playbackState.idx+1];
        const speed = playbackState.speed || 1;
        const delay = Math.max(4, Math.round(1000 / speed)); // 1x=1000ms/点，2x=500ms/点...
        console.log('[Playback] scheduleNext: idx=', playbackState.idx, '->', playbackState.idx+1, 'delay=', delay, 'speed=', speed);
        playbackState.timer = setTimeout(()=>{
            playbackState.idx++;
            const nextLL = next.ll;
            console.log('[Playback] 下一点:', next && next.ts, nextLL);
            try {
                // 维护路径数组
                playbackState.path = playbackState.path || [];
                playbackState.path.push(nextLL);
                console.log('[Playback] 路径长度=', playbackState.path.length);
                // 使用DOM标记进行移动（容器/图层坐标）
                if (!playbackDom.el) console.log('[Playback] DOM标记不存在，将尝试创建');
                updatePlaybackDom(nextLL);
                // 折线更新：优先setLngLats，兜底重建
                if (playbackState.line && typeof playbackState.line.setLngLats === 'function') {
                    try { playbackState.line.setLngLats(playbackState.path); }
                    catch(e){
                        console.warn('[Playback] setLngLats失败，重建折线', e);
                        if (map) { try { map.removeOverLay(playbackState.line); } catch(e){} }
                        playbackState.line = new T.Polyline(playbackState.path, { color: '#00FFFF', weight: 1, opacity: 0.9 });
                        if (map) map.addOverLay(playbackState.line);
                    }
                } else {
                    console.log('[Playback] 折线不支持setLngLats，重建');
                    if (playbackState.line && map) { try { map.removeOverLay(playbackState.line); } catch(e){} }
                    playbackState.line = new T.Polyline(playbackState.path, { color: '#00FFFF', weight: 1, opacity: 0.9 });
                    if (map) map.addOverLay(playbackState.line);
                }
            } catch(e) { console.warn('更新回放覆盖物失败:', e); }
            updatePlaybackTimeLabel(next.ts);
            scheduleNext();
        }, delay);
    }

    function stopPlayback(){
        if (playbackState.timer) { clearTimeout(playbackState.timer); playbackState.timer = null; }
        playbackState.running = false;
        playbackState.idx = 0;
        try {
            // 移除DOM标记
            removePlaybackDom();
            if (playbackState.marker && map) map.removeOverLay(playbackState.marker);
            if (playbackState.line && map) map.removeOverLay(playbackState.line);
        } catch(e){}
        playbackState.marker = null;
        playbackState.line = null;
        updatePlaybackTimeLabel('—');
        // 按钮回到初始状态
        updatePlaybackButtonsState('idle');
    }

    function updatePlaybackTimeLabel(text){
        const el = document.getElementById('playbackTimeLabel');
        if (el) el.textContent = '时间：' + (text || '—');
    }

    // 时间滑动条：配置与跳转
    function configureTimeSlider(points){
        try {
            const slider = document.getElementById('playbackTimeSlider');
            const cursor = document.getElementById('playbackTimeCursor');
            if (!slider || !points || !points.length) return;
            const minMs = points[0].time.getTime();
            const maxMs = points[points.length - 1].time.getTime();
            const prev = parseInt(slider.value, 10);
            slider.min = String(minMs);
            slider.max = String(maxMs);
            slider.step = '1000'; // 以秒为步进
            let val = (isFinite(prev) && prev >= minMs && prev <= maxMs) ? prev : minMs;
            slider.value = String(val);
            if (cursor) cursor.textContent = formatTimeForLabel(val);
        } catch(e) { console.warn('配置时间滑动条失败:', e); }
    }
    function formatTimeForLabel(ms){
        if (!isFinite(ms)) return '—';
        const d = new Date(ms);
        const pad = n => String(n).padStart(2,'0');
        const y = d.getFullYear();
        const M = pad(d.getMonth()+1);
        const da = pad(d.getDate());
        const h = pad(d.getHours());
        const m = pad(d.getMinutes());
        const s = pad(d.getSeconds());
        return `${y}-${M}-${da} ${h}:${m}:${s}`;
    }
    function findIndexByTime(points, ms){
        try {
            if (!points || !points.length) return 0;
            const n = points.length;
            const minMs = points[0].time.getTime();
            const maxMs = points[n-1].time.getTime();
            if (!isFinite(ms)) return 0;
            if (ms <= minMs) return 0;
            if (ms >= maxMs) return n-1;
            let lo = 0, hi = n - 1, ans = 0;
            while (lo <= hi) {
                const mid = (lo + hi) >> 1;
                const t = points[mid].time.getTime();
                if (t < ms) { lo = mid + 1; ans = lo; }
                else { hi = mid - 1; ans = mid; }
            }
            return Math.max(0, Math.min(n-1, ans));
        } catch(e){ console.warn('findIndexByTime失败:', e); return 0; }
    }
    function jumpToSliderTime(){
        try {
            const slider = document.getElementById('playbackTimeSlider');
            if (!slider || !playbackState.points || !playbackState.points.length) return;
            const ms = parseInt(slider.value, 10);
            if (!isFinite(ms)) return;
            const idx = findIndexByTime(playbackState.points, ms);
            playbackState.idx = idx;
            const pts = playbackState.points;
            const ll = pts[idx].ll;
            playbackState.path = pts.slice(0, idx+1).map(p=>p.ll);
            // 更新折线
            try {
                if (playbackState.line && typeof playbackState.line.setLngLats === 'function') {
                    playbackState.line.setLngLats(playbackState.path);
                } else {
                    if (playbackState.line && map) { try { map.removeOverLay(playbackState.line); } catch(e){} }
                    playbackState.line = new T.Polyline(playbackState.path, { color: '#00FFFF', weight: 1, opacity: 0.9 });
                    if (map) map.addOverLay(playbackState.line);
                }
            } catch(e){ console.warn('滑块更新折线失败:', e); }
            // 更新标记与时间
            ensurePlaybackDom(ll);
            updatePlaybackDom(ll);
            updatePlaybackTimeLabel(pts[idx].ts);
            // 若正在播放，立即按新位置继续
            if (playbackState.running) {
                if (playbackState.timer) { clearTimeout(playbackState.timer); playbackState.timer = null; }
                scheduleNext();
            }
        } catch(e) { console.warn('滑块跳转失败:', e); }
    }

    // DOM标记：使用容器坐标实现可见移动
    let playbackDom = { el: null, lastLL: null, bound: false };

    function ensurePlaybackDom(ll){
        try {
            playbackDom.lastLL = ll;
            const pane = (map && map.getPanes && map.getPanes().overlayPane) || document.getElementById('mapContainer');
            if (!pane) { console.warn('未找到overlayPane或mapContainer'); return; }
            if (!playbackDom.el) {
                const el = document.createElement('div');
                el.id = 'playbackDomMarker';
                el.style.position = 'absolute';
                el.style.width = '16px';
                el.style.height = '16px';
                el.style.borderRadius = '50%';
                el.style.background = '#2C64A7';
                el.style.border = '2px solid #fff';
                el.style.boxShadow = '0 0 0 1px rgba(0,0,0,.25)';
                el.style.zIndex = '9999';
                pane.appendChild(el);
                playbackDom.el = el;
                console.log('[Playback] 创建DOM标记，父节点=', pane === document.getElementById('mapContainer') ? '#mapContainer' : 'overlayPane');
                bindPlaybackDomEvents();
            }
            updatePlaybackDom(ll);
        } catch(e) { console.warn('创建DOM标记失败:', e); }
    }

    function updatePlaybackDom(ll){
        try {
            playbackDom.lastLL = ll;
            if (!map || !playbackDom.el || !ll) { console.log('[Playback] update取消：map/el/ll缺失'); return; }
            let p;
            if (typeof map.lngLatToLayerPoint === 'function') {
                p = map.lngLatToLayerPoint(ll);
                console.log('[Playback] 使用layerPoint定位:', ll && ll.lng, ll && ll.lat, '=>', p && p.x, p && p.y);
            } else if (typeof map.lngLatToContainerPoint === 'function') {
                p = map.lngLatToContainerPoint(ll);
                console.log('[Playback] 使用containerPoint定位:', ll && ll.lng, ll && ll.lat, '=>', p && p.x, p && p.y);
            } else {
                console.warn('地图对象不支持lngLat到像素坐标转换');
                return;
            }
            playbackDom.el.style.left = p.x + 'px';
            playbackDom.el.style.top = p.y + 'px';
        } catch(e) { console.warn('更新DOM标记位置失败:', e); }
    }

    function bindPlaybackDomEvents(){
        if (playbackDom.bound) return;
        const updater = function(){
            try {
                if (!map || !playbackDom.el || !playbackDom.lastLL) return;
                let p;
                if (typeof map.lngLatToLayerPoint === 'function') {
                    p = map.lngLatToLayerPoint(playbackDom.lastLL);
                } else if (typeof map.lngLatToContainerPoint === 'function') {
                    p = map.lngLatToContainerPoint(playbackDom.lastLL);
                }
                if (!p) return;
                playbackDom.el.style.left = p.x + 'px';
                playbackDom.el.style.top = p.y + 'px';
            } catch(e){}
        };
        try {
            map.addEventListener('move', updater);
            map.addEventListener('zoom', updater);
            playbackDom.bound = true;
        } catch(e){}
    }

    function removePlaybackDom(){
        try {
            const el = playbackDom.el;
            playbackDom.lastLL = null;
            if (el && el.parentNode) el.parentNode.removeChild(el);
        } catch(e){}
        playbackDom.el = null;
        playbackDom.bound = false;
    }

</script>
</body>

</html>
