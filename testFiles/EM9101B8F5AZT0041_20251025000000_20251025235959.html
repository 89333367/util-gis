<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Âá†‰ΩïÂõæÂΩ¢Â±ïÁ§∫Ê®°Êùø - LeafletÁâà</title>

    <!-- APIÂØÜÈí•ÈÖçÁΩÆ - Êú¨Âú∞Êñá‰ª∂ÁéØÂ¢É‰ΩøÁî®ÁôæÂ∫¶Âú∞ÂõæÔºåWebÁéØÂ¢É‰ΩøÁî®Â§©Âú∞Âõæ -->
    <script>
        // ÁôæÂ∫¶Âú∞ÂõæAPIÂØÜÈí•ÔºàÊú¨Âú∞Êñá‰ª∂ÁéØÂ¢É‰ΩøÁî®Ôºâ
        const BAIDU_MAP_AK = 'vMMZdKUVyHa5p2m5GZl2w4sNlF0dwr52';
        // Â§©Âú∞ÂõæAPIÂØÜÈí•ÔºàWebÁéØÂ¢É‰ΩøÁî®Ôºâ
        const TIANDITU_MAP_TK = '9ed3674d01dd7c129ab38e3c38bf651a';
    </script>

    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>

    <!-- Â§©Âú∞Âõæ API -->
    <script>
        // Âä®ÊÄÅÂä†ËΩΩÂ§©Âú∞ÂõæAPIÔºåÈÅøÂÖçdocument.write
        const tiandituScript = document.createElement('script');
        tiandituScript.src = 'https://api.tianditu.gov.cn/api?v=4.0&tk=' + TIANDITU_MAP_TK;
        tiandituScript.async = true;
        document.head.appendChild(tiandituScript);
    </script>

    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

    <!-- Turf.js Áî®‰∫éÂá†‰ΩïËÆ°ÁÆó -->
    <script src="https://unpkg.com/@turf/turf@6.5.0/turf.min.js"></script>

    <!-- WKTËß£ÊûêÂ∫ì -->
    <script src="https://unpkg.com/wellknown@0.5.0/wellknown.js"></script>

    <!-- Leaflet Geometry Util for area calculation -->
    <script src="https://unpkg.com/leaflet-geometryutil@0.11.0/src/leaflet.geometryutil.js"></script>

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #f0f0f0;
            margin: 0;
            padding: 0;
            height: 100vh;
            overflow: hidden;
        }
        
        .container {
            width: 100%;
            height: 100vh;
            margin: 0;
            background: white;
            border-radius: 0;
            box-shadow: none;
            overflow: hidden;
            position: relative;
        }
        
        .header {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            background: transparent;
            color: white;
            padding: 0;
            text-align: left;
            z-index: 1000;
            display: none;
        }
        
        .header.show {
            display: block;
        }
        
        .header h1 {
            font-size: 18px;
            margin: 0;
            display: inline-block;
        }
        
        .header p {
            opacity: 0.9;
            font-size: 12px;
            margin: 0 0 0 20px;
            display: inline-block;
        }
        
        .main-content {
            position: relative;
            height: 100vh;
            width: 100%;
        }
        
        .left-panel {
            width: 350px;
            background: #f8f9fa;
            border-right: 1px solid #e9ecef;
            display: flex;
            flex-direction: column;
            position: absolute;
            top: 0;
            left: 0;
            height: 100vh;
            z-index: 1001;
            transition: transform 0.3s ease;
            box-shadow: 2px 0 8px rgba(0,0,0,0.1);
        }
        
        .left-panel.collapsed {
            transform: translateX(-350px);
            z-index: 9999; /* Á°Æ‰øùÈù¢ÊùøÂú®Âõ∫ÂÆöÊåâÈíÆ‰πã‰∏ã */
        }
        
        .left-panel.collapsed .panel-toggle {
            left: 100%;
            display: none !important;
        }
        

        
        .toolbar {
            padding: 15px;
            background: white;
            border-bottom: 1px solid #e9ecef;
        }
        
        .toolbar h3 {
            margin-bottom: 10px;
            color: #495057;
            font-size: 16px;
        }
        
        .tool-buttons {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }
        
        .tool-btn {
            padding: 8px 12px;
            border: none;
            border-radius: 6px;
            background: #6c757d;
            color: white;
            cursor: pointer;
            font-size: 12px;
            transition: all 0.3s ease;
        }
        
        .tool-btn:hover {
            background: #5a6268;
            transform: translateY(-1px);
        }
        
        .tool-btn.active {
            background: #007bff;
        }
        
        .wkt-input {
            flex: 1;
            padding: 15px;
            display: flex;
            flex-direction: column;
        }
        
        .tab-container {
            margin-bottom: 15px;
        }
        
        .tabs {
            display: flex;
            background: white;
            border-radius: 8px;
            padding: 4px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .tab {
            flex: 1;
            padding: 10px;
            text-align: center;
            cursor: pointer;
            border-radius: 6px;
            transition: all 0.3s ease;
            font-size: 13px;
            font-weight: 500;
        }
        
        .tab.active {
            background: #007bff;
            color: white;
            box-shadow: 0 2px 4px rgba(0,123,255,0.3);
        }
        
        .tab-content {
            display: none;
            margin-top: 15px;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .input-group {
            margin-bottom: 15px;
        }
        
        .input-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
            color: #495057;
            font-size: 13px;
        }
        
        .input-group textarea {
            width: 100%;
            height: 80px;
            padding: 10px;
            border: 2px solid #e9ecef;
            border-radius: 6px;
            resize: vertical;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            transition: border-color 0.3s ease;
        }
        
        .input-group textarea:focus {
            outline: none;
            border-color: #007bff;
        }
        
        .button-group {
            display: flex;
            gap: 8px;
            margin-bottom: 15px;
        }
        
        .btn {
            padding: 10px 16px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 13px;
            font-weight: 500;
            transition: all 0.3s ease;
            flex: 1;
        }
        
        .btn-primary {
            background: #007bff;
            color: white;
        }
        
        .btn-primary:hover {
            background: #0056b3;
            transform: translateY(-1px);
        }
        
        .btn-secondary {
            background: #6c757d;
            color: white;
        }
        
        .btn-secondary:hover {
            background: #5a6268;
            transform: translateY(-1px);
        }
        
        .btn-success {
            background: #28a745;
            color: white;
        }
        
        .btn-success:hover {
            background: #1e7e34;
            transform: translateY(-1px);
        }
        
        .btn-warning {
            background: #ffc107;
            color: #212529;
        }
        
        .btn-warning:hover {
            background: #e0a800;
            transform: translateY(-1px);
        }
        
        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        .btn-primary:disabled {
            background: #6c757d;
            border-color: #6c757d;
        }
        
        .btn-secondary:disabled {
            background: #6c757d;
            border-color: #6c757d;
        }
        
        .btn-warning:disabled {
            background: #6c757d;
            border-color: #6c757d;
            color: white;
        }
        
        .color-controls {
            display: flex;
            gap: 15px;
            align-items: center;
            margin-bottom: 15px;
            padding: 10px;
            background: white;
            border-radius: 6px;
        }
        
        .color-picker {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            border: 2px solid #dee2e6;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .color-picker:hover {
            border-color: #007bff;
            transform: scale(1.1);
        }
        
        .color-label {
            font-size: 12px;
            color: #495057;
            font-weight: 500;
        }
        
        .map-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            background: #e9ecef;
        }
        
        #map {
            width: 100%;
            height: 100%;
        }
        

        
        .header-toggle {
            position: fixed;
            top: 10px;
            right: 20px;
            background: rgba(255, 255, 255, 0.9);
            color: #333;
            border: none;
            border-radius: 4px;
            padding: 8px 12px;
            cursor: pointer;
            font-size: 14px;
            z-index: 1001;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            display: none;
        }
        
        .header-toggle:hover {
            background: rgba(255, 255, 255, 1);
            box-shadow: 0 4px 8px rgba(0,0,0,0.15);
        }
        
        .map-controls {
            position: absolute;
            top: 20px;
            right: 20px;
            z-index: 1000;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .panel-toggle-fixed {
            position: absolute;
            bottom: 20px;
            left: 20px;
            width: 40px;
            height: 40px;
            border: none;
            border-radius: 50%;
            background: #007bff;
            color: white;
            box-shadow: 0 2px 8px rgba(0,0,0,0.15);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            transition: all 0.3s ease;
            z-index: 10000;
        }
        
        .panel-toggle-fixed:hover {
            background: #0056b3;
            transform: scale(1.1);
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }
        
        .map-control-btn {
            width: 40px;
            height: 40px;
            border: none;
            border-radius: 50%;
            background: white;
            box-shadow: 0 2px 8px rgba(0,0,0,0.15);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            transition: all 0.3s ease;
        }
        
        .map-control-btn:hover {
            background: #f8f9fa;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }
        
        .playback-player {
            position: absolute;
            bottom: 20px;
            right: 20px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 8px 24px rgba(0,0,0,0.15);
            z-index: 1000;
            width: 600px;
            max-width: 90vw;
            overflow: hidden;
        }
        
        .player-header {
            background: #007bff;
            color: white;
            padding: 12px 16px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .player-title {
            font-size: 14px;
            font-weight: 500;
        }
        
        .player-close {
            background: none;
            border: none;
            color: white;
            font-size: 18px;
            cursor: pointer;
            padding: 0;
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: background 0.3s ease;
        }
        
        .player-close:hover {
            background: rgba(255,255,255,0.2);
        }
        
        .player-controls {
            padding: 16px;
            display: flex;
            align-items: center;
            gap: 16px;
        }
        
        .player-btn {
            width: 40px;
            height: 40px;
            border: none;
            border-radius: 50%;
            background: #007bff;
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            transition: all 0.3s ease;
        }
        
        .player-btn:hover {
            background: #0056b3;
            transform: scale(1.05);
        }
        
        .player-btn:disabled {
            background: #6c757d;
            cursor: not-allowed;
            transform: none;
        }
        
        .player-speed {
            display: flex;
            align-items: center;
            gap: 8px;
            background: #f8f9fa;
            padding: 8px 12px;
            border-radius: 8px;
        }
        
        .player-speed label {
            font-size: 12px;
            color: #495057;
            font-weight: 500;
        }
        
        .player-speed input[type="range"] {
            width: 80px;
        }
        
        .player-speed span {
            font-size: 12px;
            color: #6c757d;
            min-width: 25px;
        }
        
        .player-progress {
            flex: 1;
            display: flex;
            align-items: center;
            gap: 12px;
            background: #f8f9fa;
            padding: 8px 12px;
            border-radius: 8px;
        }
        
        .player-progress input[type="range"] {
            flex: 1;
            height: 4px;
            border-radius: 2px;
            background: #e9ecef;
            outline: none;
            -webkit-appearance: none;
        }
        
        .player-progress input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: #007bff;
            cursor: pointer;
        }
        
        .player-progress span {
            font-size: 12px;
            color: #495057;
            font-weight: 500;
            min-width: 80px;
        }
        
        .speed-control {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .speed-control label {
            font-size: 12px;
            color: #495057;
            font-weight: 500;
        }
        
        .speed-control input[type="range"] {
            width: 80px;
        }
        
        .speed-value {
            font-size: 12px;
            color: #6c757d;
            min-width: 30px;
        }
        
        .time-slider-container {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 10px;
        }
        
        .time-slider {
            flex: 1;
            height: 4px;
            border-radius: 2px;
            background: #e9ecef;
            outline: none;
            -webkit-appearance: none;
        }
        
        .time-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: #007bff;
            cursor: pointer;
        }
        
        .time-label {
            font-size: 11px;
            color: #495057;
            font-weight: 500;
            min-width: 120px;
        }
        
        .status-info {
            position: absolute;
            top: 20px;
            right: 20px;
            background: white;
            padding: 10px 15px;
            border-radius: 6px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            z-index: 1000;
            font-size: 12px;
            color: #495057;
        }
        
        .measure-result {
            position: absolute;
            background: rgba(0,0,0,0.8);
            color: white;
            padding: 6px 10px;
            border-radius: 4px;
            font-size: 12px;
            pointer-events: none;
            z-index: 1001;
        }
        
        .coordinate-info {
            position: absolute;
            bottom: 20px;
            right: 20px;
            background: white;
            padding: 8px 12px;
            border-radius: 6px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            z-index: 1000;
            font-size: 11px;
            color: #495057;
        }
        
        .hidden {
            display: none !important;
        }
        
        @media (max-width: 1200px) {
            .main-content {
                flex-direction: column;
                height: auto;
            }
            
            .left-panel {
                width: 100%;
                height: 400px;
            }
            
            .map-container {
                height: 500px;
            }
        }
        
        .area-label {
            background: rgba(0,0,0,0.8);
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            white-space: nowrap;
            pointer-events: none;
            z-index: 1000; /* Á°Æ‰øùÊ†áÁ≠æÂú®ÊúÄ‰∏äÂ±Ç */
        }
        
        /* ÈªòËÆ§ÈöêËóèÊ†áÁ≠æÂÆπÂô®‰∏ãÁöÑÊ†áÁ≠æ */
        .labels-hidden .area-label { display: none; }

        /* Âè≥ÈîÆËèúÂçïÊ†∑Âºè */
        .context-menu {
            position: absolute;
            background: white;
            border: 1px solid #ccc;
            border-radius: 4px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
            z-index: 10000;
            min-width: 120px;
            display: none;
        }

        .context-menu-item {
            padding: 8px 12px;
            cursor: pointer;
            font-size: 12px;
            border-bottom: 1px solid #eee;
            transition: background-color 0.2s;
        }

        .context-menu-item:last-child {
            border-bottom: none;
        }

        .context-menu-item:hover {
            background-color: #f0f0f0;
        }

        .context-menu-item.disabled {
            color: #999;
            cursor: not-allowed;
        }

        .context-menu-item.disabled:hover {
            background-color: white;
        }

        /* CanvasËΩ®ËøπÁÇπ‰ºòÂåñÊ†∑Âºè */
        .leaflet-canvas {
            image-rendering: -webkit-optimize-contrast;
            image-rendering: crisp-edges;
            image-rendering: pixelated;
        }
        
        /* ÊûÅÂ∞èËΩ®ËøπÁÇπÊ†∑Âºè */
        .leaflet-marker-icon.tiny-point {
            width: 1px !important;
            height: 1px !important;
            min-width: 1px !important;
            min-height: 1px !important;
            border-radius: 50% !important;
            opacity: 0.8 !important;
        }
        
        /* CanvasÊ∏≤ÊüìÁöÑCircleMarker‰ºòÂåñ */
        .leaflet-canvas-pane circle {
            vector-effect: non-scaling-stroke;
            shape-rendering: optimizeSpeed;
        }
        
        /* ËΩ®ËøπÁÇπÊÇ¨ÂÅúÊó∂ÊòæÁ§∫ÊâãÂûãÊåáÈíà */
        .leaflet-marker-icon.tiny-point:hover {
            cursor: pointer !important;
        }
        
        /* CircleMarkerÊÇ¨ÂÅúÊó∂ÊòæÁ§∫ÊâãÂûãÊåáÈíà */
        .leaflet-canvas-pane circle:hover {
            cursor: pointer !important;
        }
        
        /* ÊôÆÈÄömarkerÊÇ¨ÂÅúÊó∂ÊòæÁ§∫ÊâãÂûãÊåáÈíà */
        .leaflet-marker-icon:hover {
            cursor: pointer !important;
        }
        
        /* ËΩ®ËøπÁÇπCanvasÂõæÂ±Ç‰ºòÂåñ */
        .leaflet-layer canvas {
            will-change: transform;
            transform: translateZ(0);
        }
    </style>
</head>
<body>
<div class="container">
    <div class="main-content">
        <div class="left-panel">

            <div class="toolbar">
                <h3>üõ†Ô∏è Â∑•ÂÖ∑Ê†è</h3>
                <div class="tool-buttons">
                    <button class="tool-btn" id="measureDistanceBtn" title="ÊµãË∑ù">üìè ÊµãË∑ù</button>
                    <button class="tool-btn" id="measureAreaBtn" title="ÊµãÈù¢">üìê ÊµãÈù¢</button>
                    <button class="tool-btn" id="mapTypeBtn" title="ÂàáÊç¢Âú∞Âõæ">üó∫Ô∏è Ë°óÈÅìÂõæ</button>
                    <button class="tool-btn" id="clearAllBtn" title="Ê∏ÖÁ©∫ÊâÄÊúâ">üóëÔ∏è Ê∏ÖÁ©∫</button>
                </div>
            </div>

            <div class="wkt-input">
                <div class="tab-container">
                    <div class="tabs">
                        <div class="tab active" data-tab="outline">ËΩÆÂªì</div>
                        <div class="tab" data-tab="track">ËΩ®Ëøπ</div>
                    </div>

                    <div class="tab-content active" id="outline-tab">
                        <div class="input-group">
                            <textarea id="outlineWkt" style="height: 400px;"
                                      placeholder="ËæìÂÖ•Â§öËæπÂΩ¢WKTÔºåÊîØÊåÅÂ§öË°åËæìÂÖ•ÔºåÊØèË°å‰∏Ä‰∏™WKT">MULTIPOLYGON (((124.558987037541 45.389917703926585, 124.55898368625557 45.38992182202306, 124.55898141084202 45.389926290155444, 124.55898028169919 45.38993097008466, 124.55898033376194 45.38993571701884, 124.55900372258206 45.390107235511884, 124.5590158258355 45.39018621763859, 124.55902476683234 45.39027330261787, 124.55903883979397 45.390359602790156, 124.55904664526507 45.390450341806144, 124.55905114052838 45.390524584151684, 124.55905186166164 45.39052876919103, 124.55907136492094 45.390596909345604, 124.5590719273008 45.39060039165705, 124.55907456098079 45.39060760623868, 124.5590763589842 45.390610686398695, 124.55907807802825 45.390615455296704, 124.5590783972206 45.39062028330083, 124.5590795390969 45.39062568408049, 124.55908220046423 45.39063081236916, 124.55908627237862 45.39063545823839, 124.5590915881552 45.39063943150775, 124.55909793019067 45.390642569529874, 124.55910503887144 45.390644743848554, 124.55914184775706 45.39065300078877, 124.55914787867454 45.39065513750944, 124.55915131171896 45.39065690037832, 124.55917781541325 45.39067317007818, 124.559178935139 45.39067403338308, 124.55918151424461 45.39067658105019, 124.5591847760569 45.39068088483266, 124.55918888274337 45.390685231123264, 124.55919410038105 45.390688938874995, 124.55921765073657 45.3907027114463, 124.55922243610682 45.39070655236333, 124.55923643808381 45.39072062442029, 124.55924157162093 45.390724798990284, 124.5592478038752 45.39072814970504, 124.55925487378272 45.39073053620576, 124.55925759262342 45.39073122304386, 124.55926237703824 45.39073296048874, 124.55926659169494 45.390735234977214, 124.5592806007754 45.39074517847561, 124.55928715671281 45.39074890540555, 124.5592947103189 45.39075153246778, 124.5592996226237 45.390752789353826, 124.55930182398863 45.39075330004457, 124.55931999649971 45.390757090516836, 124.5593248155059 45.39075861727148, 124.55933943526095 45.39076567048039, 124.55934684502589 45.39076845868341, 124.55935493920553 45.390770041729816, 124.55939649382145 45.39077479326911, 124.55940224536324 45.39077614000813, 124.55940738675625 45.39077824492628, 124.55941080396286 45.390780241329225, 124.55941793123799 45.39078514013596, 124.55942124432612 45.39078716968055, 124.55942483604781 45.390789126959774, 124.55942941206784 45.390792352307095, 124.55943186049181 45.39079477199556, 124.55943702758582 45.39079890919145, 124.55944327969118 45.39080222057039, 124.55945035610581 45.39080456805358, 124.5594579617557 45.39080585375499, 124.55946577949803 45.390806024063075, 124.5594734833465 45.39080507187631, 124.5594807520636 45.3908030368992, 124.55948728255656 45.39080000398687, 124.55949076927375 45.390797996727706, 124.55949525696398 45.39079621253304, 124.55950544981746 45.39079391173694, 124.55951201324902 45.3907919383746, 124.5595193050209 45.39078915418789, 124.55952393581111 45.390788091321284, 124.55952864635408 45.39078766780359, 124.5595336227251 45.39078788222167, 124.55953911756956 45.390788816551705, 124.55954595759252 45.39078952730388, 124.55955286752099 45.390789360063344, 124.55955962220403 45.39078832027941, 124.55956600154929 45.39078644183209, 124.5595717976943 45.3907837859281, 124.5595768217796 45.39078043910653, 124.55958227621714 45.390776084185774, 124.55958604929866 45.390774021094515, 124.55959029160722 45.39077249730992, 124.55959486403535 45.39077156069399, 124.55959960456593 45.39077124443424, 124.55960543069344 45.39077163193178, 124.55960754715518 45.39077197492567, 124.55961524203137 45.390772654349995, 124.55962297341883 45.390772227744115, 124.55963042438373 45.39077071259597, 124.55963728948754 45.39076817101626, 124.55964328730822 45.39076470719235, 124.55964817197639 45.3907604631172, 124.55965174325458 45.39075561276875, 124.55965385474532 45.3907503549779, 124.55965441989241 45.390744905277835, 124.55965132267234 45.39066843758645, 124.55964531191256 45.39057912622761, 124.55964038193333 45.39048940125092, 124.55963086072686 45.39040988725536, 124.55963008750172 45.39040631793487, 124.55961667835575 45.39036374983967, 124.55961617005944 45.39036031827429, 124.55961453854869 45.39031338770062, 124.5596191097554 45.390266520516924, 124.55961919546351 45.390264259964184, 124.55961906546412 45.39025823380239, 124.55961852125817 45.39025409247784, 124.55961838247717 45.39025352095846, 124.55960017255849 45.39008700982147, 124.55957546233476 45.389911073618904, 124.55957509533091 45.38990916117845, 124.55956737916006 45.38987751904439, 124.55956725324381 45.389873598665524, 124.55956804217413 45.38987028461174, 124.55956969989278 45.38986713379753, 124.55957216747399 45.38986425822307, 124.55957535720408 45.3898617601046, 124.55957915570038 45.38985972824041, 124.55958342794102 45.38985823485539, 124.55958869869141 45.38985720021256, 124.55959275089242 45.38985685797641, 124.55961338214045 45.389856201506745, 124.55962039793974 45.38985551635782, 124.55962711474092 45.38985393269581, 124.55963330285768 45.3898515046753, 124.55963875068248 45.389848315324414, 124.55964327192262 45.38984447370558, 124.55964671197104 45.389840111185976, 124.55964895319269 45.38983537694543, 124.55964991894763 45.389830432874945, 124.55965005730141 45.38982822796263, 124.55965233039346 45.389821006343624, 124.55965323181857 45.38981568625761, 124.55965262393764 45.389810345538535, 124.55965053070923 45.389805194678786, 124.55964703463364 45.38980043668778, 124.55964227350105 45.389796259090836, 124.55963643496075 45.38979282653839, 124.55962974912562 45.38979027431659, 124.55962247950247 45.38978870301537, 124.55961491260663 45.389788174563954, 124.55960734667002 45.389788709790025, 124.55958238030546 45.389792266437496, 124.55957950915783 45.38979253706965, 124.55949055438298 45.389797971973586, 124.55948482345507 45.38979769517893, 124.5594793417157 45.38979664876815, 124.55947547723795 45.38979542337616, 124.55942870565312 45.38977742344157, 124.5594214375878 45.38977527721856, 124.55942001459992 45.389774973862586, 124.55941353635849 45.38977401395476, 124.55937403484239 45.389770636765476, 124.55936550277016 45.38977058186917, 124.55936419059823 45.389770676956324, 124.55935960886411 45.38977120834085, 124.55932169476927 45.38977728865654, 124.55931597452287 45.389777663055874, 124.5593118247474 45.38977756115657, 124.55930493094623 45.389777830624105, 124.55929821780711 45.38977896776614, 124.55927796313483 45.389783795323105, 124.55927289892594 45.38978449534348, 124.55926833330852 45.38978456181287, 124.55925972084235 45.389783690185496, 124.55925650879342 45.38978346195713, 124.5592519338151 45.38978327366143, 124.55924467705823 45.38978241536485, 124.55922149213286 45.3897779602804, 124.55921482592173 45.38977711668059, 124.55920805305229 45.389777113596104, 124.55920138529902 45.38977795112334, 124.55919503114947 45.389779603074494, 124.55917921149221 45.389784878023804, 124.55917414201663 45.389786065831316, 124.55917083514734 45.389786520794516, 124.55911757673829 45.389791308994276, 124.5591114922601 45.38979115771403, 124.55910561267736 45.38979013332939, 124.55910257651024 45.389789213099256, 124.55909542146269 45.38978760898698, 124.55908795975881 45.38978701925118, 124.55908047814572 45.389787466554914, 124.55907326413572 45.38978893370867, 124.55906659495709 45.38979136433094, 124.55906072690102 45.38979466501494, 124.55905588547226 45.38979870891809, 124.55905225672315 45.389803340636476, 124.55904998010392 45.38980838217691, 124.55904914310364 45.38981363979696, 124.559049777888 45.389818911450455, 124.55905186006312 45.38982399455178, 124.55905350152076 45.389826897307906, 124.55905469165451 45.389830498128205, 124.55905490405797 45.389833750662014, 124.55905427367611 45.38983697619681, 124.5590525034041 45.38984074435445, 124.55905145411515 45.389842275037424, 124.55904895543078 45.389847005154664, 124.55904775037348 45.38985198037076, 124.55904788108928 45.38985702668251, 124.55904817446988 45.38985886643981, 124.5590480465471 45.38986287994421, 124.5590470734759 45.3898661204441, 124.55904526646532 45.38986917818677, 124.55904224691146 45.389872421245485, 124.5589948810972 45.38991009328329, 124.55899212785054 45.38991255790961, 124.558987037541 45.389917703926585)), ((124.55446358268267 45.392809545917814, 124.55445979701722 45.39281415853619, 124.55445737132742 45.39281920528951, 124.55445640016399 45.39282448946165, 124.55445692138201 45.39282980508216, 124.55445891466559 45.39283494495473, 124.55446230231915 45.39283970873339, 124.55446489191596 45.3928425973639, 124.55446697812651 45.39284602889509, 124.55446799898155 45.39284928989138, 124.55446815990805 45.39285313506938, 124.55446767915555 45.39285592555207, 124.55445616119616 45.39289763299235, 124.55445551903395 45.39290124066197, 124.55445500548508 45.39290754297566, 124.55445537005528 45.392913110961025, 124.55445561913602 45.39291427569199, 124.55445722450492 45.39291892993537, 124.55446258984789 45.39293006596076, 124.55446564174615 45.39293482725373, 124.55446993846346 45.39293908504195, 124.55447531899095 45.39294267977483, 124.55448158170594 45.39294547674824, 124.55448849192818 45.39294737115211, 124.55449579071309 45.392948291998145, 124.55467445972026 45.39295841536554, 124.5546808250119 45.39295840217341, 124.55468172270236 45.39295834756427, 124.55468611839511 45.39295789803539, 124.554691924224 45.39295705965576, 124.55469921701237 45.39295545877476, 124.55470591394905 45.39295287016111, 124.55471174871408 45.39294939675734, 124.5547164892742 45.3929451766917, 124.55471994710992 45.3929403777853, 124.55472198471244 45.39293519087814, 124.55472252105204 45.39292982224002, 124.55472153480017 45.39292448536755, 124.55471906517809 45.392919392494136, 124.55471521039637 45.39291474614987, 124.55471010311186 45.392909798822785, 124.5547080159554 45.39290660999327, 124.55470685782684 45.392903200533006, 124.55470667014396 45.39289969728201, 124.5547074601803 45.392896236008916, 124.55470919731724 45.392892950857856, 124.55471181423138 45.392889969145706, 124.55471571038662 45.39288702836779, 124.55471897325411 45.39288524182383, 124.5547305461516 45.39287994041483, 124.55473530652874 45.39287828986288, 124.5547384908999 45.39287752055201, 124.5548294804767 45.39286001901715, 124.55488235247121 45.39285289869907, 124.55498753570315 45.39284775386025, 124.55508518115445 45.39284475244367, 124.5551497580691 45.392841750012316, 124.55519764431251 45.39284201101839, 124.55520480863825 45.39284291445904, 124.55521299319383 45.39284473313035, 124.55521848009211 45.39284661036055, 124.55522249869817 45.39284877431331, 124.55522582504207 45.39285145887005, 124.55522832582132 45.39285455644802, 124.55522990081825 45.39285794291343, 124.55523048691578 45.39286148255565, 124.5552300606259 45.392865033524224, 124.55522840819648 45.392869008847754, 124.55522705092912 45.3928710250108, 124.5552244320502 45.39287623661592, 124.5552233754096 45.39288171487553, 124.55522392534927 45.392887229895706, 124.55522605879175 45.39289255023973, 124.55522968620788 45.39289745264045, 124.55523465537418 45.392901731369484, 124.55524075776071 45.392905206870765, 124.5552477372821 45.39290773329543, 124.55525530104383 45.39290920462249, 124.55526313163391 45.39290955910796, 124.55529211754742 45.39290877358067, 124.55545896921925 45.392910840648206, 124.55546662882611 45.39291039213393, 124.55547400714354 45.3929088752124, 124.55548080709578 45.392906350959976, 124.55548675489422 45.39290292101145, 124.55549161106093 45.39289872346799, 124.55549518007074 45.39289392733663, 124.55549731822369 45.39288872572552, 124.55549793943142 45.39288332806864, 124.55549701868217 45.39287795169346, 124.55549459304898 45.392872813070476, 124.555490760196 45.39286811909739, 124.55548747041435 45.39286488992073, 124.55548520086975 45.39286147357548, 124.55548401227178 45.39285801303527, 124.55548382483445 45.39285445505391, 124.55548464605553 45.392850941952034, 124.5554864430852 45.39284761425718, 124.5554891440413 45.39284460507834, 124.55549264088324 45.392842034784955, 124.55549679373638 45.3928400061897, 124.55550143648254 45.392838600438274, 124.5555071796112 45.39283775680349, 124.5555961193514 45.392834788598584, 124.5556811176136 45.392834729367436, 124.555869618993 45.39283175491799, 124.55591208491356 45.392831807435776, 124.5560139552967 45.392835688211235, 124.5561175069836 45.3928377199968, 124.55621520685075 45.392837740207185, 124.55630829527745 45.39283701424536, 124.55631365291353 45.39283747418295, 124.5563248459664 45.3928372735444, 124.55632961578438 45.392836689333755, 124.5564234338448 45.39283339150361, 124.55642925180202 45.39283287025494, 124.55650191239121 45.392822326601284, 124.55653355081625 45.39281939593287, 124.55653818262228 45.39281938787093, 124.5565581332215 45.39282187653394, 124.55656492144583 45.39282228969874, 124.55657170617245 45.39282184893439, 124.55657827272557 45.39282056818716, 124.55661582147016 45.39281063680447, 124.55662129561502 45.39280981079726, 124.5566260887469 45.3928097393636, 124.55663081491159 45.3928103064321, 124.55663519776449 45.39281146350006, 124.5566434638768 45.39281506812388, 124.55665150523586 45.392817721888655, 124.5566601977831 45.39281899975235, 124.5567367048729 45.39282383838344, 124.55674239592314 45.3928248507208, 124.55674791324233 45.3928267166292, 124.5567500484879 45.392827728943516, 124.55675637825384 45.392830154360794, 124.55676324069775 45.392831701666864, 124.55677039299744 45.39283231611154, 124.55677758207457 45.392831975953165, 124.55678455354915 45.39283069322801, 124.55679106074123 45.39282851332429, 124.5567968733991 45.39282551337615, 124.5567990703793 45.39282413809228, 124.55680401753898 45.392820392427076, 124.55680787244468 45.39281605621824, 124.55680981251204 45.392813329192926, 124.55681372549718 45.392809469999236, 124.55681782509261 45.39280687703395, 124.5568235024048 45.392804625844946, 124.55684511485731 45.39279914172116, 124.55684914103104 45.3927983905663, 124.5568549059416 45.3927979939202, 124.55686069510278 45.392798414505044, 124.55686273635057 45.39279880146459, 124.55687002837915 45.39279966313267, 124.55687741952063 45.39279952162581, 124.55688463437465 45.39279838221669, 124.55689140410948 45.392796287360675, 124.55689747647878 45.39279331511396, 124.55690262522106 45.39278957622503, 124.55690692028257 45.39278578490622, 124.55691087211925 45.39278341258685, 124.55691606879537 45.39278138339627, 124.55693871827357 45.392775496242685, 124.55694595971552 45.39277297436926, 124.55695228953131 45.39276943860721, 124.55695742622063 45.39276504619947, 124.556961141344 45.392759992485914, 124.55696326968237 45.392754502215936, 124.55696371658458 45.39274881955355, 124.55695535373548 45.392631740292174, 124.55695021394546 45.392522129106325, 124.55693341648661 45.39234860972976, 124.55693390095763 45.392344647855495, 124.55693537838485 45.392341019479225, 124.55693846868458 45.39233649231562, 124.5569408962467 45.39233191569138, 124.55694211294254 45.392327105689525, 124.55694207889722 45.392322219950955, 124.55694079522662 45.392317418598665, 124.5569383040017 45.39231285898997, 124.55693468686873 45.39230869055941, 124.55690387328117 45.39227949419102, 124.55689867936525 45.39227548717702, 124.55689245271552 45.39227229328005, 124.55688544508179 45.39227004163247, 124.55687793978946 45.39226882327061, 124.5568697649502 45.39226809519803, 124.55686571855806 45.39226740659292, 124.55679071623236 45.39224411233702, 124.55678353133767 45.39224245530907, 124.55677602448115 45.392241824834194, 124.55676848809043 45.39224224547239, 124.55676121574379 45.3922437008378, 124.55675449073372 45.392246134237055, 124.55663958066526 45.39229840471975, 124.55663325274381 45.392302007824426, 124.55662814762857 45.39230647131464, 124.5566234556383 45.39231160741733, 124.55662040176993 45.39231388135136, 124.55661618954149 45.392316058390016, 124.55661274823476 45.39231734387274, 124.5565941380231 45.39232314821823, 124.55658735979995 45.392325875040996, 124.55658150682478 45.392329513366434, 124.5565768221322 45.39233391211951, 124.55657350024624 45.392338888649725, 124.55657167910273 45.39234423631536, 124.5565626570652 45.392391594595686, 124.55656068380519 45.39239596696582, 124.55655743943134 45.392399867957835, 124.55655438555645 45.392402374386165, 124.55653503994816 45.392415554149196, 124.55653042591665 45.39241788064021, 124.55652603629203 45.39241929872317, 124.55652134413701 45.39242010308598, 124.55651652052946 45.392420264401274, 124.556511741339 45.39241977678746, 124.55650718081671 45.392418658023125, 124.55650300524013 45.39241694889864, 124.55649982296252 45.39241499218198, 124.55649305494015 45.392408462449566, 124.55648817949246 45.39240459837999, 124.55648234771174 45.39240146027569, 124.55647577362733 45.392399163306656, 124.5564686985114 45.39239779177277, 124.55646138202425 45.39239739600998, 124.55624932179411 45.39240028173413, 124.55624056550943 45.39240111918611, 124.55623231460538 45.39240334814088, 124.55622714327518 45.392405253083815, 124.55622155565534 45.39240654935118, 124.55621562121694 45.392407032274654, 124.55616325246787 45.392405409996776, 124.55615871668343 45.392405458931854, 124.55615804445942 45.392405494312, 124.55615466263109 45.392405779291344, 124.55602261921517 45.39242112830243, 124.55601879869776 45.3924213683488, 124.55593615272139 45.392423218823815, 124.55589227244342 45.39242247279831, 124.55588523649364 45.392422810731105, 124.55587840772581 45.39242405178631, 124.55587201762101 45.39242615389472, 124.55586628279035 45.392429045799304, 124.55585914149732 45.39243340022764, 124.55585438479636 45.39243522709145, 124.55584842593592 45.39243645382026, 124.55584381816102 45.3924368151855, 124.55576586370907 45.39243825690182, 124.5556673664638 45.3924382610408, 124.55554605403192 45.39243926426752, 124.55546965549007 45.39244153103911, 124.55531516373189 45.392437487238226, 124.55530841874479 45.39243773049758, 124.55525801329046 45.39244271419748, 124.55517300223616 45.39244244796592, 124.55516557584964 45.392442936369285, 124.55515842459438 45.39244442956068, 124.5551518196258 45.392446870922505, 124.55514601138596 45.39245016788522, 124.55514122010685 45.3924541954373, 124.55513762746054 45.39245880086528, 124.55513536967065 45.39246380954421, 124.55513417125428 45.39246777082932, 124.5551322868033 45.39247110428914, 124.55512974473852 45.392473920076085, 124.55512650233447 45.39247635268069, 124.55512267323212 45.39247831684396, 124.55511839163304 45.39247974372649, 124.55511313262903 45.39248070694347, 124.55510910125982 45.39248100051279, 124.55504675833937 45.39248228988033, 124.55504017235837 45.392482830611236, 124.55503014626595 45.39248428220248, 124.55502283377513 45.392485892003215, 124.55497023793772 45.39250169142829, 124.55496360287033 45.392504257315615, 124.55496245966026 45.39250480947434, 124.55495789965711 45.392507393786346, 124.55493844719622 45.39252026117757, 124.55493537943134 45.392521957613496, 124.5548671629765 45.392555056704815, 124.55486225861732 45.39255682526788, 124.55482599218895 45.39256709411623, 124.55482059860883 45.392568090862, 124.55473434902835 45.39257864405486, 124.5547322007797 45.392578951766644, 124.55463272737755 45.392595301695046, 124.554625448789 45.392597056978744, 124.55451123686849 45.39263399824185, 124.554504698088 45.39263669400232, 124.55449904022255 45.39264024377472, 124.5544944845985 45.39264450869796, 124.55448772401076 45.39265234617384, 124.55448617975054 45.39265431723377, 124.55446587758453 45.392682996600364, 124.55446316289412 45.39268803845053, 124.55446192503776 45.39269335992044, 124.55446221343531 45.39269874855906, 124.55446401657345 45.39270398923366, 124.55446614478177 45.39270825665159, 124.5544670591381 45.39271174014279, 124.55447253201743 45.392785706835404, 124.55447236157147 45.3927951922673, 124.55447199605483 45.39279785792445, 124.5544706872416 45.39280153096821, 124.55446877938562 45.39280445123333, 124.55446358268267 45.392809545917814)))
MULTIPOLYGON (((124.5423417784004 45.387782661397935, 124.54233486693347 45.38778095956215, 124.54232762218143 45.38778021548623, 124.54232030886163 45.387780456358136, 124.54231319419716 45.38778167337661, 124.54230653815216 45.38778382207276, 124.54230058393352 45.387786823934896, 124.54229554910394 45.387790569277314, 124.54229161763215 45.38779492124811, 124.54228893317175 45.38779972082955, 124.54228759381088 45.38780479264856, 124.54228764848953 45.38780995138464, 124.54228909520981 45.38781500854137, 124.54229188111019 45.38781977933388, 124.54235739257719 45.38790714689362, 124.5423592533477 45.38791064824778, 124.5423599044718 45.38791262086651, 124.54236024408792 45.38791439851131, 124.54236019333962 45.387919244531034, 124.54235898981095 45.38792297910096, 124.5423563364623 45.387926958631965, 124.54235366765737 45.38792962935301, 124.54222574869813 45.38803672617738, 124.54222464556379 45.388037456718074, 124.54222127885197 45.388039209356826, 124.54221627090598 45.388041146276684, 124.54220999456113 45.38804418187551, 124.54220469420103 45.38804803217379, 124.54220057921283 45.388052545068135, 124.54218925053905 45.38806819984291, 124.54218610348154 45.388071353328854, 124.54218226914624 45.38807399403217, 124.54217825918762 45.388076041025684, 124.54217282966347 45.38807940667754, 124.54216839470679 45.38808343145511, 124.54216511241364 45.388087971884495, 124.542141218973 45.38813054596217, 124.54213908728295 45.38813590451735, 124.54213856068095 45.388141457230304, 124.54213966155861 45.38814696799899, 124.54214234310692 45.388152202504834, 124.54214649130641 45.38815693817586, 124.54215192977549 45.38816097365064, 124.54215402460106 45.38816223714252, 124.5421575723194 45.388165064131485, 124.54215992998994 45.388167811706936, 124.54216155047571 45.38817081258261, 124.542162539472 45.388174570660325, 124.54216324737594 45.388184924390636, 124.54216440598292 45.38819033651039, 124.54216709042505 45.38819547261576, 124.54217119029266 45.388200121460386, 124.54217653695959 45.38820409183868, 124.54218291051941 45.38820722045019, 124.5421900488295 45.38820937861603, 124.54220062900927 45.388211715302305, 124.54220330406594 45.38821259626714, 124.54221230109256 45.38821465097746, 124.54221825506335 45.38821545627232, 124.54222746953322 45.388217556013394, 124.542236083182 45.38821877272615, 124.54228332995595 45.38822153912742, 124.54229628579002 45.38822263937688, 124.54229886622505 45.388222796361894, 124.54231740304601 45.38822348019435, 124.54232604598741 45.388223108390854, 124.54233434952712 45.38822137807608, 124.54233796172653 45.388220299495885, 124.54234265065926 45.38821938161427, 124.54234750344712 45.38821901875035, 124.5423875567297 45.388219679694025, 124.5423913336854 45.38821961067327, 124.54259655541186 45.3882087052134, 124.54279011513125 45.38819773082958, 124.54292237519662 45.38819152761757, 124.5429312930132 45.3881903504623, 124.54293956766938 45.38818772827734, 124.54294825455513 45.388184047893, 124.54295309955702 45.38818254900733, 124.54295800145138 45.38818170452392, 124.5429617443786 45.38818144148894, 124.543038657709 45.38817975609355, 124.54304523655267 45.388179208042864, 124.54305158296665 45.38817786939454, 124.54305750709133 45.38817578019572, 124.54305938705872 45.38817496688078, 124.54306555907242 45.388172963354904, 124.54307131753221 45.38817202431195, 124.54307572108753 45.38817183002342, 124.54313545585882 45.38817257526035, 124.54314357367393 45.388172065444046, 124.54315135462572 45.38817035691417, 124.5431584464044 45.38816752703044, 124.5431620401789 45.38816571204259, 124.5431656504945 45.38816431862144, 124.54316696198222 45.3881639400561, 124.54317063290866 45.388163206072136, 124.5431762889745 45.38816264404841, 124.54333665768974 45.388156776899265, 124.54344464606608 45.38814925276982, 124.54345163977429 45.388148294293124, 124.54345826054359 45.38814643966581, 124.54346427927278 45.38814375306425, 124.5434694876936 45.38814032745398, 124.54347370557731 45.388136281372695, 124.5434772816799 45.38813208142392, 124.54348077363387 45.38812931705739, 124.5434847859485 45.38812719217248, 124.5434899835616 45.388125443099725, 124.54349403297623 45.38812460730812, 124.54351973148107 45.388120886114535, 124.54352385038229 45.388120565764616, 124.54369838310178 45.38811474800353, 124.54381781778207 45.38810899114815, 124.54382508200013 45.38810814066591, 124.54383198097815 45.388106326347035, 124.54383825969967 45.388103615256725, 124.54384368607566 45.38810010760879, 124.54384790958466 45.38809679675088, 124.54385165306202 45.38809471120189, 124.54385568172746 45.388093202363365, 124.54386066862092 45.38809208420691, 124.54386451930122 45.38809163962946, 124.54403428724618 45.38808066002165, 124.54435869216569 45.388057839503716, 124.54436552489098 45.388056911211514, 124.54437748235182 45.38805447526211, 124.54438047819441 45.388054172938475, 124.54457633752365 45.38804283455911, 124.54457934024492 45.388042576269896, 124.54466063023709 45.38803327518589, 124.54466783210358 45.38803193404105, 124.54467452934126 45.38802963596583, 124.5446804686203 45.388026467887286, 124.54468542528163 45.38802254964126, 124.54468921183451 45.388018029439344, 124.54469168504933 45.388013078262766, 124.54469275137438 45.38800788339473, 124.54469237047547 45.388002641336236, 124.54469055676071 45.38799755037324, 124.54468737883599 45.38799280307641, 124.54468295690975 45.38798857901677, 124.54467745824576 45.387985037973365, 124.5446710908364 45.38798231388952, 124.54466409553481 45.38798050980629, 124.5446567369451 45.38797969396476, 124.54464757063069 45.38797931461922, 124.54464144698944 45.38797841577769, 124.54463672602056 45.387976971851124, 124.54463251851736 45.38797488350837, 124.54462824448073 45.38797167001785, 124.54462566683436 45.387969049161086, 124.54462078643887 45.38796500385748, 124.5446148765288 45.387961710102516, 124.54461334541003 45.38796101755518, 124.54460398763813 45.387955470072306, 124.54459719127489 45.387952247707155, 124.54458957788894 45.38795011741787, 124.54458149574047 45.38794917665069, 124.5445733145328 45.38794946843926, 124.54456683309117 45.387950194769324, 124.54456045111236 45.38795005156142, 124.54455606341645 45.387949425038386, 124.54448387520523 45.38793464390619, 124.54437972034647 45.387902601377064, 124.54432629942127 45.38788463375218, 124.54421188395564 45.38783346474669, 124.54420737733913 45.387831736130714, 124.5439114236216 45.387735724671415, 124.54375620750154 45.387684316445856, 124.54372354513464 45.387672318950145, 124.5437158501641 45.3876702004556, 124.5437142357696 45.38766989245877, 124.54370741774422 45.38766904838463, 124.54354555220138 45.38765951094141, 124.54353964961638 45.387659484766424, 124.54336431287582 45.38766825160059, 124.54319119344413 45.38768034772506, 124.54318622204681 45.38768093016603, 124.54318552303437 45.387681045804456, 124.54318218849146 45.38768171092416, 124.54303496300813 45.38771621749189, 124.54303007365766 45.38771692874435, 124.54287826708887 45.38773062231121, 124.54287384017229 45.387731209825546, 124.54274111329114 45.38775459339986, 124.54273588795499 45.38775580071754, 124.54273515838054 45.38775601125563, 124.54273167246843 45.387757164630244, 124.54258429689581 45.387812460651595, 124.54258091119507 45.38781389353511, 124.54254323049007 45.387831765537435, 124.54253722783486 45.38783373976974, 124.54253327654885 45.38783452709643, 124.54251865150705 45.38783647117837, 124.54251235455388 45.387836601751474, 124.54250638882637 45.3878358356092, 124.54250213469825 45.38783474295969, 124.5423417784004 45.387782661397935), (124.54426962722664 45.38795688915665, 124.54427739294242 45.38795596466972, 124.54428472612311 45.387953940489105, 124.54428953071042 45.38795172555246, 124.54428962431493 45.38795181670857, 124.54429637229526 45.38794837625151, 124.54430065809666 45.38794695829766, 124.54430524332768 45.387946127924906, 124.54430996783339 45.38794591407317, 124.54431466615675 45.387946324231784, 124.54431983746187 45.38794749419396, 124.5443234638452 45.38794876642631, 124.54434497924228 45.3879577629957, 124.54434891175913 45.38795919760537, 124.54435451375396 45.3879609598445, 124.54435955545772 45.3879631482092, 124.54436309513459 45.38796543621796, 124.54436595704922 45.38796815453297, 124.54436803796513 45.38797120509797, 124.54436926281934 45.38797447787271, 124.54436958742814 45.38797785479981, 124.54436900008197 45.387981214066514, 124.54436752196766 45.387984434495415, 124.54436520640395 45.38798739991875, 124.54436213691905 45.3879900033661, 124.54435842423545 45.387992150925754, 124.54435420227914 45.38799376512968, 124.54434894877362 45.38799493840302, 124.544344886031 45.38799538101092, 124.54425613407209 45.38800031571106, 124.54409441292336 45.38801129168058, 124.54394824491537 45.388019837415456, 124.54392560734952 45.388020400464164, 124.5438588054582 45.388024279308596, 124.54348057879393 45.388041244553754, 124.54332573465223 45.38805163848944, 124.5433204265314 45.38805226287039, 124.54323190600748 45.388067244317, 124.54296601423663 45.38808431963349, 124.54265467995981 45.3881053418051, 124.54232804788587 45.38812773042043, 124.54232387850566 45.38812778486157, 124.54231829330902 45.388127235693815, 124.54231364923949 45.38812610249644, 124.54230940411313 45.38812435753105, 124.54230571838349 45.388122066752416, 124.54230273135819 45.38811931674386, 124.54230055593938 45.388116211448924, 124.54229927434994 45.38811286823679, 124.54229893503037 45.388109413471504, 124.54229968027619 45.38810525534548, 124.54230173883239 45.388099947566324, 124.54230366868238 45.38809638460177, 124.54230815447485 45.38809027368377, 124.54231037827665 45.38808778138945, 124.5423332824721 45.38806711316372, 124.54233601077591 45.388065012664335, 124.54234030694907 45.38806258375276, 124.5423445517606 45.38806100345407, 124.54234914389338 45.38806001683446, 124.54235473390136 45.38805959835561, 124.54239004578373 45.38806063703576, 124.54239401431123 45.38806060875473, 124.54253118578754 45.38805459909967, 124.54282869772159 45.38803469972648, 124.5428826767294 45.3880306366195, 124.54314682986139 45.388013690906696, 124.54340875293326 45.38799775593251, 124.54385154028044 45.38797974678831, 124.54399254358522 45.38797170662611, 124.54412048147525 45.38796366345482, 124.54426962722664 45.38795688915665), (124.54345814139519 45.38779001056746, 124.54345386824882 45.387789575255475, 124.54344834985741 45.38778835150158, 124.54344393739969 45.38778663367786, 124.54344009677033 45.387784332774665, 124.5434369808695 45.38778154039376, 124.54343471374476 45.387778367703035, 124.54343338565238 45.38777494101079, 124.54343304946525 45.387771396737584, 124.54343371856706 45.38776787598454, 124.54343536632003 45.387764518917024, 124.54343792712508 45.38776145918334, 124.54344129903345 45.3877588185952, 124.54344534780648 45.38775670227662, 124.54344991225705 45.387755194481166, 124.54345561331692 45.38775421771788, 124.54351710995539 45.38775068052277, 124.54367014291972 45.387743877341165, 124.54367363829749 45.38774392731388, 124.54376179984558 45.387748689005974, 124.54376803351346 45.387749716024494, 124.5437718711579 45.38775081559308, 124.54383447852167 45.3877729387655, 124.54383916159829 45.38777529054353, 124.54384255358123 45.3877778276035, 124.54384517933997 45.387780781597684, 124.54384693830397 45.387784039383675, 124.5438477631024 45.38778747618387, 124.54384762214386 45.38779096036313, 124.54384652082712 45.38779435847249, 124.5438445013341 45.38779754035897, 124.54384164101451 45.387800384151454, 124.54383804942215 45.38780278092893, 124.54383386412141 45.38780463889043, 124.54382924541511 45.38780588687355, 124.54382365116571 45.38780656412748, 124.54381941605982 45.387806599710544, 124.54345814139519 45.38779001056746)), ((124.54211270067816 45.38763387005604, 124.5421089986125 45.38763894516492, 124.54210689360582 45.387644455298165, 124.54210647976265 45.38765015412562, 124.54210777558455 45.387655786881545, 124.54211072314224 45.38766110175378, 124.54211631643854 45.3876687009034, 124.54212265575178 45.38767494286318, 124.54213791670749 45.387686170594314, 124.54214342899735 45.387689521269664, 124.54214974144494 45.3876920764882, 124.54215662599897 45.387693743936964, 124.54216383393954 45.38769446337564, 124.54217110486368 45.387694208812874, 124.54217817609289 45.387692989445334, 124.5421847921632 45.38769084932542, 124.5421907140543 45.38768786576978, 124.54219572782485 45.38768414656598, 124.54219965234121 45.38767982607855, 124.54220234582208 45.38767506039472, 124.54220371095965 45.38767002168533, 124.54220369843571 45.38766489198487, 124.54219961855006 45.38763531655233, 124.54219995705907 45.38763119582579, 124.5422012279006 45.38762778066005, 124.54220343006715 45.387624609326316, 124.54220692659327 45.38762139291568, 124.54221004623372 45.387619316910985, 124.54264118475074 45.387374249052506, 124.54264664103104 45.38737045264351, 124.54265091473057 45.38736596644615, 124.54265383454936 45.387360970278024, 124.54265528345452 45.38735566439756, 124.54265520337081 45.387350261477096, 124.54265359750879 45.38734497807856, 124.5426505302354 45.38734002597303, 124.5426461244947 45.38733560365258, 124.54264055687922 45.387331888374185, 124.54263405055245 45.3873290290549, 124.54262686630294 45.3873271403029, 124.54261929209251 45.38732629782377, 124.54261163151283 45.38732653538604, 124.5426041916179 45.38732784346766, 124.54259727061596 45.387330169637686, 124.54246633586405 45.387386145650204, 124.5424635981709 45.387387432571145, 124.54228734578929 45.3874782294777, 124.54214213255713 45.3875512200101, 124.54213604401724 45.38755502949343, 124.54213123586943 45.38755965978928, 124.54212792541651 45.38756490163323, 124.5421262622734 45.3875705181222, 124.54211867611987 45.387624222402515, 124.54211744532655 45.38762778142542, 124.54211553646424 45.387630824812945, 124.54211270067816 45.38763387005604)))
POLYGON ((124.52316546693334 45.37941944328871, 124.5231725214024 45.37942135385221, 124.52317997089685 45.37942225087316, 124.52318752529183 45.379422099416566, 124.52319489037676 45.379420905381, 124.52320177931416 45.37941871526891, 124.52320792381038 45.37941561437549, 124.52321308456428 45.37941172346688, 124.52321706058781 45.37940719407675, 124.52321969703266 45.379402202604815, 124.52322089122134 45.37939694344675, 124.52322059664596 45.37939162142335, 124.52321882477925 45.37938644380374, 124.52321564462801 45.379381612233, 124.52321118004518 45.379377314879214, 124.52319070302657 45.379361216047116, 124.52318534687062 45.37935773659118, 124.5231841699516 45.37935710675794, 124.52317917623874 45.37935484180401, 124.52310468194385 45.37932655283163, 124.52307172799314 45.37931317038307, 124.52297178084783 45.379270122377946, 124.52286077765882 45.37921652903746, 124.52275809903523 45.37916121562187, 124.5226343584144 45.37909028809132, 124.52241971730678 45.37895316253491, 124.52230398008275 45.37888193344686, 124.5222221529665 45.37882742380945, 124.52213176556806 45.37876550936339, 124.52209745633651 45.378742610292235, 124.52204122564267 45.37870677628117, 124.52188889681105 45.378600937434456, 124.52179292620406 45.37853340591312, 124.52179055075942 45.378531869552944, 124.5217564244774 45.378511595067586, 124.52171583980045 45.378479958030276, 124.52171435220305 45.37847886195253, 124.52163907804676 45.37842643126601, 124.5216376203868 45.37842546763787, 124.52155089079328 45.37837109952197, 124.52144439448975 45.37831032211412, 124.52137206196423 45.37826491954989, 124.52136576306175 45.37826171020802, 124.52135867439573 45.37825946334012, 124.52135108799253 45.37825827150861, 124.52134331638304 45.378258183812456, 124.52133567972807 45.378259203864395, 124.52132849262891 45.37826128964217, 124.52132205116668 45.378264355219656, 124.52131662070572 45.37826827430667, 124.52131242496029 45.37827288545163, 124.52130963677995 45.37827799869277, 124.52130837102747 45.37828340338377, 124.5213086798476 45.37828887687159, 124.52131055051858 45.378294193669035, 124.52131390597614 45.3782991347438, 124.52133837956069 45.378327391073206, 124.5213416839048 45.378330638353894, 124.5213500055478 45.37833765462503, 124.52135390143158 45.378340489464414, 124.52166105625342 45.378533509717435, 124.52169743980028 45.378562026128655, 124.52170089644842 45.37856441305252, 124.52173477505998 45.37858501745472, 124.52183034031174 45.37865490791666, 124.52193233005231 45.378724221344, 124.5219974793187 45.378767871807675, 124.52200206553638 45.37877050081238, 124.52201076711987 45.378774746768414, 124.5220134157966 45.378776446902044, 124.52204295644893 45.37879804177588, 124.52204696045477 45.37880058375893, 124.52204765315011 45.37880096487202, 124.52205065333764 45.378802458061436, 124.52211604001796 45.3788317938541, 124.52212118973162 45.37883501139137, 124.52222265944478 45.3789132898692, 124.52222518371038 45.37891506383134, 124.5223233229478 45.3789778906039, 124.5224275321116 45.37904790253685, 124.52242964774649 45.37904922241219, 124.52254944114623 45.37911857443421, 124.52266797083584 45.37919317960826, 124.52266990722934 45.37919431985884, 124.52277629731876 45.3792528832172, 124.5228829768881 45.37930717840793, 124.5228854343895 45.37930832978923, 124.5230072219642 45.37936073641992, 124.52300922529668 45.379361541150146, 124.52313790094553 45.37940967173806, 124.52316546693334 45.37941944328871))</textarea>
                        </div>
                        <div class="button-group">
                            <button class="btn btn-primary" onclick="drawOutline()">üéØ ÁªòÂà∂ËΩÆÂªì</button>
                            <button class="btn btn-secondary" onclick="clearOutline()">üßπ Ê∏ÖÈô§ËΩÆÂªì</button>
                        </div>
                        <div class="input-group">
                            <label><input type="checkbox" id="toggleLabelsCheckbox"> ÊòæÁ§∫‰∫©Êï∞</label>
                        </div>
                    </div>

                    <div class="tab-content" id="track-tab">
                        <div class="time-range-settings" style="margin-bottom:8px;font-size:12px;color:#333;">
                            <label>Êó∂Èó¥ËåÉÂõ¥ÈÄâÂèñ(ÁïôÁ©∫ÂàôÊòæÁ§∫ÊâÄÊúâËΩ®Ëøπ)</label>
                            <input type="text" id="timeRangeInput"
                                   style="width:100%;margin-top:4px;padding:4px;border:1px solid #ddd;border-radius:4px;font-size:12px;"
                                   placeholder="Ê†ºÂºèÔºöyyyy-MM-ddTHH:mm:ss - yyyy-MM-ddTHH:mm:ss">
                        </div>
                        <textarea id="trackTextarea"
                                  style="width:100%;height:400px;margin-bottom:10px;padding:8px;border:1px solid #ddd;border-radius:4px;font-family:monospace;resize:vertical;box-sizing:border-box;">20251025063216,124.504432,45.342112
20251025071419,124.504421,45.342130
20251025071429,124.504457,45.342099
20251025071439,124.504495,45.342048
20251025071449,124.504511,45.342007
20251025071459,124.504504,45.342016
20251025071509,124.504469,45.341990
20251025071519,124.504482,45.341995
20251025071529,124.504305,45.341988
20251025071539,124.504044,45.341946
20251025071549,124.503787,45.341892
20251025071559,124.503514,45.341810
20251025071609,124.503136,45.341691
20251025071619,124.502950,45.341644
20251025071629,124.502751,45.341768
20251025071639,124.502535,45.342075
20251025071649,124.502350,45.342339
20251025071659,124.502046,45.342458
20251025071709,124.501704,45.342715
20251025071719,124.501301,45.342689
20251025071729,124.501145,45.342740
20251025071739,124.500831,45.343109
20251025071749,124.500467,45.343482
20251025071759,124.500087,45.343884
20251025071809,124.499623,45.344370
20251025071819,124.499181,45.344865
20251025071829,124.498799,45.345307
20251025071839,124.498467,45.345724
20251025071849,124.498063,45.346229
20251025071859,124.498084,45.346622
20251025071909,124.498178,45.346776
20251025071919,124.498243,45.346889
20251025071929,124.498451,45.347235
20251025071939,124.498625,45.347880
20251025071949,124.498707,45.348477
20251025071959,124.498902,45.348950
20251025072009,124.499338,45.349403
20251025072019,124.499794,45.349799
20251025072029,124.500294,45.350254
20251025072039,124.500689,45.350740
20251025072049,124.500921,45.351143
20251025072059,124.501127,45.351605
20251025072109,124.501474,45.352175
20251025072119,124.501845,45.352716
20251025072129,124.502262,45.353247
20251025072139,124.502634,45.353798
20251025072149,124.503045,45.354453
20251025072159,124.503427,45.355084
20251025072209,124.503958,45.355456
20251025072219,124.504481,45.355470
20251025072229,124.504905,45.355356
20251025072239,124.505626,45.355178
20251025072249,124.506449,45.354987
20251025072259,124.507240,45.354798
20251025072309,124.508027,45.354595
20251025072319,124.508809,45.354399
20251025072329,124.509286,45.354622
20251025072339,124.509448,45.355209
20251025072349,124.509615,45.355855
20251025072359,124.509792,45.356542
20251025072409,124.509947,45.357160
20251025072419,124.510090,45.357735
20251025072429,124.510238,45.358367
20251025072439,124.510377,45.358980
20251025072449,124.510584,45.359325
20251025072459,124.511013,45.359380
20251025072509,124.511472,45.359421
20251025072519,124.511831,45.359535
20251025072529,124.512151,45.359748
20251025072539,124.512521,45.360039
20251025072549,124.512999,45.360371
20251025072559,124.513568,45.360602
20251025072609,124.514135,45.360839
20251025072619,124.514751,45.361083
20251025072629,124.515559,45.361288
20251025072639,124.516367,45.361517
20251025072649,124.517095,45.361778
20251025072659,124.517820,45.362033
20251025072709,124.518438,45.362388
20251025072719,124.518955,45.362701
20251025072729,124.519416,45.362905
20251025072739,124.519860,45.362979
20251025072749,124.520389,45.363047
20251025072759,124.521023,45.362992
20251025072809,124.521677,45.362933
20251025072819,124.522354,45.362920
20251025072829,124.523040,45.362999
20251025072839,124.523694,45.362975
20251025072849,124.524315,45.362843
20251025072859,124.524946,45.362569
20251025072909,124.525541,45.362510
20251025072919,124.526340,45.362456
20251025072929,124.527151,45.362401
20251025072939,124.527645,45.362365
20251025072949,124.528019,45.362255
20251025072959,124.528004,45.361958
20251025073009,124.528197,45.361761
20251025073019,124.528619,45.361692
20251025073029,124.528977,45.361617
20251025073039,124.529264,45.361630
20251025073049,124.529690,45.361725
20251025073059,124.530369,45.361855
20251025073109,124.530956,45.361808
20251025073119,124.531387,45.361728
20251025073129,124.531912,45.361657
20251025073139,124.532561,45.361692
20251025073149,124.533172,45.361769
20251025073159,124.533773,45.361807
20251025073209,124.534358,45.361787
20251025073219,124.535292,45.361617
20251025073229,124.536254,45.361450
20251025073239,124.537201,45.361293
20251025073249,124.538145,45.361141
20251025073259,124.539095,45.360989
20251025073309,124.539977,45.360910
20251025073319,124.540375,45.360910
20251025073329,124.541097,45.361026
20251025073339,124.541755,45.361226
20251025073349,124.542604,45.361479
20251025073359,124.543498,45.361746
20251025073409,124.544216,45.361961
20251025073419,124.545058,45.362214
20251025073429,124.545922,45.362470
20251025073439,124.546728,45.362715
20251025073450,124.547524,45.362954
20251025073500,124.548299,45.363185
20251025073509,124.549137,45.363437
20251025073519,124.549662,45.363592
20251025073529,124.550490,45.363844
20251025073539,124.551352,45.364101
20251025073549,124.552197,45.364358
20251025073559,124.553034,45.364608
20251025073609,124.553891,45.364862
20251025073619,124.554751,45.365118
20251025073629,124.555659,45.365383
20251025073639,124.556504,45.365643
20251025073649,124.556973,45.365784
20251025073659,124.557473,45.365919
20251025073709,124.557664,45.365974
20251025073719,124.557708,45.365987
20251025073729,124.557825,45.366025
20251025073739,124.558543,45.366251
20251025073749,124.559247,45.366459
20251025073759,124.559836,45.366636
20251025073809,124.559939,45.366727
20251025073819,124.559808,45.366959
20251025073829,124.559641,45.367260
20251025073839,124.559413,45.367721
20251025073849,124.559136,45.368253
20251025073859,124.559000,45.368720
20251025073909,124.559019,45.369291
20251025073919,124.559053,45.369890
20251025073929,124.559090,45.370439
20251025073939,124.559110,45.370786
20251025073949,124.559113,45.371223
20251025073959,124.559141,45.371725
20251025074009,124.559174,45.372324
20251025074019,124.559209,45.372889
20251025074029,124.559233,45.373436
20251025074039,124.559257,45.373971
20251025074049,124.559285,45.374509
20251025074059,124.559308,45.375019
20251025074109,124.559352,45.375520
20251025074119,124.559381,45.376069
20251025074129,124.559412,45.376632
20251025074139,124.559450,45.377218
20251025074149,124.559490,45.377760
20251025074159,124.559507,45.378342
20251025074209,124.559518,45.378591
20251025074219,124.559524,45.378794
20251025074229,124.559530,45.378955
20251025074239,124.559540,45.379130
20251025074249,124.559550,45.379331
20251025074259,124.559556,45.379538
20251025074309,124.559569,45.379747
20251025074319,124.559573,45.379898
20251025074329,124.559586,45.380054
20251025074339,124.559592,45.380228
20251025074349,124.559606,45.380412
20251025074359,124.559616,45.380601
20251025074409,124.559629,45.380805
20251025074419,124.559642,45.381017
20251025074429,124.559649,45.381218
20251025074439,124.559668,45.381471
20251025074449,124.559685,45.381696
20251025074459,124.559715,45.382107
20251025074509,124.559747,45.382703
20251025074519,124.559782,45.383321
20251025074529,124.559807,45.383931
20251025074539,124.559828,45.384544
20251025074549,124.559845,45.384931
20251025074559,124.559849,45.385149
20251025074609,124.559862,45.385480
20251025074619,124.559866,45.385737
20251025074629,124.559913,45.385956
20251025074639,124.559917,45.386127
20251025074649,124.559925,45.386313
20251025074659,124.559931,45.386526
20251025074709,124.559944,45.386748
20251025074719,124.559954,45.386964
20251025074729,124.559963,45.387179
20251025074739,124.559981,45.387397
20251025074749,124.559996,45.387599
20251025074759,124.560003,45.387782
20251025074809,124.560021,45.387983
20251025074819,124.560026,45.388182
20251025074829,124.560033,45.388364
20251025074839,124.560036,45.388536
20251025074849,124.560052,45.388919
20251025074859,124.560067,45.389166
20251025074909,124.560076,45.389395
20251025074919,124.560081,45.389612
20251025074929,124.560100,45.389803
20251025074939,124.560130,45.390024
20251025074949,124.560125,45.390234
20251025074959,124.560106,45.390480
20251025075009,124.560097,45.390730
20251025075019,124.560088,45.390993
20251025075029,124.560096,45.391214
20251025075039,124.560102,45.391351
20251025075049,124.560118,45.391535
20251025075059,124.560166,45.391720
20251025075109,124.560221,45.391969
20251025075119,124.560231,45.392186
20251025075129,124.560263,45.392416
20251025075139,124.560248,45.392638
20251025075149,124.560329,45.392906
20251025075159,124.560288,45.393151
20251025075209,124.559979,45.393183
20251025075219,124.559623,45.393169
20251025075229,124.559285,45.393127
20251025075239,124.558926,45.393043
20251025075249,124.558722,45.392989
20251025075259,124.558379,45.392899
20251025075309,124.558017,45.392817
20251025075319,124.557647,45.392801
20251025075329,124.557307,45.392852
20251025075339,124.557059,45.392870
20251025075349,124.556827,45.392872
20251025075359,124.556412,45.392887
20251025075409,124.555964,45.392894
20251025075419,124.555510,45.392896
20251025075429,124.555290,45.392893
20251025075439,124.554955,45.392903
20251025075449,124.554678,45.392943
20251025075459,124.554487,45.392932
20251025075509,124.554477,45.392911
20251025075519,124.554477,45.392908
20251025075529,124.554478,45.392903
20251025075539,124.554478,45.392900
20251025075549,124.554477,45.392894
20251025075559,124.554491,45.392854
20251025075609,124.554497,45.392784
20251025075619,124.554497,45.392721
20251025075629,124.554482,45.392653
20251025075639,124.554489,45.392704
20251025075649,124.554474,45.392669
20251025075659,124.554474,45.392669
20251025075709,124.554474,45.392669
20251025075719,124.554474,45.392669
20251025075729,124.554481,45.392688
20251025075739,124.554495,45.392787
20251025075749,124.554494,45.392817
20251025075759,124.554523,45.392760
20251025075809,124.554534,45.392698
20251025075819,124.554519,45.392633
20251025075829,124.554520,45.392708
20251025075839,124.554524,45.392675
20251025075849,124.554552,45.392686
20251025075859,124.554525,45.392673
20251025075909,124.554482,45.392695
20251025075919,124.554559,45.392631
20251025075929,124.554507,45.392660
20251025075939,124.554523,45.392711
20251025075949,124.554505,45.392712
20251025075959,124.554584,45.392725
20251025080009,124.554518,45.392746
20251025080019,124.554525,45.392814
20251025080029,124.554519,45.392880
20251025080039,124.554513,45.392826
20251025080049,124.554552,45.392853
20251025080059,124.554528,45.392823
20251025080109,124.554528,45.392823
20251025080119,124.554528,45.392823
20251025080129,124.554528,45.392823
20251025080139,124.554528,45.392823
20251025080149,124.554528,45.392823
20251025080159,124.554528,45.392823
20251025080209,124.554528,45.392823
20251025080219,124.554528,45.392823
20251025080229,124.554528,45.392823
20251025080239,124.554528,45.392823
20251025080249,124.554528,45.392823
20251025080259,124.554541,45.392867
20251025080309,124.554539,45.392860
20251025080319,124.554502,45.392756
20251025080329,124.554519,45.392877
20251025080339,124.554574,45.392875
20251025080349,124.554546,45.392869
20251025080359,124.554566,45.392857
20251025080409,124.554564,45.392829
20251025080419,124.554515,45.392851
20251025080429,124.554583,45.392792
20251025080439,124.554517,45.392803
20251025080449,124.554555,45.392773
20251025080459,124.554538,45.392779
20251025080509,124.554538,45.392778
20251025080519,124.554538,45.392778
20251025080529,124.554538,45.392778
20251025080539,124.554538,45.392777
20251025080549,124.554538,45.392777
20251025080559,124.554538,45.392777
20251025080609,124.554530,45.392792
20251025080619,124.554521,45.392809
20251025080629,124.554522,45.392807
20251025080639,124.554522,45.392807
20251025080649,124.554522,45.392807
20251025080659,124.554522,45.392807
20251025080709,124.554522,45.392807
20251025080719,124.554522,45.392807
20251025080729,124.554522,45.392807
20251025080739,124.554522,45.392807
20251025080749,124.554522,45.392807
20251025080759,124.554522,45.392807
20251025080809,124.554522,45.392807
20251025080819,124.554505,45.392774
20251025080829,124.554599,45.392721
20251025080839,124.554666,45.392708
20251025080849,124.554732,45.392698
20251025080859,124.554791,45.392688
20251025080909,124.554830,45.392683
20251025080919,124.554897,45.392677
20251025080929,124.554970,45.392672
20251025080939,124.555059,45.392670
20251025080949,124.555066,45.392670
20251025080959,124.555043,45.392670
20251025081009,124.555017,45.392671
20251025081019,124.555020,45.392671
20251025081029,124.555022,45.392671
20251025081039,124.555025,45.392671
20251025081049,124.555029,45.392671
20251025081059,124.555032,45.392671
20251025081109,124.555035,45.392671
20251025081119,124.555037,45.392671
20251025081129,124.555040,45.392671
20251025081139,124.555043,45.392670
20251025081149,124.555045,45.392670
20251025081159,124.555049,45.392670
20251025081209,124.555051,45.392670
20251025081537,124.555053,45.392662
20251025081547,124.555125,45.392665
20251025081557,124.555123,45.392669
20251025081607,124.555120,45.392669
20251025081617,124.555123,45.392669
20251025081627,124.555126,45.392669
20251025081637,124.555130,45.392668
20251025081647,124.555133,45.392668
20251025081657,124.555132,45.392668
20251025081707,124.555172,45.392668
20251025081717,124.555233,45.392667
20251025081727,124.555263,45.392668
20251025081737,124.555280,45.392667
20251025081747,124.555284,45.392668
20251025081757,124.555290,45.392668
20251025081807,124.555309,45.392667
20251025081817,124.555309,45.392667
20251025081827,124.555309,45.392667
20251025081837,124.555309,45.392667
20251025081847,124.555309,45.392667
20251025081857,124.555309,45.392667
20251025081907,124.555309,45.392667
20251025081917,124.555309,45.392667
20251025081927,124.555309,45.392667
20251025081937,124.555309,45.392667
20251025083411,124.555463,45.392670
20251025083421,124.555532,45.392666
20251025083431,124.555596,45.392663
20251025083441,124.555641,45.392662
20251025083451,124.555716,45.392661
20251025083501,124.555746,45.392663
20251025083511,124.555768,45.392660
20251025083521,124.555734,45.392661
20251025083531,124.555734,45.392661
20251025083541,124.555734,45.392661
20251025083551,124.555734,45.392661
20251025083601,124.555734,45.392661
20251025083611,124.555734,45.392661
20251025083621,124.555761,45.392661
20251025083631,124.555786,45.392660
20251025083641,124.555858,45.392660
20251025083651,124.555922,45.392661
20251025083701,124.555983,45.392662
20251025083711,124.555931,45.392661
20251025083721,124.555973,45.392662
20251025083731,124.555976,45.392662
20251025083741,124.555976,45.392662
20251025083751,124.555976,45.392662
20251025083801,124.555976,45.392662
20251025083811,124.555976,45.392662
20251025083821,124.556024,45.392662
20251025083831,124.556088,45.392663
20251025083841,124.556073,45.392663
20251025083851,124.556066,45.392663
20251025083901,124.556066,45.392663
20251025083911,124.556066,45.392663
20251025083921,124.556066,45.392663
20251025083931,124.556068,45.392663
20251025083941,124.556111,45.392663
20251025083951,124.556177,45.392664
20251025084001,124.556234,45.392664
20251025084011,124.556298,45.392663
20251025084021,124.556358,45.392662
20251025084031,124.556428,45.392661
20251025084041,124.556503,45.392659
20251025084051,124.556560,45.392657
20251025084101,124.556565,45.392657
20251025084111,124.556475,45.392659
20251025084121,124.556483,45.392672
20251025084131,124.556567,45.392688
20251025084141,124.556517,45.392674
20251025084151,124.556477,45.392661
20251025084201,124.556461,45.392647
20251025084211,124.556574,45.392632
20251025084221,124.556505,45.392643
20251025084231,124.556586,45.392650
20251025084241,124.556616,45.392632
20251025084251,124.556540,45.392645
20251025084301,124.556541,45.392644
20251025084311,124.556541,45.392644
20251025084321,124.556541,45.392644
20251025084331,124.556541,45.392644
20251025084341,124.556541,45.392644
20251025084351,124.556541,45.392644
20251025084401,124.556541,45.392644
20251025084411,124.556541,45.392644
20251025084421,124.556541,45.392644
20251025084431,124.556541,45.392644
20251025084441,124.556544,45.392652
20251025084451,124.556561,45.392667
20251025084501,124.556573,45.392674
20251025084511,124.556594,45.392734
20251025084521,124.556594,45.392748
20251025084531,124.556588,45.392785
20251025084541,124.556604,45.392684
20251025084551,124.556630,45.392778
20251025084601,124.556625,45.392745
20251025084611,124.556617,45.392766
20251025084621,124.556636,45.392776
20251025084631,124.556762,45.392783
20251025084641,124.556918,45.392779
20251025084651,124.556676,45.392788
20251025084701,124.556657,45.392803
20251025084711,124.556787,45.392811
20251025084721,124.556945,45.392807
20251025084731,124.556704,45.392797
20251025084741,124.556693,45.392784
20251025084751,124.556688,45.392771
20251025084801,124.556667,45.392722
20251025084811,124.556657,45.392622
20251025084821,124.556647,45.392522
20251025084831,124.556657,45.392624
20251025084841,124.556643,45.392698
20251025084851,124.556615,45.392582
20251025084901,124.556605,45.392474
20251025084911,124.556599,45.392394
20251025084921,124.556614,45.392567
20251025084931,124.556625,45.392714
20251025084941,124.556719,45.392795
20251025084951,124.556774,45.392799
20251025085001,124.556773,45.392799
20251025085011,124.556773,45.392799
20251025085021,124.556773,45.392800
20251025085031,124.556773,45.392800
20251025085041,124.556773,45.392800
20251025085051,124.556773,45.392800
20251025085101,124.556773,45.392800
20251025085111,124.556773,45.392800
20251025085121,124.556772,45.392800
20251025085131,124.556772,45.392800
20251025085141,124.556772,45.392800
20251025085151,124.556772,45.392800
20251025085201,124.556772,45.392800
20251025085211,124.556772,45.392799
20251025085221,124.556772,45.392800
20251025085231,124.556771,45.392799
20251025085411,124.556693,45.392643
20251025085421,124.556698,45.392653
20251025085431,124.556654,45.392623
20251025085441,124.556587,45.392639
20251025085451,124.556633,45.392581
20251025085501,124.556726,45.392674
20251025085511,124.556747,45.392750
20251025085521,124.556705,45.392690
20251025085531,124.556692,45.392697
20251025085541,124.556612,45.392665
20251025085551,124.556548,45.392679
20251025085601,124.556423,45.392684
20251025085611,124.556320,45.392686
20251025085621,124.556314,45.392686
20251025085631,124.556219,45.392687
20251025085641,124.556119,45.392685
20251025085651,124.556027,45.392685
20251025085701,124.556021,45.392684
20251025085711,124.555960,45.392685
20251025085721,124.555960,45.392685
20251025085731,124.555938,45.392684
20251025085741,124.555965,45.392685
20251025085751,124.555965,45.392685
20251025085801,124.555965,45.392685
20251025085811,124.555965,45.392685
20251025085821,124.555965,45.392685
20251025085831,124.555965,45.392685
20251025085841,124.555965,45.392685
20251025085851,124.555965,45.392685
20251025085901,124.555965,45.392685
20251025085911,124.555965,45.392685
20251025085921,124.555965,45.392685
20251025085931,124.555965,45.392685
20251025085941,124.555965,45.392685
20251025085951,124.555965,45.392685
20251025090001,124.555965,45.392685
20251025090011,124.555965,45.392685
20251025090021,124.555965,45.392685
20251025090031,124.555965,45.392685
20251025091536,124.555965,45.392685
20251025092358,124.555742,45.392666
20251025092408,124.555681,45.392671
20251025092418,124.555632,45.392671
20251025092428,124.555580,45.392671
20251025092438,124.555540,45.392671
20251025092448,124.555556,45.392671
20251025092458,124.555483,45.392675
20251025092508,124.555438,45.392674
20251025092518,124.555395,45.392675
20251025092528,124.555349,45.392675
20251025092538,124.555299,45.392676
20251025092548,124.555243,45.392678
20251025092558,124.555200,45.392678
20251025092608,124.555162,45.392679
20251025092618,124.555144,45.392681
20251025092628,124.555093,45.392682
20251025092638,124.555043,45.392684
20251025092648,124.554990,45.392686
20251025092658,124.554941,45.392689
20251025092708,124.554887,45.392692
20251025092718,124.554825,45.392699
20251025092728,124.554763,45.392708
20251025092738,124.554697,45.392719
20251025092748,124.554645,45.392730
20251025092758,124.554604,45.392738
20251025092808,124.554713,45.392724
20251025092818,124.554748,45.392722
20251025092828,124.554744,45.392724
20251025092838,124.554744,45.392725
20251025092848,124.554744,45.392725
20251025092858,124.554778,45.392717
20251025092908,124.554688,45.392733
20251025092918,124.554623,45.392733
20251025092928,124.554531,45.392674
20251025092938,124.554545,45.392643
20251025092948,124.554552,45.392642
20251025092958,124.554554,45.392641
20251025093008,124.554555,45.392641
20251025093018,124.554556,45.392641
20251025093028,124.554555,45.392646
20251025093038,124.554560,45.392650
20251025093048,124.554560,45.392650
20251025093058,124.554560,45.392650
20251025093108,124.554557,45.392657
20251025093118,124.554534,45.392715
20251025093128,124.554614,45.392688
20251025093138,124.554686,45.392676
20251025093148,124.554764,45.392664
20251025093158,124.554838,45.392654
20251025093208,124.554904,45.392647
20251025093218,124.554978,45.392644
20251025093228,124.555053,45.392641
20251025093238,124.555130,45.392639
20251025093248,124.555206,45.392638
20251025093258,124.555228,45.392638
20251025093308,124.555193,45.392638
20251025093318,124.555197,45.392638
20251025093328,124.555197,45.392638
20251025093338,124.555197,45.392638
20251025093348,124.555197,45.392638
20251025093358,124.555197,45.392638
20251025093408,124.555197,45.392638
20251025093418,124.555197,45.392638
20251025093428,124.555252,45.392638
20251025093438,124.555319,45.392638
20251025093448,124.555390,45.392638
20251025093458,124.555462,45.392636
20251025093508,124.555539,45.392634
20251025093518,124.555604,45.392633
20251025093528,124.555589,45.392634
20251025093538,124.555599,45.392633
20251025093548,124.555599,45.392633
20251025093558,124.555599,45.392633
20251025093608,124.555599,45.392633
20251025093618,124.555658,45.392632
20251025093628,124.555726,45.392631
20251025093638,124.555788,45.392631
20251025093648,124.555848,45.392631
20251025093658,124.555919,45.392631
20251025093708,124.555914,45.392632
20251025093718,124.555918,45.392632
20251025093728,124.555918,45.392632
20251025093738,124.555918,45.392632
20251025093748,124.555918,45.392632
20251025093758,124.555918,45.392632
20251025093808,124.555918,45.392632
20251025093818,124.555973,45.392631
20251025093828,124.556034,45.392632
20251025093838,124.556108,45.392634
20251025093848,124.556179,45.392634
20251025093858,124.556249,45.392634
20251025093908,124.556326,45.392634
20251025093918,124.556409,45.392632
20251025093928,124.556513,45.392628
20251025093938,124.556499,45.392629
20251025093948,124.556433,45.392631
20251025093958,124.556434,45.392631
20251025094008,124.556434,45.392632
20251025094018,124.556434,45.392632
20251025094028,124.556435,45.392632
20251025094038,124.556436,45.392631
20251025094048,124.556600,45.392638
20251025094058,124.556644,45.392674
20251025094108,124.556604,45.392700
20251025094118,124.556544,45.392708
20251025094128,124.556462,45.392713
20251025094138,124.556373,45.392715
20251025094148,124.556287,45.392716
20251025094158,124.556202,45.392715
20251025094208,124.556115,45.392714
20251025094218,124.556028,45.392713
20251025094228,124.555995,45.392713
20251025094238,124.555906,45.392711
20251025094248,124.555813,45.392711
20251025094258,124.555712,45.392712
20251025094308,124.555627,45.392713
20251025094318,124.555546,45.392716
20251025094328,124.555461,45.392717
20251025094338,124.555369,45.392719
20251025094348,124.555273,45.392720
20251025094358,124.555182,45.392719
20251025094408,124.555082,45.392721
20251025094418,124.554984,45.392724
20251025094428,124.554979,45.392724
20251025094438,124.554905,45.392729
20251025094448,124.554830,45.392737
20251025094458,124.554754,45.392748
20251025094508,124.554681,45.392759
20251025094518,124.554633,45.392768
20251025094528,124.554747,45.392749
20251025094538,124.554747,45.392749
20251025094548,124.554746,45.392749
20251025094558,124.554746,45.392749
20251025094608,124.554747,45.392749
20251025094618,124.554746,45.392749
20251025094628,124.554729,45.392751
20251025094638,124.554729,45.392751
20251025094648,124.554729,45.392751
20251025094658,124.554729,45.392751
20251025094708,124.554663,45.392750
20251025094718,124.554544,45.392667
20251025094728,124.554620,45.392656
20251025094738,124.554681,45.392647
20251025094748,124.554757,45.392634
20251025094758,124.554837,45.392624
20251025094808,124.554913,45.392617
20251025094818,124.554998,45.392614
20251025094828,124.555072,45.392610
20251025094838,124.555159,45.392610
20251025094848,124.555249,45.392610
20251025094858,124.555336,45.392609
20251025094908,124.555430,45.392608
20251025094918,124.555532,45.392605
20251025094928,124.555623,45.392604
20251025094938,124.555723,45.392602
20251025094948,124.555822,45.392601
20251025094958,124.555873,45.392599
20251025095008,124.555770,45.392601
20251025095018,124.555772,45.392601
20251025095028,124.555772,45.392601
20251025095038,124.555772,45.392601
20251025095048,124.555772,45.392601
20251025095058,124.555772,45.392601
20251025095108,124.555772,45.392601
20251025095118,124.555772,45.392601
20251025095128,124.555772,45.392601
20251025095138,124.555773,45.392601
20251025095148,124.555857,45.392599
20251025095158,124.555935,45.392602
20251025095208,124.556013,45.392601
20251025095218,124.556083,45.392602
20251025095228,124.556117,45.392603
20251025095238,124.556199,45.392604
20251025095248,124.556283,45.392605
20251025095258,124.556359,45.392604
20251025095308,124.556445,45.392602
20251025095318,124.556444,45.392602
20251025095328,124.556547,45.392599
20251025095338,124.556501,45.392605
20251025095348,124.556503,45.392605
20251025095358,124.556666,45.392670
20251025095408,124.556606,45.392737
20251025095418,124.556515,45.392739
20251025095428,124.556449,45.392742
20251025095438,124.556416,45.392743
20251025095448,124.556431,45.392743
20251025095458,124.556431,45.392743
20251025095508,124.556431,45.392743
20251025095518,124.556432,45.392743
20251025095528,124.556432,45.392743
20251025095538,124.556403,45.392745
20251025095548,124.556338,45.392746
20251025095558,124.556265,45.392746
20251025095608,124.556189,45.392745
20251025095618,124.556102,45.392744
20251025095628,124.556011,45.392741
20251025095638,124.555918,45.392741
20251025095648,124.555828,45.392740
20251025095658,124.555748,45.392741
20251025095708,124.555748,45.392741
20251025095718,124.555699,45.392742
20251025095728,124.555625,45.392743
20251025095738,124.555545,45.392744
20251025095748,124.555468,45.392746
20251025095758,124.555389,45.392748
20251025095808,124.555300,45.392748
20251025095818,124.555216,45.392748
20251025095828,124.555127,45.392750
20251025095838,124.555077,45.392751
20251025095848,124.555097,45.392750
20251025095858,124.555098,45.392750
20251025095908,124.555098,45.392750
20251025095918,124.555097,45.392750
20251025095928,124.555097,45.392750
20251025095938,124.555097,45.392750
20251025095948,124.555097,45.392750
20251025095958,124.555097,45.392750
20251025100008,124.555098,45.392750
20251025100018,124.555098,45.392750
20251025100028,124.555098,45.392750
20251025100038,124.555098,45.392750
20251025101504,124.555077,45.392736
20251025101514,124.555081,45.392736
20251025101524,124.555098,45.392750
20251025101534,124.555098,45.392750
20251025101544,124.555077,45.392736
20251025101935,124.554915,45.392759
20251025101945,124.554836,45.392768
20251025101955,124.554752,45.392778
20251025102005,124.554668,45.392792
20251025102015,124.554707,45.392785
20251025102025,124.554711,45.392784
20251025102035,124.554711,45.392784
20251025102045,124.554710,45.392784
20251025102055,124.554713,45.392784
20251025102105,124.554714,45.392784
20251025102115,124.554712,45.392784
20251025102125,124.554712,45.392784
20251025102135,124.554672,45.392790
20251025102145,124.554531,45.392773
20251025102155,124.554564,45.392642
20251025102205,124.554645,45.392622
20251025102215,124.554732,45.392609
20251025102225,124.554810,45.392598
20251025102235,124.554887,45.392589
20251025102245,124.554966,45.392584
20251025102255,124.555041,45.392583
20251025102305,124.555120,45.392581
20251025102315,124.555140,45.392580
20251025102325,124.555188,45.392580
20251025102335,124.555263,45.392581
20251025102345,124.555329,45.392579
20251025102355,124.555402,45.392578
20251025102405,124.555481,45.392576
20251025102415,124.555554,45.392575
20251025102425,124.555629,45.392572
20251025102435,124.555693,45.392572
20251025102445,124.555765,45.392570
20251025102455,124.555832,45.392570
20251025102505,124.555910,45.392570
20251025102515,124.555976,45.392573
20251025102525,124.556060,45.392573
20251025102535,124.556136,45.392574
20251025102545,124.556214,45.392574
20251025102555,124.556294,45.392574
20251025102605,124.556374,45.392573
20251025102615,124.556461,45.392573
20251025102625,124.556545,45.392571
20251025102635,124.556517,45.392576
20251025102645,124.556647,45.392634
20251025102655,124.556596,45.392755
20251025102705,124.556512,45.392769
20251025102715,124.556435,45.392773
20251025102725,124.556360,45.392774
20251025102735,124.556283,45.392776
20251025102745,124.556210,45.392775
20251025102755,124.556133,45.392774
20251025102805,124.556058,45.392773
20251025102815,124.555973,45.392771
20251025102825,124.555893,45.392770
20251025102835,124.555800,45.392771
20251025102845,124.555702,45.392771
20251025102855,124.555610,45.392773
20251025102905,124.555514,45.392775
20251025102915,124.555423,45.392777
20251025102925,124.555331,45.392778
20251025102935,124.555257,45.392779
20251025102945,124.555184,45.392779
20251025102955,124.555093,45.392781
20251025103005,124.554996,45.392784
20251025103015,124.554905,45.392792
20251025103025,124.554807,45.392802
20251025103035,124.554726,45.392814
20251025103045,124.554639,45.392827
20251025103055,124.554700,45.392817
20251025103105,124.554699,45.392818
20251025103115,124.554699,45.392818
20251025103125,124.554692,45.392819
20251025103135,124.554692,45.392818
20251025103145,124.554692,45.392818
20251025103155,124.554647,45.392825
20251025103205,124.554497,45.392764
20251025103215,124.554515,45.392650
20251025103225,124.554635,45.392611
20251025103235,124.554739,45.392594
20251025103245,124.554854,45.392580
20251025103255,124.554973,45.392572
20251025103305,124.554970,45.392561
20251025103315,124.555077,45.392551
20251025103325,124.555159,45.392549
20251025103335,124.555252,45.392548
20251025103345,124.555340,45.392549
20251025103355,124.555420,45.392548
20251025103405,124.555512,45.392546
20251025103415,124.555603,45.392544
20251025103425,124.555693,45.392543
20251025103435,124.555788,45.392543
20251025103445,124.555882,45.392543
20251025103455,124.555970,45.392544
20251025103505,124.556062,45.392546
20251025103515,124.556152,45.392547
20251025103525,124.556241,45.392547
20251025103535,124.556322,45.392546
20251025103545,124.556408,45.392544
20251025103555,124.556498,45.392544
20251025103605,124.556547,45.392544
20251025103615,124.556520,45.392544
20251025103625,124.556520,45.392544
20251025103635,124.556520,45.392544
20251025103645,124.556520,45.392544
20251025103655,124.556520,45.392544
20251025103705,124.556589,45.392550
20251025103715,124.556654,45.392647
20251025103725,124.556615,45.392785
20251025103735,124.556592,45.392789
20251025103745,124.556591,45.392790
20251025103755,124.556591,45.392790
20251025103805,124.556570,45.392792
20251025103815,124.556491,45.392799
20251025103825,124.556412,45.392802
20251025103835,124.556330,45.392804
20251025103845,124.556244,45.392804
20251025103855,124.556157,45.392804
20251025103905,124.556069,45.392802
20251025103915,124.555972,45.392801
20251025103925,124.555886,45.392800
20251025103935,124.555790,45.392801
20251025103945,124.555692,45.392802
20251025103955,124.555591,45.392802
20251025104005,124.555494,45.392806
20251025104015,124.555405,45.392808
20251025104025,124.555302,45.392809
20251025104035,124.555202,45.392809
20251025104045,124.555089,45.392811
20251025104055,124.554972,45.392815
20251025104105,124.554858,45.392823
20251025104115,124.554745,45.392839
20251025104125,124.554578,45.392861
20251025104135,124.554501,45.392821
20251025104145,124.554504,45.392814
20251025104155,124.554559,45.392660
20251025104205,124.554806,45.392590
20251025104215,124.554980,45.392540
20251025104225,124.555031,45.392527
20251025104235,124.555123,45.392525
20251025104245,124.555217,45.392523
20251025104255,124.555313,45.392523
20251025104305,124.555412,45.392522
20251025104315,124.555507,45.392519
20251025104325,124.555610,45.392517
20251025104335,124.555720,45.392516
20251025104345,124.555844,45.392516
20251025104355,124.555960,45.392517
20251025104405,124.556070,45.392518
20251025104415,124.556162,45.392520
20251025104425,124.556266,45.392519
20251025104435,124.556370,45.392518
20251025104445,124.556471,45.392513
20251025104455,124.556571,45.392511
20251025104505,124.556566,45.392526
20251025104515,124.556623,45.392552
20251025104525,124.556636,45.392577
20251025104535,124.556647,45.392628
20251025104545,124.556666,45.392689
20251025104555,124.556620,45.392791
20251025104605,124.556620,45.392791
20251025104615,124.556620,45.392791
20251025104625,124.556613,45.392793
20251025104635,124.556601,45.392798
20251025104645,124.556600,45.392798
20251025104655,124.556566,45.392807
20251025104705,124.556538,45.392803
20251025104715,124.556548,45.392799
20251025104725,124.556534,45.392801
20251025104735,124.556534,45.392801
20251025104745,124.556534,45.392801
20251025104755,124.556531,45.392801
20251025104805,124.556495,45.392807
20251025104815,124.556496,45.392807
20251025104825,124.556496,45.392807
20251025104835,124.556496,45.392807
20251025104845,124.556496,45.392807
20251025104855,124.556494,45.392807
20251025104905,124.556421,45.392818
20251025104915,124.556324,45.392821
20251025104925,124.556215,45.392822
20251025104935,124.556119,45.392822
20251025104945,124.556016,45.392820
20251025104955,124.555911,45.392816
20251025105005,124.555870,45.392816
20251025105015,124.555818,45.392817
20251025105025,124.555748,45.392818
20251025105035,124.555680,45.392819
20251025105045,124.555597,45.392819
20251025105055,124.555503,45.392822
20251025105105,124.555408,45.392826
20251025105115,124.555298,45.392826
20251025105125,124.555186,45.392826
20251025105135,124.555140,45.392827
20251025105145,124.555147,45.392826
20251025105155,124.555144,45.392826
20251025105205,124.555140,45.392827
20251025105215,124.555138,45.392827
20251025105225,124.555138,45.392827
20251025105235,124.555138,45.392827
20251025105245,124.555138,45.392827
20251025105255,124.555136,45.392827
20251025105305,124.555085,45.392829
20251025105315,124.554987,45.392832
20251025105325,124.554881,45.392837
20251025105335,124.554822,45.392845
20251025105345,124.554823,45.392844
20251025105355,124.554724,45.392864
20251025105405,124.554599,45.392887
20251025105415,124.554761,45.392854
20251025105425,124.554707,45.392872
20251025105435,124.554606,45.392890
20251025105445,124.554619,45.392888
20251025105455,124.554619,45.392888
20251025105505,124.554619,45.392887
20251025105515,124.554619,45.392888
20251025105525,124.554619,45.392887
20251025105535,124.554619,45.392887
20251025105545,124.554619,45.392887
20251025105555,124.554619,45.392887
20251025105605,124.554619,45.392887
20251025105615,124.554619,45.392887
20251025105625,124.554619,45.392887
20251025105635,124.554570,45.392893
20251025105645,124.554473,45.392825
20251025105655,124.554620,45.392719
20251025105705,124.554786,45.392614
20251025105715,124.554952,45.392533
20251025105725,124.554976,45.392517
20251025105735,124.555054,45.392498
20251025105745,124.555032,45.392500
20251025105755,124.555045,45.392498
20251025105805,124.555064,45.392497
20251025105815,124.555048,45.392499
20251025105825,124.555048,45.392499
20251025105835,124.555048,45.392499
20251025105845,124.555048,45.392499
20251025105855,124.555048,45.392499
20251025105905,124.555048,45.392499
20251025105915,124.555048,45.392499
20251025105925,124.555049,45.392499
20251025105935,124.555048,45.392499
20251025105945,124.555049,45.392498
20251025105955,124.555049,45.392499
20251025110249,124.555301,45.392493
20251025110259,124.555397,45.392493
20251025110309,124.555497,45.392491
20251025110319,124.555597,45.392489
20251025110329,124.555704,45.392487
20251025110339,124.555808,45.392487
20251025110349,124.555917,45.392487
20251025110359,124.556031,45.392488
20251025110409,124.556149,45.392490
20251025110419,124.556254,45.392490
20251025110429,124.556389,45.392487
20251025110439,124.556423,45.392485
20251025110449,124.556427,45.392484
20251025110459,124.556428,45.392483
20251025110509,124.556428,45.392483
20251025110519,124.556428,45.392483
20251025110529,124.556428,45.392483
20251025110539,124.556428,45.392483
20251025110549,124.556428,45.392483
20251025110559,124.556428,45.392483
20251025110609,124.556428,45.392483
20251025110619,124.556428,45.392483
20251025110629,124.556428,45.392483
20251025110639,124.556485,45.392481
20251025110649,124.556534,45.392480
20251025110659,124.556575,45.392472
20251025110709,124.556521,45.392494
20251025110719,124.556569,45.392480
20251025110729,124.556595,45.392340
20251025110739,124.556796,45.392278
20251025110749,124.556882,45.392285
20251025110759,124.556923,45.392324
20251025110809,124.556910,45.392340
20251025110819,124.556918,45.392423
20251025110829,124.556928,45.392524
20251025110839,124.556933,45.392632
20251025110849,124.556942,45.392758
20251025110859,124.556819,45.392789
20251025110909,124.556652,45.392605
20251025110919,124.556569,45.392467
20251025110929,124.556566,45.392466
20251025110939,124.556503,45.392452
20251025110949,124.556409,45.392453
20251025110959,124.556328,45.392454
20251025111009,124.556360,45.392454
20251025111019,124.556359,45.392454
20251025111029,124.556359,45.392454
20251025111039,124.556359,45.392454
20251025111049,124.556359,45.392454
20251025111059,124.556359,45.392454
20251025111109,124.556359,45.392454
20251025111119,124.556359,45.392454
20251025111129,124.556359,45.392454
20251025111139,124.556359,45.392454
20251025111149,124.556359,45.392454
20251025111825,124.556094,45.392447
20251025111835,124.555987,45.392448
20251025111845,124.555874,45.392452
20251025111855,124.555767,45.392454
20251025111905,124.555668,45.392454
20251025111915,124.555546,45.392455
20251025111925,124.555421,45.392459
20251025111935,124.555295,45.392459
20251025111945,124.555157,45.392458
20251025111955,124.555277,45.392482
20251025112005,124.555266,45.392480
20251025112015,124.555266,45.392480
20251025112424,124.555233,45.392475
20251025112434,124.555234,45.392479
20251025112444,124.555235,45.392480
20251025112454,124.555237,45.392481
20251025112504,124.555237,45.392482
20251025112608,124.555393,45.392524
20251025112618,124.555391,45.392524
20251025112628,124.555392,45.392525
20251025112638,124.555391,45.392524
20251025112648,124.555391,45.392523
20251025112658,124.555290,45.392530
20251025112708,124.555154,45.392476
20251025112718,124.555164,45.392482
20251025112728,124.555196,45.392465
20251025112738,124.555314,45.392453
20251025112748,124.555423,45.392456
20251025112758,124.555532,45.392459
20251025112808,124.555633,45.392462
20251025112818,124.555725,45.392461
20251025112828,124.555847,45.392459
20251025112838,124.555878,45.392461
20251025112848,124.555878,45.392463
20251025113544,124.555893,45.392449
20251025113554,124.555889,45.392443
20251025113604,124.555884,45.392438
20251025113614,124.555881,45.392437
20251025113624,124.555877,45.392437
20251025113634,124.555938,45.392439
20251025113644,124.556024,45.392437
20251025113654,124.556056,45.392433
20251025113704,124.556161,45.392421
20251025113714,124.556246,45.392424
20251025113724,124.556365,45.392420
20251025113734,124.556474,45.392420
20251025113744,124.556394,45.392424
20251025113754,124.556227,45.392436
20251025113804,124.556245,45.392416
20251025113814,124.556382,45.392414
20251025113824,124.556472,45.392413
20251025113834,124.556514,45.392480
20251025113844,124.556536,45.392538
20251025113854,124.556556,45.392562
20251025113904,124.556666,45.392708
20251025113914,124.556880,45.392787
20251025113924,124.556901,45.392748
20251025113934,124.556906,45.392670
20251025113944,124.556897,45.392578
20251025113954,124.556891,45.392488
20251025114004,124.556884,45.392397
20251025114014,124.556884,45.392352
20251025114024,124.556869,45.392286
20251025114034,124.556774,45.392256
20251025114044,124.556648,45.392313
20251025114054,124.556635,45.392388
20251025114104,124.556643,45.392477
20251025114114,124.556659,45.392617
20251025114124,124.556709,45.392743
20251025114134,124.556814,45.392749
20251025114144,124.556893,45.392750
20251025114154,124.556868,45.392704
20251025114204,124.556859,45.392608
20251025114214,124.556851,45.392507
20251025114224,124.556846,45.392404
20251025114234,124.556834,45.392312
20251025114244,124.556830,45.392284
20251025114254,124.556778,45.392260
20251025114304,124.556687,45.392323
20251025114344,124.556710,45.392693
20251025114354,124.556846,45.392763
20251025114404,124.556824,45.392729
20251025114414,124.556821,45.392640
20251025114424,124.556814,45.392546
20251025114434,124.556807,45.392456
20251025114444,124.556792,45.392353
20251025114454,124.556793,45.392345
20251025114504,124.556781,45.392285
20251025114514,124.556774,45.392272
20251025114524,124.556720,45.392302
20251025114534,124.556716,45.392342
20251025114544,124.556721,45.392415
20251025114554,124.556717,45.392369
20251025114604,124.556717,45.392369
20251025114614,124.556717,45.392369
20251025114624,124.556717,45.392369
20251025114634,124.556717,45.392369
20251025114644,124.556717,45.392369
20251025114654,124.556717,45.392369
20251025114704,124.556717,45.392369
20251025114714,124.556717,45.392369
20251025114724,124.556717,45.392369
20251025114734,124.556718,45.392388
20251025114744,124.556728,45.392471
20251025114754,124.556737,45.392560
20251025114804,124.556748,45.392651
20251025114814,124.556757,45.392694
20251025114824,124.556774,45.392725
20251025114834,124.556757,45.392765
20251025114844,124.556791,45.392698
20251025114854,124.556784,45.392604
20251025114904,124.556776,45.392506
20251025114914,124.556763,45.392397
20251025114924,124.556762,45.392367
20251025114934,124.556771,45.392461
20251025114944,124.556771,45.392461
20251025114954,124.556771,45.392461
20251025115004,124.556771,45.392461
20251025115014,124.556771,45.392461
20251025115024,124.556771,45.392461
20251025115034,124.556771,45.392461
20251025115044,124.556771,45.392461
20251025115054,124.556771,45.392461
20251025115104,124.556771,45.392461
20251025115114,124.556771,45.392461
20251025115124,124.556771,45.392461
20251025115134,124.556771,45.392461
20251025115144,124.556771,45.392461
20251025115154,124.556771,45.392461
20251025115204,124.556771,45.392461
20251025115214,124.556771,45.392461
20251025115224,124.556771,45.392461
20251025115234,124.556771,45.392460
20251025115244,124.556768,45.392430
20251025115254,124.556629,45.392373
20251025115304,124.556494,45.392466
20251025115314,124.556101,45.392479
20251025115324,124.555667,45.392476
20251025115334,124.555289,45.392503
20251025115344,124.555033,45.392534
20251025115354,124.554870,45.392616
20251025115404,124.554536,45.392685
20251025115624,124.555562,45.392902
20251025115634,124.556028,45.392901
20251025115644,124.556493,45.392891
20251025115654,124.556932,45.392877
20251025115704,124.557235,45.392862
20251025115714,124.557522,45.392825
20251025115724,124.557931,45.392814
20251025115734,124.558307,45.392886
20251025115744,124.558739,45.392998
20251025115754,124.559135,45.393103
20251025115804,124.559348,45.393145
20251025115814,124.559543,45.393170
20251025115824,124.559908,45.393187
20251025115834,124.560264,45.393166
20251025115844,124.560293,45.392934
20251025115854,124.560276,45.392748
20251025115904,124.560274,45.392575
20251025115914,124.560263,45.392437
20251025115924,124.560244,45.392301
20251025115934,124.560236,45.392141
20251025115944,124.560231,45.391951
20251025115954,124.560191,45.391750
20251025120004,124.560116,45.391509
20251025120014,124.560114,45.391210
20251025120024,124.560098,45.390920
20251025120034,124.560135,45.390610
20251025120044,124.560141,45.390330
20251025120054,124.560141,45.390042
20251025120104,124.560091,45.389784
20251025120114,124.559828,45.389765
20251025120124,124.559714,45.389792
20251025120134,124.559696,45.389792
20251025120144,124.559585,45.389808
20251025120154,124.559489,45.389814
20251025120204,124.559385,45.389813
20251025120214,124.559276,45.389812
20251025120224,124.559177,45.389817
20251025120234,124.559069,45.389852
20251025120244,124.559091,45.389844
20251025120254,124.559186,45.389801
20251025120304,124.559067,45.389812
20251025120314,124.559076,45.389793
20251025120324,124.559113,45.389859
20251025120334,124.559117,45.389813
20251025120344,124.559210,45.389843
20251025120354,124.559310,45.389845
20251025120404,124.559418,45.389844
20251025120414,124.559529,45.389843
20251025120424,124.559630,45.389840
20251025120434,124.559610,45.389839
20251025120444,124.559460,45.389833
20251025120454,124.559426,45.389836
20251025120504,124.559434,45.389906
20251025120514,124.559446,45.389997
20251025120524,124.559460,45.390109
20251025120534,124.559472,45.390216
20251025120544,124.559478,45.390278
20251025120554,124.559480,45.390306
20251025120604,124.559483,45.390338
20251025120614,124.559483,45.390367
20251025120624,124.559491,45.390421
20251025120634,124.559496,45.390528
20251025120644,124.559502,45.390640
20251025120654,124.559510,45.390747
20251025120704,124.559513,45.390762
20251025120714,124.559506,45.390698
20251025120724,124.559501,45.390571
20251025120734,124.559541,45.390672
20251025120744,124.559555,45.390777
20251025120754,124.559533,45.390694
20251025120804,124.559508,45.390621
20251025120814,124.559487,45.390612
20251025120824,124.559464,45.390720
20251025120834,124.559457,45.390823
20251025120844,124.559458,45.390781
20251025120854,124.559435,45.390775
20251025120904,124.559405,45.390754
20251025120914,124.559286,45.390721
20251025120924,124.559205,45.390675
20251025120934,124.559354,45.390754
20251025120944,124.559498,45.390770
20251025120954,124.559385,45.390720
20251025121004,124.559298,45.390693
20251025121014,124.559228,45.390663
20251025121024,124.559391,45.390729
20251025121034,124.559468,45.390727
20251025121044,124.559350,45.390681
20251025121054,124.559227,45.390638
20251025121104,124.559099,45.390600
20251025121114,124.559094,45.390600
20251025121124,124.559229,45.390638
20251025121134,124.559199,45.390647
20251025121144,124.559099,45.390627
20251025121154,124.559300,45.390671
20251025121204,124.559482,45.390733
20251025121214,124.559471,45.390679
20251025121224,124.559468,45.390598
20251025121234,124.559462,45.390515
20251025121244,124.559458,45.390449
20251025121254,124.559456,45.390413
20251025121304,124.559455,45.390404
20251025121314,124.559449,45.390335
20251025121324,124.559447,45.390289
20251025121334,124.559442,45.390241
20251025121344,124.559431,45.390147
20251025121354,124.559418,45.390040
20251025121404,124.559405,45.389938
20251025121414,124.559401,45.389902
20251025121424,124.559403,45.389890
20251025121434,124.559355,45.389828
20251025121444,124.559309,45.389829
20251025121454,124.559269,45.389822
20251025121504,124.559270,45.389822
20251025121514,124.559289,45.389825
20251025121524,124.559324,45.389828
20251025121534,124.559324,45.389828
20251025121544,124.559322,45.389828
20251025121554,124.559320,45.389828
20251025121604,124.559320,45.389828
20251025121614,124.559319,45.389828
20251025121624,124.559318,45.389828
20251025121634,124.559318,45.389828
20251025121644,124.559318,45.389828
20251025121654,124.559309,45.389829
20251025121704,124.559254,45.389825
20251025121714,124.559214,45.389827
20251025121724,124.559135,45.389831
20251025121734,124.559132,45.389833
20251025121744,124.559120,45.389876
20251025121754,124.559127,45.389968
20251025121804,124.559140,45.390050
20251025121814,124.559152,45.390146
20251025121824,124.559160,45.390202
20251025121834,124.559168,45.390235
20251025121844,124.559171,45.390269
20251025121854,124.559175,45.390314
20251025121904,124.559186,45.390416
20251025121914,124.559190,45.390509
20251025121924,124.559205,45.390642
20251025121934,124.559391,45.390755
20251025121944,124.559434,45.390740
20251025121954,124.559432,45.390692
20251025122004,124.559430,45.390659
20251025122014,124.559430,45.390654
20251025122024,124.559428,45.390624
20251025122034,124.559424,45.390577
20251025122044,124.559418,45.390481
20251025122054,124.559412,45.390386
20251025122104,124.559410,45.390344
20251025122114,124.559403,45.390284
20251025122124,124.559400,45.390245
20251025122134,124.559390,45.390156
20251025122144,124.559377,45.390048
20251025122154,124.559363,45.389933
20251025122204,124.559360,45.389895
20251025122214,124.559351,45.389845
20251025122224,124.559282,45.389808
20251025122234,124.559319,45.389813
20251025122244,124.559318,45.389813
20251025122254,124.559318,45.389813
20251025122304,124.559318,45.389813
20251025122314,124.559210,45.389792
20251025122324,124.559148,45.389813
20251025122334,124.559153,45.389828
20251025122344,124.559159,45.389847
20251025122354,124.559167,45.389927
20251025122404,124.559177,45.389997
20251025122414,124.559188,45.390088
20251025122424,124.559203,45.390182
20251025122434,124.559209,45.390237
20251025122444,124.559209,45.390239
20251025122454,124.559214,45.390288
20251025122504,124.559221,45.390327
20251025122514,124.559224,45.390416
20251025122524,124.559232,45.390513
20251025122534,124.559239,45.390615
20251025122544,124.559244,45.390655
20251025122554,124.559346,45.390742
20251025122604,124.559383,45.390730
20251025122614,124.559386,45.390672
20251025122624,124.559383,45.390587
20251025122634,124.559377,45.390492
20251025122644,124.559370,45.390389
20251025122654,124.559365,45.390345
20251025122704,124.559360,45.390299
20251025122714,124.559359,45.390258
20251025122724,124.559349,45.390167
20251025122734,124.559337,45.390055
20251025122744,124.559322,45.389942
20251025122754,124.559322,45.389903
20251025122804,124.559324,45.389888
20251025122814,124.559301,45.389821
20251025122824,124.559290,45.389818
20251025122834,124.559345,45.389817
20251025122844,124.559358,45.389816
20251025122854,124.559358,45.389817
20251025122904,124.559358,45.389816
20251025122914,124.559357,45.389817
20251025122924,124.559356,45.389817
20251025122934,124.559358,45.389816
20251025122944,124.559356,45.389817
20251025122954,124.559356,45.389817
20251025123004,124.559353,45.389817
20251025123014,124.559256,45.389799
20251025123024,124.559217,45.389804
20251025123034,124.559200,45.389852
20251025123044,124.559207,45.389926
20251025123054,124.559217,45.390022
20251025123104,124.559228,45.390119
20251025123114,124.559240,45.390217
20251025123124,124.559240,45.390239
20251025123134,124.559245,45.390295
20251025123144,124.559249,45.390350
20251025123154,124.559256,45.390413
20251025123204,124.559260,45.390511
20251025123214,124.559268,45.390610
20251025123224,124.559262,45.390617
20251025123234,124.559272,45.390715
20251025123243,124.559342,45.390712
20251025123253,124.559341,45.390695
20251025123303,124.559344,45.390630
20251025123313,124.559338,45.390535
20251025123323,124.559331,45.390438
20251025123333,124.559325,45.390359
20251025123343,124.559321,45.390312
20251025123353,124.559317,45.390247
20251025123403,124.559308,45.390173
20251025123413,124.559300,45.390082
20251025123423,124.559292,45.389989
20251025123433,124.559277,45.389898
20251025123443,124.559284,45.389923
20251025123453,124.559283,45.389901
20251025123503,124.559285,45.389895
20251025125046,124.559235,45.389911
20251025125056,124.559249,45.390002
20251025125106,124.559259,45.390095
20251025125116,124.559272,45.390187
20251025125126,124.559273,45.390241
20251025125136,124.559276,45.390273
20251025125146,124.559279,45.390331
20251025125156,124.559286,45.390424
20251025125206,124.559293,45.390524
20251025125216,124.559302,45.390634
20251025125226,124.559303,45.390651
20251025125236,124.559258,45.390715
20251025125246,124.559175,45.390631
20251025125256,124.559163,45.390583
20251025125306,124.559162,45.390549
20251025125316,124.559157,45.390463
20251025125326,124.559151,45.390389
20251025125336,124.559142,45.390309
20251025125346,124.559138,45.390279
20251025125356,124.559130,45.390225
20251025125406,124.559124,45.390172
20251025125416,124.559113,45.390088
20251025125426,124.559098,45.389997
20251025125436,124.559090,45.389898
20251025125446,124.559091,45.389925
20251025125456,124.559091,45.389924
20251025125506,124.559091,45.389924
20251025125516,124.559091,45.389924
20251025125526,124.559091,45.389924
20251025125536,124.559091,45.389922
20251025125546,124.559188,45.389818
20251025125556,124.559340,45.389791
20251025125606,124.559459,45.389839
20251025125616,124.559477,45.389916
20251025125626,124.559487,45.390004
20251025125636,124.559498,45.390103
20251025125646,124.559512,45.390194
20251025125656,124.559521,45.390278
20251025125706,124.559520,45.390281
20251025125716,124.559521,45.390282
20251025125726,124.559521,45.390306
20251025125736,124.559526,45.390364
20251025125746,124.559531,45.390428
20251025125756,124.559537,45.390516
20251025125806,124.559543,45.390627
20251025125816,124.559542,45.390688
20251025125826,124.559453,45.390765
20251025125836,124.559307,45.390738
20251025125846,124.559190,45.390659
20251025125856,124.559123,45.390567
20251025125906,124.559115,45.390481
20251025125916,124.559105,45.390394
20251025125926,124.559098,45.390314
20251025125936,124.559098,45.390314
20251025125946,124.559092,45.390281
20251025125956,124.559086,45.390225
20251025130006,124.559079,45.390172
20251025130016,124.559066,45.390085
20251025130026,124.559057,45.389994
20251025130036,124.559044,45.389908
20251025130046,124.559058,45.389933
20251025130056,124.559165,45.389828
20251025130106,124.559309,45.389793
20251025130116,124.559504,45.389840
20251025130126,124.559518,45.389910
20251025130136,124.559527,45.389983
20251025130146,124.559535,45.390048
20251025130156,124.559545,45.390127
20251025130206,124.559551,45.390211
20251025130216,124.559561,45.390287
20251025130226,124.559563,45.390323
20251025130236,124.559568,45.390379
20251025130246,124.559572,45.390440
20251025130256,124.559579,45.390527
20251025130306,124.559586,45.390620
20251025130316,124.559594,45.390718
20251025130326,124.559597,45.390751
20251025130336,124.559586,45.390712
20251025130346,124.559586,45.390721
20251025130356,124.559586,45.390721
20251025130406,124.559586,45.390721
20251025130416,124.559586,45.390721
20251025130426,124.559586,45.390721
20251025130436,124.559586,45.390721
20251025130446,124.559586,45.390721
20251025130456,124.559586,45.390721
20251025130506,124.559586,45.390721
20251025130516,124.559586,45.390721
20251025130526,124.559586,45.390721
20251025130536,124.559586,45.390721
20251025130546,124.559586,45.390721
20251025130556,124.559586,45.390721
20251025130606,124.559586,45.390721
20251025130616,124.559586,45.390721
20251025130626,124.559586,45.390721
20251025130636,124.559586,45.390721
20251025130646,124.559586,45.390711
20251025130656,124.559500,45.390779
20251025130706,124.559299,45.390736
20251025130716,124.559230,45.390686
20251025130726,124.559230,45.390686
20251025130736,124.559230,45.390685
20251025130746,124.559230,45.390685
20251025130756,124.559221,45.390678
20251025130806,124.559096,45.390603
20251025130816,124.559073,45.390523
20251025130826,124.559069,45.390450
20251025130836,124.559061,45.390357
20251025130846,124.559047,45.390272
20251025130856,124.559044,45.390242
20251025130906,124.559038,45.390184
20251025130916,124.559026,45.390106
20251025130926,124.559014,45.390017
20251025130936,124.559002,45.389930
20251025130946,124.559012,45.389920
20251025130956,124.559106,45.389846
20251025131006,124.559239,45.389807
20251025131016,124.559368,45.389786
20251025131026,124.559370,45.389786
20251025131036,124.559370,45.389786
20251025131046,124.559370,45.389786
20251025131056,124.559370,45.389786
20251025131106,124.559370,45.389786
20251025131116,124.559415,45.389790
20251025131126,124.559534,45.389836
20251025131136,124.559553,45.389911
20251025131146,124.559565,45.389995
20251025131156,124.559578,45.390089
20251025131206,124.559588,45.390179
20251025131216,124.559597,45.390266
20251025131226,124.559597,45.390258
20251025131236,124.559592,45.390315
20251025131246,124.559594,45.390365
20251025131256,124.559609,45.390412
20251025131306,124.559618,45.390489
20251025131316,124.559623,45.390580
20251025131326,124.559629,45.390669
20251025131336,124.559633,45.390765
20251025131346,124.559611,45.390731
20251025131356,124.559474,45.390776
20251025133046,124.559512,45.389830
20251025133056,124.559502,45.389830
20251025133106,124.559498,45.389830
20251025133116,124.559500,45.389830
20251025133126,124.559508,45.389830
20251025133136,124.559508,45.389830
20251025133146,124.559507,45.389830
20251025133156,124.559507,45.389830
20251025133206,124.559497,45.389829
20251025133216,124.559546,45.389854
20251025133226,124.559561,45.389870
20251025133643,124.559568,45.389881
20251025133653,124.559572,45.389888
20251025133703,124.559572,45.389887
20251025133713,124.559577,45.389853
20251025133723,124.559689,45.389790
20251025133733,124.560001,45.389750
20251025133743,124.560091,45.389578
20251025133753,124.560084,45.389364
20251025133803,124.560078,45.389135
20251025133813,124.560120,45.388903
20251025133823,124.560112,45.388635
20251025133833,124.560104,45.388406
20251025133843,124.560088,45.388288
20251025133853,124.560073,45.388087
20251025133903,124.560054,45.387896
20251025133913,124.560007,45.387709
20251025133923,124.559996,45.387517
20251025133933,124.559981,45.387286
20251025133943,124.559964,45.387064
20251025133953,124.559956,45.386834
20251025134003,124.559940,45.386575
20251025134013,124.559935,45.386337
20251025134023,124.559929,45.386165
20251025134033,124.559921,45.385996
20251025134043,124.559913,45.385806
20251025134053,124.559891,45.385611
20251025134103,124.559878,45.385396
20251025134113,124.559861,45.385170
20251025134123,124.559718,45.385086
20251025134133,124.559473,45.385146
20251025134143,124.559133,45.385269
20251025134153,124.558813,45.385394
20251025134204,124.558491,45.385535
20251025134214,124.558234,45.385663
20251025134224,124.557896,45.385822
20251025134234,124.557551,45.385990
20251025134244,124.557279,45.386118
20251025134254,124.556976,45.386262
20251025134304,124.556610,45.386434
20251025134314,124.556221,45.386618
20251025134324,124.555847,45.386799
20251025134334,124.555510,45.386959
20251025134344,124.555142,45.387131
20251025134354,124.554778,45.387302
20251025134404,124.554433,45.387468
20251025134414,124.554110,45.387627
20251025134424,124.553815,45.387772
20251025134434,124.553503,45.387914
20251025134444,124.553180,45.388038
20251025134454,124.552828,45.388143
20251025134504,124.552477,45.388242
20251025134514,124.552123,45.388320
20251025134524,124.551811,45.388386
20251025134534,124.551468,45.388449
20251025134544,124.551110,45.388493
20251025134554,124.550767,45.388478
20251025134604,124.550394,45.388427
20251025134614,124.550078,45.388387
20251025134624,124.549762,45.388350
20251025134634,124.549388,45.388304
20251025134644,124.548999,45.388246
20251025134654,124.548594,45.388181
20251025134704,124.548257,45.388130
20251025134714,124.547904,45.388082
20251025134724,124.547530,45.388034
20251025134734,124.547112,45.387974
20251025134744,124.546743,45.387924
20251025134754,124.546384,45.387875
20251025134804,124.546009,45.387816
20251025134814,124.545665,45.387764
20251025134824,124.545290,45.387708
20251025134834,124.544874,45.387623
20251025134844,124.544541,45.387465
20251025134854,124.544251,45.387281
20251025134904,124.544020,45.387124
20251025134914,124.543790,45.386974
20251025134924,124.543628,45.386868
20251025134934,124.543472,45.386873
20251025134944,124.543278,45.387070
20251025134954,124.542977,45.387220
20251025135004,124.542789,45.387270
20251025135109,124.542124,45.387648
20251025135119,124.542272,45.387764
20251025135129,124.542342,45.387819
20251025135139,124.542342,45.387819
20251025135149,124.542342,45.387819
20251025135159,124.542342,45.387819
20251025135209,124.542383,45.387849
20251025135219,124.542541,45.387866
20251025135229,124.542501,45.387862
20251025135239,124.542537,45.387850
20251025135249,124.542400,45.387870
20251025135259,124.542437,45.387892
20251025135309,124.542553,45.387889
20251025135319,124.542432,45.387886
20251025135329,124.542368,45.387851
20251025135339,124.542386,45.387927
20251025135349,124.542312,45.387989
20251025135359,124.542224,45.388063
20251025135409,124.542157,45.388145
20251025135419,124.542188,45.388090
20251025135429,124.542186,45.388194
20251025135439,124.542182,45.388114
20251025135449,124.542223,45.388056
20251025135459,124.542225,45.388123
20251025135509,124.542224,45.388169
20251025135519,124.542219,45.388153
20251025135529,124.542173,45.388149
20251025135539,124.542235,45.388203
20251025135549,124.542323,45.388208
20251025135559,124.542298,45.388207
20251025135609,124.542214,45.388199
20251025135619,124.542309,45.388201
20251025135629,124.542454,45.388195
20251025135639,124.542577,45.388186
20251025135649,124.542684,45.388178
20251025135659,124.542782,45.388176
20251025135709,124.542907,45.388167
20251025135719,124.543032,45.388157
20251025135729,124.543140,45.388153
20251025135739,124.543041,45.388156
20251025135749,124.542890,45.388166
20251025135759,124.543047,45.388144
20251025135809,124.543190,45.388133
20251025135819,124.543302,45.388127
20251025135829,124.543430,45.388120
20251025135839,124.543404,45.388121
20251025135849,124.543207,45.388136
20251025135859,124.543198,45.388140
20251025135909,124.543389,45.388132
20251025135919,124.543442,45.388121
20251025135929,124.543229,45.388141
20251025135939,124.543173,45.388147
20251025135949,124.543337,45.388141
20251025135959,124.543452,45.388133
20251025140009,124.543244,45.388137
20251025140019,124.543025,45.388145
20251025140029,124.543188,45.388107
20251025140039,124.543340,45.388095
20251025140049,124.543261,45.388100
20251025140059,124.543261,45.388100
20251025140109,124.543261,45.388100
20251025140119,124.543261,45.388100
20251025140129,124.543261,45.388100
20251025140139,124.543261,45.388100
20251025140149,124.543263,45.388100
20251025140159,124.543385,45.388092
20251025140209,124.543538,45.388085
20251025140219,124.543689,45.388077
20251025140229,124.543532,45.388087
20251025140239,124.543518,45.388105
20251025140249,124.543698,45.388099
20251025140259,124.543824,45.388093
20251025140309,124.543677,45.388083
20251025140319,124.543866,45.388070
20251025140329,124.544044,45.388059
20251025140339,124.544214,45.388048
20251025140349,124.544387,45.388038
20251025140359,124.544577,45.388027
20251025140409,124.544744,45.388008
20251025140419,124.544686,45.388006
20251025140429,124.544701,45.388002
20251025140439,124.544677,45.387996
20251025140449,124.544570,45.387993
20251025140459,124.544606,45.387976
20251025140509,124.544454,45.387945
20251025140519,124.544314,45.387898
20251025140529,124.544201,45.387847
20251025140539,124.544057,45.387800
20251025140549,124.543902,45.387750
20251025140559,124.543745,45.387698
20251025140609,124.543710,45.387685
20251025140619,124.543545,45.387675
20251025140629,124.543365,45.387684
20251025140639,124.543192,45.387696
20251025140649,124.543039,45.387732
20251025140659,124.542882,45.387746
20251025140709,124.542745,45.387770
20251025140719,124.542593,45.387827
20251025140729,124.542481,45.387881
20251025140739,124.542481,45.387881
20251025140749,124.542481,45.387881
20251025140759,124.542481,45.387881
20251025140809,124.542481,45.387881
20251025140819,124.542481,45.387881
20251025140829,124.542471,45.387900
20251025140839,124.542367,45.387978
20251025140849,124.542343,45.387995
20251025140859,124.542343,45.387995
20251025140909,124.542343,45.387995
20251025140919,124.542343,45.387995
20251025140929,124.542343,45.387995
20251025140939,124.542343,45.387995
20251025140949,124.542343,45.387995
20251025140959,124.542343,45.387995
20251025141009,124.542309,45.388022
20251025141019,124.542214,45.388115
20251025141029,124.542250,45.388094
20251025141039,124.542286,45.388202
20251025141049,124.542390,45.388204
20251025141059,124.542595,45.388193
20251025141109,124.542789,45.388182
20251025141119,124.542924,45.388176
20251025141129,124.542947,45.388166
20251025141139,124.543043,45.388164
20251025141149,124.542997,45.388155
20251025141159,124.543142,45.388157
20251025141209,124.543063,45.388150
20251025141219,124.543254,45.388144
20251025141229,124.543599,45.388093
20251025141239,124.544032,45.388065
20251025141249,124.544360,45.388042
20251025141259,124.544585,45.387963
20251025141309,124.544516,45.387984
20251025141319,124.544358,45.387945
20251025141329,124.544223,45.387888
20251025141339,124.544084,45.387838
20251025141349,124.543925,45.387787
20251025141359,124.543757,45.387728
20251025141409,124.543688,45.387705
20251025141419,124.543504,45.387704
20251025141429,124.543321,45.387715
20251025141439,124.543118,45.387728
20251025141449,124.542895,45.387761
20251025141459,124.542710,45.387807
20251025141509,124.542557,45.387876
20251025141519,124.542452,45.387951
20251025141529,124.542551,45.387869
20251025141539,124.542548,45.387872
20251025141549,124.542548,45.387872
20251025141559,124.542548,45.387872
20251025141609,124.542548,45.387872
20251025141619,124.542547,45.387872
20251025141629,124.542547,45.387872
20251025141639,124.542547,45.387872
20251025141649,124.542494,45.387908
20251025141659,124.542415,45.387983
20251025141709,124.542334,45.388041
20251025141719,124.542286,45.388084
20251025141729,124.542285,45.388084
20251025141739,124.542237,45.388201
20251025141749,124.542240,45.388169
20251025141759,124.542361,45.388170
20251025141809,124.542485,45.388162
20251025141819,124.542616,45.388155
20251025141829,124.542712,45.388148
20251025141839,124.542860,45.388137
20251025141849,124.543012,45.388127
20251025141859,124.543125,45.388113
20251025141909,124.543182,45.388092
20251025141919,124.543329,45.388067
20251025141929,124.543481,45.388057
20251025141939,124.543641,45.388050
20251025141949,124.543798,45.388043
20251025141959,124.543943,45.388036
20251025142009,124.544096,45.388027
20251025142019,124.544258,45.388016
20251025142029,124.544438,45.388006
20251025142039,124.544394,45.388019
20251025142049,124.544449,45.388005
20251025142059,124.544503,45.387958
20251025142109,124.544361,45.387914
20251025142119,124.544186,45.387855
20251025142129,124.544181,45.387852
20251025142139,124.544181,45.387852
20251025142149,124.544181,45.387852
20251025142159,124.544181,45.387852
20251025142209,124.544085,45.387829
20251025142219,124.543861,45.387738
20251025142229,124.543671,45.387728
20251025142239,124.543515,45.387735
20251025142249,124.543353,45.387744
20251025142259,124.543184,45.387751
20251025142309,124.543018,45.387761
20251025142319,124.542941,45.387767
20251025142329,124.542868,45.387771
20251025142339,124.542676,45.387801
20251025142349,124.542541,45.387866
20251025142359,124.542507,45.387889
20251025142409,124.542425,45.387953
20251025142419,124.542394,45.387972
20251025142429,124.542394,45.387972
20251025142439,124.542394,45.387972
20251025142449,124.542394,45.387972
20251025142459,124.542391,45.387975
20251025142509,124.542391,45.387975
20251025142519,124.542381,45.387980
20251025142529,124.542397,45.387978
20251025142539,124.542469,45.387931
20251025142549,124.542469,45.387931
20251025142559,124.542466,45.387934
20251025142609,124.542344,45.388010
20251025142619,124.542225,45.388166
20251025142629,124.542265,45.388148
20251025142639,124.542350,45.388142
20251025142649,124.542500,45.388132
20251025142659,124.542657,45.388121
20251025142709,124.542809,45.388111
20251025142719,124.542968,45.388100
20251025142729,124.543141,45.388089
20251025142739,124.543317,45.388078
20251025142749,124.543534,45.388056
20251025142759,124.543774,45.388045
20251025142809,124.543929,45.388036
20251025142819,124.544115,45.388032
20251025150250,124.542336,45.387975
20251025150300,124.542333,45.388043
20251025150310,124.542393,45.388045
20251025150320,124.542528,45.388039
20251025150330,124.542674,45.388029
20251025150340,124.542827,45.388019
20251025150350,124.542826,45.388018
20251025150400,124.542826,45.388018
20251025150410,124.542826,45.388018
20251025150420,124.542826,45.388018
20251025150430,124.542826,45.388018
20251025150440,124.542826,45.388018
20251025150450,124.542826,45.388018
20251025150500,124.542826,45.388019
20251025150510,124.542880,45.388015
20251025150520,124.543005,45.388007
20251025150530,124.543145,45.387998
20251025150540,124.543276,45.387990
20251025150550,124.543408,45.387982
20251025150600,124.543550,45.387976
20251025150610,124.543701,45.387970
20251025150620,124.543851,45.387964
20251025150630,124.543991,45.387956
20251025150640,124.544118,45.387948
20251025150650,124.544274,45.387941
20251025150700,124.544204,45.387944
20251025150710,124.544284,45.387887
20251025150720,124.544254,45.387879
20251025150730,124.544095,45.387831
20251025150740,124.543934,45.387837
20251025150750,124.543782,45.387845
20251025150800,124.543631,45.387851
20251025150810,124.543479,45.387858
20251025150820,124.543327,45.387865
20251025150830,124.543171,45.387873
20251025150840,124.543024,45.387882
20251025150850,124.542865,45.387892
20251025150900,124.542709,45.387902
20251025150910,124.542522,45.387915
20251025150920,124.542602,45.387910
20251025150930,124.542601,45.387910
20251025150940,124.542601,45.387910
20251025150950,124.542601,45.387910
20251025151000,124.542601,45.387910
20251025151010,124.542601,45.387910
20251025151020,124.542601,45.387910
20251025151030,124.542601,45.387910
20251025151040,124.542601,45.387910
20251025151050,124.542601,45.387910
20251025151100,124.542584,45.387910
20251025151110,124.542366,45.387955
20251025151120,124.542347,45.388023
20251025151130,124.542408,45.388017
20251025151140,124.542540,45.388009
20251025151150,124.542669,45.387999
20251025151200,124.542729,45.387996
20251025151210,124.542838,45.387988
20251025151220,124.542958,45.387979
20251025151230,124.543075,45.387972
20251025151240,124.543196,45.387964
20251025151250,124.543331,45.387957
20251025151300,124.543478,45.387949
20251025151310,124.543635,45.387943
20251025151320,124.543788,45.387936
20251025151330,124.543940,45.387929
20251025151340,124.544090,45.387921
20251025151350,124.544178,45.387915
20251025151400,124.544251,45.387889
20251025151410,124.544230,45.387868
20251025151420,124.544131,45.387857
20251025151430,124.543974,45.387866
20251025151440,124.543817,45.387873
20251025151450,124.543651,45.387880
20251025151500,124.543502,45.387887
20251025151510,124.543348,45.387894
20251025151520,124.543191,45.387902
20251025151530,124.543034,45.387911
20251025151540,124.542868,45.387922
20251025151550,124.542703,45.387933
20251025151600,124.542551,45.387942
20251025151610,124.542593,45.387937
20251025151620,124.542593,45.387937
20251025151630,124.542496,45.387934
20251025151640,124.542428,45.387892
20251025151650,124.542247,45.387739
20251025151700,124.542154,45.387666
20251025151710,124.542149,45.387567
20251025151720,124.542410,45.387436
20251025151730,124.542708,45.387306
20251025151740,124.542836,45.387261
20251025151750,124.543043,45.387208
20251025151800,124.543341,45.387025
20251025151810,124.543465,45.386800
20251025151820,124.543324,45.386673
20251025151830,124.543182,45.386600
20251025151840,124.543159,45.386589
20251025151850,124.543159,45.386589
20251025151900,124.543159,45.386589
20251025151910,124.543159,45.386589
20251025151920,124.543159,45.386589
20251025151930,124.543158,45.386588
20251025151940,124.543134,45.386572
20251025151950,124.543114,45.386587
20251025152000,124.543106,45.386620
20251025152010,124.543392,45.386724
20251025152020,124.543405,45.386945
20251025152030,124.543163,45.387145
20251025152040,124.542875,45.387244
20251025152050,124.542746,45.387285
20251025152100,124.542479,45.387399
20251025152110,124.542149,45.387569
20251025152120,124.542136,45.387662
20251025152130,124.542276,45.387765
20251025152140,124.542409,45.387942
20251025152150,124.542348,45.388011
20251025152200,124.542387,45.387998
20251025152210,124.542435,45.387987
20251025152220,124.542572,45.387974
20251025152230,124.542724,45.387963
20251025152240,124.542895,45.387952
20251025152250,124.543073,45.387940
20251025152300,124.543271,45.387928
20251025152310,124.543478,45.387918
20251025152320,124.543685,45.387910
20251025152330,124.543890,45.387902
20251025152340,124.544082,45.387891
20251025152350,124.544083,45.387901
20251025152400,124.544056,45.387928
20251025152410,124.544052,45.387887
20251025152420,124.543833,45.387823
20251025152430,124.543441,45.387805
20251025152440,124.542993,45.387817
20251025152450,124.542545,45.387866
20251025152500,124.542311,45.387790
20251025152510,124.542185,45.387691
20251025152520,124.542166,45.387559
20251025152530,124.542394,45.387444
20251025152540,124.542580,45.387359
20251025152550,124.542744,45.387294
20251025152600,124.542896,45.387243
20251025152610,124.543123,45.387175
20251025152620,124.543274,45.387081
20251025152630,124.543405,45.386957
20251025152640,124.543464,45.386826
20251025152650,124.543375,45.386704
20251025152700,124.543235,45.386629
20251025152710,124.543170,45.386588
20251025152720,124.543156,45.386578
20251025152730,124.543154,45.386577
20251025152740,124.543159,45.386580
20251025152750,124.543158,45.386579
20251025152800,124.543158,45.386579
20251025152810,124.543158,45.386579
20251025152820,124.543163,45.386583
20251025152830,124.543175,45.386590
20251025152840,124.543174,45.386589
20251025152850,124.543173,45.386589
20251025152900,124.543171,45.386587
20251025152910,124.543171,45.386587
20251025152920,124.543171,45.386587
20251025152930,124.543122,45.386550
20251025152940,124.543015,45.386454
20251025152950,124.542883,45.386368
20251025153000,124.542732,45.386263
20251025153010,124.542551,45.386134
20251025153020,124.542347,45.385995
20251025153030,124.542159,45.385852
20251025153040,124.541940,45.385707
20251025153050,124.541723,45.385553
20251025153100,124.541521,45.385411
20251025153110,124.541329,45.385277
20251025153120,124.541133,45.385141
20251025153130,124.540947,45.385009
20251025153140,124.540724,45.384858
20251025153150,124.540501,45.384709
20251025153200,124.540284,45.384556
20251025153210,124.540072,45.384407
20251025153220,124.539882,45.384274
20251025153230,124.539658,45.384128
20251025153240,124.539428,45.383973
20251025153250,124.539189,45.383809
20251025153300,124.538943,45.383641
20251025153310,124.538713,45.383484
20251025153320,124.538500,45.383336
20251025153330,124.538243,45.383158
20251025153340,124.538011,45.382995
20251025153350,124.537797,45.382842
20251025153400,124.537523,45.382647
20251025153410,124.537298,45.382486
20251025153420,124.537052,45.382324
20251025153430,124.536867,45.382210
20251025153440,124.536798,45.382166
20251025153450,124.536723,45.382108
20251025153500,124.536568,45.381995
20251025153510,124.536395,45.381871
20251025153520,124.536199,45.381738
20251025153530,124.536010,45.381610
20251025153540,124.535806,45.381476
20251025153550,124.535766,45.381453
20251025153600,124.535789,45.381469
20251025153610,124.535788,45.381469
20251025153620,124.535787,45.381469
20251025153630,124.535787,45.381469
20251025153640,124.535787,45.381469
20251025153650,124.535787,45.381468
20251025153700,124.535778,45.381462
20251025153710,124.535779,45.381464
20251025153720,124.535790,45.381470
20251025153730,124.535800,45.381478
20251025153740,124.535798,45.381477
20251025153750,124.535798,45.381476
20251025153800,124.535667,45.381368
20251025153810,124.535354,45.381146
20251025153820,124.535058,45.380947
20251025153830,124.534754,45.380743
20251025153840,124.534648,45.380673
20251025153850,124.534421,45.380514
20251025153900,124.534000,45.380220
20251025153910,124.533595,45.379935
20251025153920,124.533210,45.379675
20251025153930,124.532818,45.379430
20251025153940,124.532323,45.379285
20251025153950,124.531902,45.379209
20251025154000,124.531481,45.379196
20251025154010,124.531033,45.379219
20251025154020,124.530559,45.379271
20251025154030,124.530049,45.379311
20251025154040,124.529497,45.379316
20251025154050,124.529006,45.379318
20251025154100,124.528469,45.379334
20251025154110,124.528058,45.379333
20251025154120,124.527583,45.379329
20251025154130,124.527071,45.379328
20251025154140,124.526508,45.379312
20251025154150,124.526030,45.379307
20251025154200,124.525594,45.379293
20251025154210,124.525157,45.379302
20251025154220,124.524650,45.379296
20251025154230,124.524130,45.379296
20251025154240,124.523664,45.379296
20251025154250,124.523478,45.379292
20251025154300,124.523436,45.379307
20251025154501,124.523359,45.379411
20251025154511,124.523339,45.379506
20251025154521,124.523325,45.379568
20251025154531,124.523326,45.379558
20251025154541,124.523282,45.379476
20251025154551,124.523262,45.379450
20251025154601,124.523232,45.379410
20251025154611,124.523243,45.379426
20251025154621,124.523172,45.379370
20251025154631,124.523093,45.379340
20251025154641,124.523061,45.379327
20251025154651,124.522961,45.379284
20251025154701,124.522849,45.379230
20251025154711,124.522745,45.379174
20251025154721,124.522621,45.379103
20251025154731,124.522514,45.379035
20251025154741,124.522405,45.378965
20251025154751,124.522288,45.378893
20251025154801,124.522207,45.378839
20251025154811,124.522120,45.378779
20251025154821,124.522145,45.378797
20251025154831,124.522145,45.378797
20251025154841,124.522145,45.378797
20251025154851,124.522145,45.378797
20251025154901,124.522145,45.378797
20251025154911,124.522145,45.378797
20251025154921,124.522145,45.378797
20251025154931,124.522145,45.378797
20251025154941,124.522145,45.378797
20251025154951,124.522139,45.378792
20251025155001,124.522067,45.378744
20251025155011,124.522082,45.378754
20251025155021,124.522081,45.378753
20251025155031,124.522081,45.378753
20251025155041,124.522081,45.378753
20251025155051,124.522081,45.378753
20251025155101,124.522081,45.378753
20251025155111,124.522081,45.378753
20251025155121,124.522081,45.378753
20251025155131,124.522081,45.378753
20251025155141,124.522081,45.378753
20251025155151,124.522081,45.378753
20251025155201,124.522081,45.378753
20251025155211,124.522081,45.378753
20251025155221,124.522027,45.378719
20251025155231,124.521952,45.378667
20251025155241,124.521873,45.378612
20251025155251,124.521778,45.378545
20251025155301,124.521748,45.378527
20251025155311,124.521753,45.378533
20251025155321,124.521753,45.378533
20251025155331,124.521753,45.378533
20251025155341,124.521753,45.378533
20251025155351,124.521752,45.378533
20251025155401,124.521752,45.378532
20251025155411,124.521700,45.378491
20251025155421,124.521624,45.378438
20251025155431,124.521538,45.378384
20251025155441,124.521431,45.378323
20251025155451,124.521374,45.378287
20251025155501,124.521280,45.378228
20251025155511,124.521243,45.378205
20251025155521,124.521243,45.378205
20251025155531,124.521243,45.378205
20251025155541,124.521239,45.378202
20251025155551,124.521167,45.378156
20251025155601,124.521096,45.378110
20251025155611,124.521007,45.378050
20251025155621,124.520893,45.377981
20251025155631,124.520855,45.377962
20251025155641,124.520853,45.377960
20251025155651,124.520853,45.377960
20251025155701,124.520853,45.377960
20251025155711,124.520853,45.377960
20251025155721,124.520853,45.377960
20251025155731,124.520853,45.377960
20251025155741,124.520853,45.377960
20251025155751,124.520853,45.377960
20251025155801,124.520852,45.377960
20251025155811,124.520852,45.377960
20251025155821,124.520785,45.377917
20251025155831,124.520674,45.377851
20251025155841,124.520649,45.377840
20251025155851,124.520767,45.377910
20251025155901,124.520636,45.377861
20251025155911,124.520583,45.377832
20251025155921,124.520734,45.377902
20251025155931,124.520605,45.377854
20251025155941,124.520617,45.377871
20251025155951,124.520639,45.377864
20251025160001,124.520657,45.377880
20251025160011,124.520750,45.377936
20251025160021,124.520735,45.377930
20251025160031,124.520735,45.377930
20251025160041,124.520735,45.377930
20251025160051,124.520735,45.377930
20251025160101,124.520805,45.377969
20251025160111,124.520911,45.378034
20251025160121,124.520980,45.378078
20251025160131,124.520972,45.378062
20251025160141,124.520944,45.378040
20251025160151,124.520944,45.378040
20251025162453,124.520853,45.377950
20251025162503,124.520854,45.377951
20251025162513,124.520856,45.377951
20251025162523,124.520856,45.377951
20251025162533,124.520854,45.377949
20251025162543,124.520853,45.377947
20251025162553,124.520842,45.377942
20251025162603,124.520887,45.377984
20251025162613,124.521062,45.378099
20251025162623,124.521314,45.378269
20251025162633,124.521357,45.378319
20251025162643,124.521366,45.378327
20251025162820,124.521678,45.378523
20251025162830,124.521713,45.378551
20251025162840,124.521748,45.378572
20251025162850,124.521845,45.378643
20251025162900,124.521948,45.378713
20251025162910,124.522015,45.378758
20251025162920,124.521908,45.378676
20251025162930,124.521908,45.378676
20251025163945,124.521908,45.378676
20251025163955,124.521908,45.378676
20251025164717,124.522060,45.378788
20251025164727,124.522132,45.378820
20251025164737,124.522238,45.378902
20251025164747,124.522338,45.378966
20251025164757,124.522442,45.379036
20251025164807,124.522563,45.379106
20251025164817,124.522682,45.379181
20251025164827,124.522791,45.379241
20251025164837,124.522895,45.379294
20251025164847,124.523018,45.379347
20251025164857,124.523149,45.379396
20251025164907,124.523223,45.379422
20251025164917,124.523236,45.379427
20251025164927,124.523268,45.379471
20251025164937,124.523321,45.379519
20251025164947,124.523348,45.379408
20251025164957,124.523404,45.379322
20251025165007,124.523354,45.379294
20251025165017,124.523229,45.379238
20251025165027,124.523060,45.379160
20251025165037,124.522907,45.379080
20251025165047,124.522906,45.379080
20251025165057,124.522906,45.379080
20251025165107,124.522906,45.379080
20251025165117,124.522906,45.379080
20251025165127,124.522906,45.379080
20251025165137,124.522906,45.379080
20251025165147,124.522906,45.379080
20251025165157,124.522906,45.379080
20251025165207,124.522906,45.379080
20251025165217,124.522906,45.379080
20251025165227,124.522906,45.379080
20251025165237,124.522906,45.379080
20251025165247,124.522906,45.379080
20251025165257,124.522906,45.379080
20251025165308,124.522906,45.379080
20251025165318,124.522906,45.379080
20251025165328,124.522906,45.379080
20251025165338,124.522906,45.379080
20251025165348,124.522906,45.379080
20251025165358,124.522906,45.379080
20251025165408,124.522906,45.379080
20251025165418,124.522906,45.379080
20251025165428,124.522906,45.379080
20251025165438,124.522906,45.379080
20251025165448,124.522906,45.379080
20251025165458,124.522906,45.379080
20251025165508,124.522906,45.379080
20251025165518,124.522906,45.379080
20251025165528,124.522906,45.379080
20251025165538,124.522906,45.379080
20251025165548,124.522868,45.379057
20251025165558,124.522678,45.378928
20251025165608,124.522430,45.378794
20251025165618,124.522248,45.378683
20251025165628,124.522225,45.378667
20251025165638,124.522012,45.378520
20251025165648,124.521753,45.378357
20251025165658,124.521559,45.378208
20251025165708,124.521475,45.378158
20251025165718,124.521472,45.378156
20251025165728,124.521473,45.378157
20251025165738,124.521473,45.378157
20251025165748,124.521473,45.378157
20251025165758,124.521473,45.378157
20251025165808,124.521473,45.378157
20251025165818,124.521477,45.378159
20251025165828,124.521288,45.378062
20251025165838,124.520970,45.377871
20251025165848,124.520720,45.377706
20251025165858,124.520492,45.377554
20251025165908,124.520163,45.377557
20251025165918,124.519822,45.377731
20251025165928,124.519485,45.377898
20251025165938,124.519159,45.378064
20251025165948,124.518743,45.378266
20251025165958,124.518325,45.378475
20251025170008,124.517900,45.378678
20251025170018,124.517564,45.378817
20251025170028,124.517170,45.378969
20251025170038,124.516809,45.379124
20251025170048,124.516437,45.379265
20251025170058,124.516040,45.379415
20251025170108,124.515725,45.379536
20251025170118,124.515374,45.379683
20251025170128,124.515038,45.379814
20251025170138,124.514686,45.379959
20251025170148,124.514354,45.380085
20251025170158,124.513927,45.380240
20251025170208,124.513608,45.380372
20251025170218,124.513336,45.380340
20251025170228,124.513054,45.380192
20251025170238,124.512694,45.379998
20251025170248,124.512276,45.379766
20251025170258,124.511860,45.379526
20251025170308,124.511449,45.379275
20251025170318,124.511062,45.379036
20251025170328,124.510660,45.378816
20251025170338,124.510245,45.378614
20251025170348,124.509860,45.378446
20251025170358,124.509407,45.378253
20251025170408,124.508975,45.378096
20251025170418,124.508601,45.377937
20251025170428,124.508209,45.377772
20251025170438,124.507865,45.377563
20251025170448,124.507652,45.377365
20251025170458,124.507482,45.377121
20251025170508,124.507331,45.376846
20251025170518,124.507193,45.376550
20251025170528,124.507046,45.376251
20251025170538,124.506899,45.375991
20251025170548,124.506698,45.375721
20251025170558,124.506447,45.375434
20251025170608,124.506210,45.375207
20251025170618,124.505885,45.375004
20251025170628,124.505548,45.374841
20251025170638,124.505189,45.374649
20251025170648,124.504850,45.374460
20251025170658,124.504524,45.374290
20251025170708,124.504179,45.374107
20251025170718,124.503837,45.373922
20251025170728,124.503493,45.373731
20251025170738,124.503136,45.373542
20251025170748,124.502760,45.373365
20251025170758,124.502455,45.373216
20251025170808,124.502094,45.373039
20251025170818,124.501720,45.372854
20251025170828,124.501351,45.372851
20251025170838,124.501013,45.372963
20251025170848,124.500668,45.373052
20251025170858,124.500455,45.373067
20251025170908,124.500210,45.373002
20251025170918,124.500221,45.372597
20251025170928,124.500286,45.371984
20251025170938,124.500314,45.371387
20251025170948,124.500256,45.370777
20251025170958,124.500209,45.370176
20251025171008,124.500171,45.369554
20251025171018,124.500140,45.368972
20251025171028,124.500110,45.368411
20251025171038,124.500049,45.367830
20251025171048,124.499946,45.367232
20251025171058,124.499844,45.366624
20251025171108,124.499730,45.366050
20251025171118,124.499605,45.365487
20251025171128,124.499477,45.364915
20251025171138,124.499424,45.364405
20251025171148,124.499516,45.364155
20251025171158,124.499532,45.364130
20251025171208,124.499533,45.364130
20251025171218,124.499533,45.364130
20251025171228,124.499532,45.364130
20251025171238,124.499532,45.364130
20251025171248,124.499689,45.363943
20251025171258,124.500076,45.363424
20251025171308,124.500473,45.362890
20251025171318,124.500478,45.362342
20251025171328,124.500524,45.361787
20251025171338,124.500964,45.361264
20251025171348,124.501713,45.361082
20251025171358,124.502293,45.360692
20251025185813,124.504446,45.342103
20251025185823,124.504442,45.342105
20251025185833,124.504442,45.342101
20251025185843,124.504462,45.342088
20251025185853,124.504441,45.342095
20251025185903,124.504441,45.342092
20251025185913,124.504445,45.342108
20251025185923,124.504459,45.342092
20251025185933,124.504446,45.342100
20251025185943,124.504447,45.342095
20251025185953,124.504449,45.342091
20251025190003,124.504462,45.342088
20251025190013,124.504451,45.342109
20251025190023,124.504453,45.342105
20251025190033,124.504453,45.342095
20251025190043,124.504452,45.342093
20251025190053,124.504451,45.342093
20251025190103,124.504451,45.342094
20251025190113,124.504459,45.342122
20251025190123,124.504462,45.342088
20251025190133,124.504462,45.342088
20251025190143,124.504462,45.342088
20251025190153,124.504462,45.342088
20251025190203,124.504462,45.342088
20251025190213,124.504462,45.342088
20251025190223,124.504462,45.342088
20251025190233,124.504462,45.342088
20251025190243,124.504462,45.342088
20251025190253,124.504462,45.342088
20251025190303,124.504462,45.342088
20251025190313,124.504462,45.342088
20251025190324,124.504462,45.342088
20251025190334,124.504462,45.342088
20251025190344,124.504462,45.342088
20251025190354,124.504462,45.342088
20251025190404,124.504462,45.342088
20251025190414,124.504462,45.342088
20251025190424,124.504462,45.342088
20251025190514,124.504461,45.342089
20251025190524,124.504461,45.342089
20251025190534,124.504461,45.342089
20251025190544,124.504461,45.342089
20251025190554,124.504461,45.342089
20251025190604,124.504461,45.342089
20251025190614,124.504461,45.342089
20251025190624,124.504461,45.342089
20251025190634,124.504461,45.342089
20251025190644,124.504461,45.342089
20251025190654,124.504461,45.342089
20251025190704,124.504461,45.342089
20251025190714,124.504461,45.342089
20251025190724,124.504461,45.342089
20251025190734,124.504461,45.342089
20251025190744,124.504461,45.342089
20251025190754,124.504461,45.342089
20251025191020,124.504461,45.342089
20251025191030,124.504461,45.342089
20251025191040,124.504461,45.342089
20251025191050,124.504461,45.342089
20251025191100,124.504461,45.342089
20251025191110,124.504461,45.342090
20251025191120,124.504461,45.342089
20251025191130,124.504461,45.342089
20251025191140,124.504461,45.342090
20251025191150,124.504461,45.342090
20251025191200,124.504461,45.342090
20251025191210,124.504461,45.342089
20251025191220,124.504460,45.342089
20251025191230,124.504461,45.342089
20251025191240,124.504460,45.342089
20251025191250,124.504460,45.342090
20251025191300,124.504460,45.342089
20251025191310,124.504460,45.342090
20251025191451,124.504460,45.342090
20251025191501,124.504461,45.342089
20251025191511,124.504461,45.342089
20251025191521,124.504460,45.342090
20251025191531,124.504461,45.342089
20251025191541,124.504461,45.342089
20251025191551,124.504460,45.342089
20251025191601,124.504460,45.342089
20251025191611,124.504461,45.342089
20251025191621,124.504461,45.342089
20251025191631,124.504461,45.342089
20251025191641,124.504461,45.342090
20251025191651,124.504461,45.342089
20251025191701,124.504461,45.342089
20251025191711,124.504461,45.342090
20251025191721,124.504461,45.342089
20251025191731,124.504461,45.342089
20251025191741,124.504461,45.342089
20251025191751,124.504461,45.342090
20251025191801,124.504461,45.342089
20251025191811,124.504460,45.342089
20251025191821,124.504461,45.342089
20251025191831,124.504461,45.342089
20251025191841,124.504461,45.342089
20251025191851,124.504461,45.342089
20251025191901,124.504461,45.342089
20251025191911,124.504461,45.342089
20251025191921,124.504461,45.342089
20251025191931,124.504461,45.342089
20251025191941,124.504461,45.342089
20251025191951,124.504461,45.342089
20251025192001,124.504461,45.342089
20251025192011,124.504461,45.342089
20251025192021,124.504461,45.342089
20251025192031,124.504461,45.342089
20251025192041,124.504461,45.342089
20251025192051,124.504461,45.342089
20251025192101,124.504461,45.342089
20251025192111,124.504461,45.342089
20251025192121,124.504461,45.342089
20251025192131,124.504461,45.342089
20251025192141,124.504461,45.342089
20251025192151,124.504461,45.342089
20251025192201,124.504461,45.342089
20251025192211,124.504461,45.342089
20251025192433,124.504461,45.342089
20251025192907,124.504459,45.342090
20251025192917,124.504456,45.342094
20251025193253,124.504529,45.342024
20251025193303,124.504527,45.342026
20251025193313,124.504535,45.342015
20251025193323,124.504546,45.341999
20251025193333,124.504527,45.342023
20251025193343,124.504484,45.342061
20251025193449,124.504484,45.342062
20251025193459,124.504484,45.342062
20251025193509,124.504484,45.342062
20251025193519,124.504484,45.342062
20251025193529,124.504484,45.342061
20251025193539,124.504484,45.342062
20251025193549,124.504482,45.342063
20251025193559,124.504492,45.342055
20251025193609,124.504524,45.342025</textarea>
                        <div class="button-group">
                            <button id="drawTrackButton" class="btn btn-primary">üéØ ËΩ®Ëøπ</button>
                            <button id="showTrackPointsButton" class="btn btn-warning">üìç ÊâìÁÇπ</button>
                            <button id="clearTrackButton" class="btn btn-secondary">üßπ Ê∏ÖÁ©∫</button>
                        </div>
                        <!-- ËΩ®ËøπÈ¢úËâ≤ÈÄâÊã©Âô® -->
                        <div class="color-picker-container" style="margin-top:8px;">
                            <div style="display:flex;align-items:center;gap:8px;">
                                <div style="display:flex;align-items:center;gap:4px;">
                                    <label style="font-size:12px;">ËΩ®ËøπÁ∫øÈ¢úËâ≤:</label>
                                    <div id="trackLineColorPicker" class="color-picker"
                                         style="width:24px;height:24px;border:1px solid #ccc;cursor:pointer;background-color:#FF0000;"></div>
                                    <input type="color" id="trackLineColorInput" value="#FF0000" style="display:none;">
                                </div>
                                <div style="display:flex;align-items:center;gap:4px;">
                                    <label style="font-size:12px;">ËΩ®ËøπÁÇπÈ¢úËâ≤:</label>
                                    <div id="trackPointColorPicker" class="color-picker"
                                         style="width:24px;height:24px;border:1px solid #ccc;cursor:pointer;background-color:#68EAF3;"></div>
                                    <input type="color" id="trackPointColorInput" value="#68EAF3" style="display:none;">
                                </div>
                            </div>
                        </div>
                        <!-- ËΩ®ËøπÂõûÊîæ -->
                        <div class="split-section" style="margin-top:8px;">
                            <div class="playback-actions" style="display:flex;gap:8px;margin-bottom:8px;">
                                <button id="playbackToggleBtn" class="btn btn-primary">‚ñ∂Ô∏è ËΩ®ËøπÂõûÊîæ</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="map-container">
            <div id="map"></div>

            <!-- Â∑•ÂÖ∑Ê†èÂàáÊç¢ÊåâÈíÆ -->
            <button class="panel-toggle-fixed" id="panelToggleFixed" title="Â±ïÂºÄ/Êî∂Áº©Â∑•ÂÖ∑Ê†è">‚óÄ‚ñ∂</button>

            <div class="status-info" id="statusInfo" style="display: none;">
                Â∞±Áª™
            </div>

            <div class="coordinate-info" id="coordinateInfo">
                ÁªèÂ∫¶: -, Á∫¨Â∫¶: -
            </div>

            <!-- Âè≥ÈîÆËèúÂçï -->
            <div class="context-menu" id="contextMenu">
                <div class="context-menu-item" id="getAddressMenuItem">üìç Ëé∑ÂèñÂú∞ÂùÄ</div>
            </div>

            <!-- ËΩ®ËøπÂõûÊîæÊí≠ÊîæÂô® -->
            <div class="playback-player" id="playbackPlayer" style="display: none;">
                <div class="player-header">
                    <span class="player-title">ËΩ®ËøπÂõûÊîæ</span>
                    <button class="player-close" id="playerCloseBtn" title="ÂÖ≥Èó≠">‚úï</button>
                </div>
                <div class="player-controls">
                    <button class="player-btn" id="playerPlayBtn" title="Êí≠Êîæ">‚ñ∂Ô∏è</button>
                    <button class="player-btn" id="playerStopBtn" title="ÂÅúÊ≠¢">‚èπÔ∏è</button>

                    <div class="player-speed">
                        <label>ÈÄüÂ∫¶:</label>
                        <input type="range" id="playerSpeedSlider" min="1" max="2048" step="1" value="1">
                        <span id="playerSpeedValue">1x</span>
                    </div>

                    <div class="player-progress">
                        <input type="range" id="playerProgressSlider" min="0" max="100" value="0">
                        <div id="playerTimeLabel" style="display: flex; flex-direction: column; align-items: center; min-width: 80px;">
                            <div id="currentTime" style="font-size: 12px; line-height: 1.2;">00:00:00</div>
                            <div id="totalTime" style="font-size: 10px; line-height: 1.2; color: #666;">00:00:00</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    // ÂÖ®Â±ÄÂèòÈáè
    let map;
    let currentMapType = 'street';
    let currentBaseLayer;
    let currentSatelliteLayer;

    // ÂõæÂ±ÇÁªÑ
    let outlineLayerGroup;
    let trackLayerGroup;
    let measureLayerGroup;
    let labelLayerGroup;

    // Ê†áÁ≠æÁõ∏ÂÖ≥
    let labelsEnabled = false;

    // ÂΩìÂâçÂá†‰ΩïÂõæÂΩ¢
    let currentOutline = null;
    let currentTrack = null;

    // ËΩ®ËøπÂõûÊîæÁõ∏ÂÖ≥
    let playbackState = {
        isPlaying: false,
        points: [],
        currentIndex: 0,
        speed: 1,
        marker: null,
        polyline: null,
        timer: null
    };

    // Êñ∞Êí≠ÊîæÂô®ÂÖÉÁ¥†
    let playbackPlayer;
    let playerCloseBtn;
    let playerPlayBtn;
    let playerStopBtn;
    let playerSpeedSlider;
    let playerSpeedValue;
    let playerProgressSlider;
    let playerTimeLabel;

    // ÊµãÈáèÁõ∏ÂÖ≥
    let measureState = {
        isActive: false,
        mode: '',
        points: [],
        tempLine: null,
        lines: [],
        markers: [],
        labels: [],
        polygon: null,
        areaLabel: null
    };

    // È¢úËâ≤ÈÖçÁΩÆ
    let currentOutlineColor = "#FFD700";
    let currentFillColor = "#FFFF00";
    let currentFillOpacity = 0.8;
    let currentTrackLineColor = "#FF0000";
    let currentTrackPointColor = "#68EAF3";

    // Áä∂ÊÄÅ‰ø°ÊÅØÂÆöÊó∂Âô®
    let statusMessageTimer = null;

    // Âè≥ÈîÆËèúÂçïÁõ∏ÂÖ≥
    let contextMenu = null;
    let getAddressMenuItem = null;
    let lastRightClickLatLng = null;

    // Â§öËæπÂΩ¢È¢úËâ≤ÊñπÊ°à
    const polygonColors = [
        { outline: "#FFD700", fill: "#FFFF00", opacity: 0.6 },
        { outline: "#FF0000", fill: "#FF6666", opacity: 0.6 },
        { outline: "#00FF00", fill: "#66FF66", opacity: 0.6 },
        { outline: "#0000FF", fill: "#6666FF", opacity: 0.6 },
        { outline: "#FF00FF", fill: "#FF66FF", opacity: 0.6 },
        { outline: "#00FFFF", fill: "#66FFFF", opacity: 0.6 },
        { outline: "#FFA500", fill: "#FFCC66", opacity: 0.6 },
        { outline: "#800080", fill: "#CC66CC", opacity: 0.6 },
        { outline: "#008000", fill: "#66CC66", opacity: 0.6 },
        { outline: "#800000", fill: "#CC6666", opacity: 0.6 }
    ];

    // ÊòæÁ§∫Êí≠ÊîæÂô®
    function showPlaybackPlayer() {
        if (playbackPlayer) {
            playbackPlayer.style.display = 'block';
            updatePlayerControls();
            
            // ÂêåÊ≠•ÊóßÁâàÊéßÂà∂Èù¢ÊùøÁä∂ÊÄÅÔºå‰øùÊåÅÂΩìÂâçÊí≠Êîæ‰ΩçÁΩÆ
            if (playerProgressSlider && playbackState.points.length > 0) {
                playerProgressSlider.disabled = false;
                playerProgressSlider.max = 100;
                // ‰∏çÈáçÁΩÆËøõÂ∫¶Êù°ÂÄºÔºå‰øùÊåÅÂΩìÂâçÊí≠Êîæ‰ΩçÁΩÆ
                if (playbackState.points.length > 0 && playbackState.currentIndex >= 0) {
                    const percentage = Math.round((playbackState.currentIndex / (playbackState.points.length - 1)) * 100);
                    playerProgressSlider.value = percentage;
                }
            }
            if (playerTimeLabel && playbackState.points.length > 0) {
                // Ê†πÊçÆÂΩìÂâçÊí≠Êîæ‰ΩçÁΩÆÊõ¥Êñ∞Êó∂Èó¥ÊòæÁ§∫
                if (playbackState.currentIndex >= 0 && playbackState.currentIndex < playbackState.points.length) {
                    const currentPoint = playbackState.points[playbackState.currentIndex];
                    const lastPoint = playbackState.points[playbackState.points.length - 1];
                    
                    if (currentPoint && lastPoint) {
                        function formatTime(timestamp) {
                            const date = parseTimestamp(timestamp);
                            if (!date) return '00:00:00';
                            
                            const hours = date.getHours().toString().padStart(2, '0');
                            const minutes = date.getMinutes().toString().padStart(2, '0');
                            const seconds = date.getSeconds().toString().padStart(2, '0');
                            return hours + ':' + minutes + ':' + seconds;
                        }
                        
                        const currentTime = formatTime(currentPoint.timestamp);
                        const totalTime = formatTime(lastPoint.timestamp);
                        
                        // ÂàÜÂà´Êõ¥Êñ∞‰∏§Ë°åÊó∂Èó¥ÊòæÁ§∫
                        const currentTimeElement = document.getElementById('currentTime');
                        const totalTimeElement = document.getElementById('totalTime');
                        
                        if (currentTimeElement) currentTimeElement.textContent = currentTime;
                        if (totalTimeElement) totalTimeElement.textContent = totalTime;
                    }
                }
            }
        }
    }

    // ÈöêËóèÊí≠ÊîæÂô®
    function hidePlaybackPlayer() {
        if (playbackPlayer) {
            playbackPlayer.style.display = 'none';
            // Âè™ÊöÇÂÅúÊí≠ÊîæÔºå‰∏çÈáçÁΩÆËøõÂ∫¶
            if (playbackState.isPlaying) {
                pausePlayback();
            }
            
            // ÈáçÁΩÆÊí≠ÊîæÂô®ÊéßÂà∂Áä∂ÊÄÅ
            updatePlayerControls();
        }
    }

    // Â∫îÁî®Êó∂Èó¥ËåÉÂõ¥ËøáÊª§
    function applyTimeRangeFilter() {
        const timeRangeText = document.getElementById('timeRangeInput').value.trim();
        
        if (!timeRangeText) {
            // Ê≤°ÊúâÊó∂Èó¥ËåÉÂõ¥Ôºå‰ΩøÁî®ÊâÄÊúâÁÇπ
            playbackState.filteredPoints = playbackState.points.slice();
            return;
        }
        
        // Ëß£ÊûêÊó∂Èó¥ËåÉÂõ¥
        const timeRangeMatch = timeRangeText.match(/^([\d-]+T[\d:]+)\s*-\s*([\d-]+T[\d:]+)$/);
        if (!timeRangeMatch) {
            // Ê†ºÂºè‰∏çÊ≠£Á°ÆÔºå‰ΩøÁî®ÊâÄÊúâÁÇπ
            playbackState.filteredPoints = playbackState.points.slice();
            return;
        }
        
        const startTimeStr = timeRangeMatch[1];
        const endTimeStr = timeRangeMatch[2];
        
        const startTime = new Date(startTimeStr);
        const endTime = new Date(endTimeStr);
        
        if (isNaN(startTime.getTime()) || isNaN(endTime.getTime())) {
            // Êó∂Èó¥Ëß£ÊûêÂ§±Ë¥•Ôºå‰ΩøÁî®ÊâÄÊúâÁÇπ
            playbackState.filteredPoints = playbackState.points.slice();
            return;
        }
        
        // ËøáÊª§ËΩ®ËøπÁÇπ
        playbackState.filteredPoints = playbackState.points.filter(point => {
            const pointTime = parseTimestamp(point.timestamp);
            return pointTime && pointTime >= startTime && pointTime <= endTime;
        });
        
        // Â¶ÇÊûúËøáÊª§ÂêéÁÇπÊï∞‰∏çË∂≥Ôºå‰ΩøÁî®ÊâÄÊúâÁÇπ
        if (playbackState.filteredPoints.length < 2) {
            playbackState.filteredPoints = playbackState.points.slice();
        }
    }

    // ÂàáÊç¢Êí≠ÊîæÁä∂ÊÄÅ
    function togglePlayback() {
        if (playbackState.isPlaying) {
            pausePlayback();
        } else {
            // ÂºÄÂßãÊí≠ÊîæÂâçÂ∫îÁî®Êó∂Èó¥ËåÉÂõ¥ËøáÊª§
            applyTimeRangeFilter();
            startPlayback();
        }
        
        // Êõ¥Êñ∞Êí≠ÊîæÂô®ÊéßÂà∂Áä∂ÊÄÅ
        updatePlayerControls();
    }

    // Êõ¥Êñ∞Êí≠ÊîæÂô®ÊéßÂà∂Áä∂ÊÄÅ
    function updatePlayerControls() {
        const hasTrack = playbackState.points && playbackState.points.length > 0;
        
        if (playerPlayBtn) playerPlayBtn.disabled = !hasTrack;
        if (playerStopBtn) playerStopBtn.disabled = !hasTrack;
        if (playerSpeedSlider) playerSpeedSlider.disabled = !hasTrack;
        if (playerProgressSlider) playerProgressSlider.disabled = !hasTrack;
        
        if (playbackState.isPlaying) {
            if (playerPlayBtn) playerPlayBtn.innerHTML = '‚è∏Ô∏è';
            if (playerPlayBtn) playerPlayBtn.title = 'ÊöÇÂÅú';
        } else {
            if (playerPlayBtn) playerPlayBtn.innerHTML = '‚ñ∂Ô∏è';
            if (playerPlayBtn) playerPlayBtn.title = 'Êí≠Êîæ';
        }
    }

    // ÂàùÂßãÂåñÂú∞Âõæ
    function initMap() {
        console.log('initMap called');

        // ÂàõÂª∫Âú∞Âõæ
        map = L.map('map', {
            center: [39.9042, 116.4074], // Âåó‰∫¨
            zoom: 11,
            zoomControl: false,
            attributionControl: false
        });

        console.log('Map created:', map);

        // ‰∏çÊ∑ªÂä†Áº©ÊîæÊéß‰ª∂Ôºå‰ΩøÁî®ÊªöËΩÆÁº©ÊîæÂú∞Âõæ

        // ÂàùÂßãÂåñÂõæÂ±ÇÁªÑ
        outlineLayerGroup = L.layerGroup().addTo(map);
        trackLayerGroup = L.layerGroup().addTo(map);
        measureLayerGroup = L.layerGroup().addTo(map);
        // ÂÖà‰∏çÊ∑ªÂä†Ê†áÁ≠æÂõæÂ±ÇÔºåÁ®çÂêéÁ°Æ‰øùÂÆÉÂú®ÊúÄ‰∏äÂ±Ç
        labelLayerGroup = L.layerGroup();
        map.addLayer(labelLayerGroup);

        console.log('Layer groups created');

        // ÂàùÂßãÂåñÂú∞ÂõæÁ±ªÂûã
        currentMapType = 'satellite';

        // Ê∑ªÂä†Âü∫Á°ÄÂõæÂ±Ç
        addBaseLayers();

        // ÁªëÂÆö‰∫ã‰ª∂
        bindMapEvents();

        // Êõ¥Êñ∞Áä∂ÊÄÅ
        updateStatus('Âú∞ÂõæÂàùÂßãÂåñÂÆåÊàê');

        console.log('initMap completed');

        // Á°Æ‰øùÊ†áÁ≠æÂõæÂ±ÇÂú®ÊúÄ‰∏äÂ±Ç
        map.removeLayer(labelLayerGroup);
        map.addLayer(labelLayerGroup);

        // ÂàùÂßãÂåñÊñ∞Êí≠ÊîæÂô®ÂÖÉÁ¥†
        playbackPlayer = document.getElementById('playbackPlayer');
        playerCloseBtn = document.getElementById('playerCloseBtn');
        playerPlayBtn = document.getElementById('playerPlayBtn');
        playerStopBtn = document.getElementById('playerStopBtn');
        playerSpeedSlider = document.getElementById('playerSpeedSlider');
        playerSpeedValue = document.getElementById('playerSpeedValue');
        playerProgressSlider = document.getElementById('playerProgressSlider');
        playerTimeLabel = document.getElementById('playerTimeLabel');

        // ÂàùÂßãÂåñÈÄüÂ∫¶ÊòæÁ§∫
        if (playerSpeedValue) {
            playerSpeedValue.textContent = '1x';
        }

        // ÂàùÂßãÂåñÊí≠ÊîæÂô®ÊåâÈíÆÁä∂ÊÄÅÔºà‰ΩøÁî®updatePlayerControlsÂáΩÊï∞Ôºâ
        updatePlayerControls();
    }

    // Ê∑ªÂä†Âü∫Á°ÄÂõæÂ±Ç
    function addBaseLayers() {
        console.log('addBaseLayers called');

        // Â§©Âú∞ÂõæË°óÈÅìÂõæ
        const tk = "9ed3674d01dd7c129ab38e3c38bf651a";

        // Â§©Âú∞ÂõæË°óÈÅìÂõæ - ‰ΩøÁî®XYZÁì¶ÁâáÊúçÂä°
        const vecLayer = L.tileLayer(`https://t{s}.tianditu.gov.cn/vec_w/wmts?SERVICE=WMTS&REQUEST=GetTile&VERSION=1.0.0&LAYER=vec&STYLE=default&TILEMATRIXSET=w&FORMAT=tiles&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}&tk=${tk}`, {
            attribution: '¬© Â§©Âú∞Âõæ',
            maxZoom: 18,
            tileSize: 256,
            subdomains: ['0', '1', '2', '3', '4', '5', '6', '7']
        });

        // Â§©Âú∞ÂõæË°óÈÅìÂõæÊ†áÊ≥®
        const cvaLayer = L.tileLayer(`https://t{s}.tianditu.gov.cn/cva_w/wmts?SERVICE=WMTS&REQUEST=GetTile&VERSION=1.0.0&LAYER=cva&STYLE=default&TILEMATRIXSET=w&FORMAT=tiles&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}&tk=${tk}`, {
            attribution: '¬© Â§©Âú∞Âõæ',
            maxZoom: 18,
            tileSize: 256,
            subdomains: ['0', '1', '2', '3', '4', '5', '6', '7']
        });

        // Â§©Âú∞ÂõæÂç´ÊòüÂõæ - ‰ΩøÁî®XYZÁì¶ÁâáÊúçÂä°
        const imgLayer = L.tileLayer(`https://t{s}.tianditu.gov.cn/img_w/wmts?SERVICE=WMTS&REQUEST=GetTile&VERSION=1.0.0&LAYER=img&STYLE=default&TILEMATRIXSET=w&FORMAT=tiles&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}&tk=${tk}`, {
            attribution: '¬© Â§©Âú∞Âõæ',
            maxZoom: 18,
            tileSize: 256,
            subdomains: ['0', '1', '2', '3', '4', '5', '6', '7']
        });

        // Â§©Âú∞ÂõæÂç´ÊòüÂõæÊ†áÊ≥®
        const ciaLayer = L.tileLayer(`https://t{s}.tianditu.gov.cn/cia_w/wmts?SERVICE=WMTS&REQUEST=GetTile&VERSION=1.0.0&LAYER=cia&STYLE=default&TILEMATRIXSET=w&FORMAT=tiles&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}&tk=${tk}`, {
            attribution: '¬© Â§©Âú∞Âõæ',
            maxZoom: 18,
            tileSize: 256,
            subdomains: ['0', '1', '2', '3', '4', '5', '6', '7']
        });

        // Ê∑ªÂä†ÂõæÂ±ÇÂä†ËΩΩ‰∫ã‰ª∂ÁõëÂê¨
        vecLayer.on('load', function() {
            console.log('Â§©Âú∞ÂõæË°óÈÅìÂõæÂ±ÇÂä†ËΩΩÂÆåÊàê');
            updateStatus('Â§©Âú∞ÂõæË°óÈÅìÂõæÂ±ÇÂä†ËΩΩÂÆåÊàê');
        });

        imgLayer.on('load', function() {
            console.log('Â§©Âú∞ÂõæÂç´ÊòüÂõæÂ±ÇÂä†ËΩΩÂÆåÊàê');
            updateStatus('Â§©Âú∞ÂõæÂç´ÊòüÂõæÂ±ÇÂä†ËΩΩÂÆåÊàê');
        });

        vecLayer.on('error', function(e) {
            console.error('Â§©Âú∞ÂõæË°óÈÅìÂõæÂ±ÇÂä†ËΩΩÈîôËØØ:', e);
            updateStatus('Â§©Âú∞ÂõæË°óÈÅìÂõæÂ±ÇÂä†ËΩΩÂ§±Ë¥•');
        });

        imgLayer.on('error', function(e) {
            console.error('Â§©Âú∞ÂõæÂç´ÊòüÂõæÂ±ÇÂä†ËΩΩÈîôËØØ:', e);
            updateStatus('Â§©Âú∞ÂõæÂç´ÊòüÂõæÂ±ÇÂä†ËΩΩÂ§±Ë¥•');
        });

        // ÂàõÂª∫ÂõæÂ±ÇÁªÑ
        currentBaseLayer = L.layerGroup([vecLayer, cvaLayer]);
        currentSatelliteLayer = L.layerGroup([imgLayer, ciaLayer]);

        console.log('currentBaseLayer created:', currentBaseLayer);
        console.log('currentSatelliteLayer created:', currentSatelliteLayer);

        // ÈªòËÆ§ÊòæÁ§∫Âç´ÊòüÂõæ
        currentSatelliteLayer.addTo(map);

        console.log('Satellite layer added to map');
        console.log('currentMapType initialized to: satellite');
    }

    // ÁªëÂÆöÂú∞Âõæ‰∫ã‰ª∂
    function bindMapEvents() {
        // Èº†Ê†áÁßªÂä®‰∫ã‰ª∂ - Êõ¥Êñ∞ÂùêÊ†áÊòæÁ§∫
        map.on('mousemove', function(e) {
            const lat = e.latlng.lat.toFixed(6);
            const lng = e.latlng.lng.toFixed(6);
            const coordinateInfo = document.getElementById('coordinateInfo');
            if (coordinateInfo) {
                coordinateInfo.textContent = `ÁªèÂ∫¶: ${lng}, Á∫¨Â∫¶: ${lat}`;
            }
        });

        // Âè≥ÈîÆËèúÂçï‰∫ã‰ª∂
        map.on('contextmenu', function(e) {
            // Â¶ÇÊûúÂú®ÊµãÈáèÊ®°Âºè‰∏ãÔºå‰∏çÊòæÁ§∫Âè≥ÈîÆËèúÂçïÔºàËÆ©ÊµãÈáèÊ®°ÂºèÁöÑÂè≥ÈîÆÂ§ÑÁêÜÊé•ÁÆ°Ôºâ
            if (measureState.isActive) {
                return;
            }

            // ‰øùÂ≠òÂè≥ÈîÆÁÇπÂáªÁöÑÂùêÊ†á
            lastRightClickLatLng = e.latlng;

            // ÊòæÁ§∫Âè≥ÈîÆËèúÂçï
            showContextMenu(e.originalEvent);

            // ÈòªÊ≠¢ÈªòËÆ§Âè≥ÈîÆËèúÂçï
            if (e.originalEvent) {
                e.originalEvent.preventDefault();
                e.originalEvent.stopPropagation();
            }

            return false;
        });

        // ÁÇπÂáªÂÖ∂‰ªñÂú∞ÊñπÈöêËóèÂè≥ÈîÆËèúÂçï
        map.on('click', function() {
            hideContextMenu();
        });

        // Âú∞ÂõæÊéß‰ª∂‰∫ã‰ª∂
        const zoomInBtn = document.getElementById('zoomInBtn');
        const zoomOutBtn = document.getElementById('zoomOutBtn');
        const resetViewBtn = document.getElementById('resetViewBtn');

        if (zoomInBtn) {
            zoomInBtn.addEventListener('click', function() {
                map.zoomIn();
            });
        }

        if (zoomOutBtn) {
            zoomOutBtn.addEventListener('click', function() {
                map.zoomOut();
            });
        }

        if (resetViewBtn) {
            resetViewBtn.addEventListener('click', function() {
                map.setView([39.9042, 116.4074], 11);
            });
        }
    }

    // Áä∂ÊÄÅÊõ¥Êñ∞
    function updateStatus(message) {
        const statusInfo = document.getElementById('statusInfo');
        if (statusInfo) {
            // Ê∏ÖÈô§‰πãÂâçÁöÑÂÆöÊó∂Âô®
            if (statusMessageTimer) {
                clearTimeout(statusMessageTimer);
                statusMessageTimer = null;
            }
            
            statusInfo.textContent = message;
            statusInfo.style.display = 'block';
            
            // ËÆæÁΩÆÊñ∞ÁöÑÂÆöÊó∂Âô®
            statusMessageTimer = setTimeout(() => {
                statusInfo.style.display = 'none';
                statusMessageTimer = null;
            }, 1000);
        }
    }

    // Âè≥ÈîÆËèúÂçïÂäüËÉΩÂáΩÊï∞
    function showContextMenu(event) {
        if (!contextMenu) {
            contextMenu = document.getElementById('contextMenu');
            getAddressMenuItem = document.getElementById('getAddressMenuItem');
            
            // ÁªëÂÆöËèúÂçïÈ°πÁÇπÂáª‰∫ã‰ª∂
            if (getAddressMenuItem) {
                getAddressMenuItem.addEventListener('click', handleGetAddress);
            }
        }

        if (contextMenu && event) {
            // ËÆæÁΩÆËèúÂçï‰ΩçÁΩÆ
            contextMenu.style.left = event.pageX + 'px';
            contextMenu.style.top = event.pageY + 'px';
            contextMenu.style.display = 'block';
        }
    }

    function hideContextMenu() {
        if (contextMenu) {
            contextMenu.style.display = 'none';
        }
    }

    // Â§ÑÁêÜËé∑ÂèñÂú∞ÂùÄÂäüËÉΩ
    function handleGetAddress() {
        if (!lastRightClickLatLng) {
            updateStatus('Ê≤°ÊúâÊúâÊïàÁöÑÂùêÊ†áÁÇπ');
            return;
        }

        const lat = lastRightClickLatLng.lat;
        const lng = lastRightClickLatLng.lng;

        // Ë∞ÉÁî®Â§©Âú∞ÂõæÈÄÜÂú∞ÁêÜÁºñÁ†ÅAPI
        getAddressFromTianDiTu(lat, lng);
        
        // ÈöêËóèÂè≥ÈîÆËèúÂçï
        hideContextMenu();
    }

    // Â§©Âú∞ÂõæÈÄÜÂú∞ÁêÜÁºñÁ†Å
    function getAddressFromTianDiTu(lat, lng) {
        // ‰ΩøÁî®Â§©Âú∞ÂõæÈÄÜÂú∞ÁêÜÁºñÁ†ÅAPIÔºå‰ΩøÁî®ÂêéÂè∞tk
        const tk = "9ed3674d01dd7c129ab38e3c38bf651a";
        const postStr = `{'lon':${lng},'lat':${lat},'ver':1}`;
        const url = `https://api.tianditu.gov.cn/geocoder?postStr=${postStr}&type=geocode&tk=${tk}`;

        console.log('ËØ∑Ê±ÇURL:', url);
        console.log('ÂùêÊ†á:', lat, lng);
        console.log('postStr:', postStr);
        updateStatus('Ê≠£Âú®Ëé∑ÂèñÂú∞ÂùÄ‰ø°ÊÅØ...');

        // Âà§Êñ≠ÊòØÂê¶Âú®Êú¨Âú∞Êñá‰ª∂ÁéØÂ¢É‰∏≠ËøêË°å
        const isLocalFile = window.location.protocol === 'file:';
        
        if (isLocalFile) {
            // Êú¨Âú∞Êñá‰ª∂ÁéØÂ¢ÉÔºö‰ΩøÁî®JSONPÊñπÂºè
            console.log('Ê£ÄÊµãÂà∞Êú¨Âú∞Êñá‰ª∂ËÆøÈóÆÔºå‰ΩøÁî®JSONPÊñπÂºè');
            tryJSONPApproach(lat, lng, tk);
        } else {
            // WebÂÆπÂô®ÁéØÂ¢ÉÔºöÁõ¥Êé•ÂèëÈÄÅGETËØ∑Ê±Ç
            console.log('WebÂÆπÂô®ÁéØÂ¢ÉÔºåÁõ¥Êé•ÂèëÈÄÅGETËØ∑Ê±Ç');
            fetch(url)
            .then(response => {
                console.log('ÂìçÂ∫îÁä∂ÊÄÅ:', response.status, response.statusText);
                if (!response.ok) {
                    throw new Error(`HTTP ${response.status}: ${response.statusText}`);
                }
                return response.json();
            })
            .then(data => {
                console.log('ÂìçÂ∫îÊï∞ÊçÆ:', data);
                handleTiandituResponse(lat, lng, data);
            })
            .catch(error => {
                console.error('ÈÄÜÂú∞ÁêÜÁºñÁ†ÅËØ∑Ê±ÇÂ§±Ë¥•:', error);
                // Â§±Ë¥•ÂêéÁõ¥Êé•‰ΩøÁî®Â§áÁî®ÊñπÊ°àÊòæÁ§∫ÂùêÊ†á
                useFallbackAddress(lat, lng);
            });
        }
    }

    // ‰∏ìÈó®‰∏∫Êú¨Âú∞Êñá‰ª∂ÁéØÂ¢ÉËÆæËÆ°ÁöÑÊñπÊ°à
    function tryJSONPApproach(lat, lng, tk) {
        // Êú¨Âú∞Êñá‰ª∂ÁéØÂ¢É‰ΩøÁî®ÁôæÂ∫¶Âú∞ÂõæAPI - JSONPÊñπÂºèËé∑ÂèñÂú∞ÂùÄ‰ø°ÊÅØ
        const callbackName = 'jsonp_callback_' + Math.round(100000 * Math.random());
        
        // ÁôæÂ∫¶Âú∞ÂõæAPIÈÖçÁΩÆ - ‰ΩøÁî®È°∂ÈÉ®ÂÆö‰πâÁöÑÂ∏∏Èáè
        const baiduAk = BAIDU_MAP_AK;
        const url = `https://api.map.baidu.com/reverse_geocoding/v3/?ak=${baiduAk}&extensions_poi=1&entire_poi=1&sort_strategy=distance&output=json&coordtype=wgs84ll&location=${lat},${lng}&callback=${callbackName}`;
        
        console.log('ÁôæÂ∫¶Âú∞ÂõæJSONPËØ∑Ê±ÇURL:', url);
        
        // ÂàõÂª∫ÂÖ®Â±ÄÂõûË∞ÉÂáΩÊï∞
        window[callbackName] = function(data) {
            console.log('ÁôæÂ∫¶Âú∞ÂõæJSONPÂìçÂ∫îÊï∞ÊçÆ:', data);
            cleanup();
            
            if (data && data.status === 0 && data.result) {
                // Â§ÑÁêÜÁôæÂ∫¶Âú∞ÂõæÂìçÂ∫îÊï∞ÊçÆÔºåËΩ¨Êç¢‰∏∫Â§©Âú∞ÂõæÊ†ºÂºè
                const addressData = {
                    result: {
                        formatted_address: data.result.formatted_address || data.result.address
                    }
                };
                
                // Â¶ÇÊûúÊúâPOI‰ø°ÊÅØÔºåÊ∑ªÂä†Âà∞Âú∞ÂùÄ‰∏≠
                if (data.result.pois && data.result.pois.length > 0) {
                    const nearestPoi = data.result.pois[0];
                    addressData.result.formatted_address += ` (${nearestPoi.name})`;
                }
                
                handleTiandituResponse(lat, lng, addressData);
            } else {
                console.log('ÁôæÂ∫¶Âú∞ÂõæJSONPËøîÂõûÊï∞ÊçÆÊ†ºÂºè‰∏çÊ≠£Á°ÆÊàñÁä∂ÊÄÅÈîôËØØÔºå‰ΩøÁî®Â§áÁî®ÊñπÊ°à');
                useFallbackAddress(lat, lng);
            }
        };
        
        // ÂàõÂª∫scriptÊ†áÁ≠æ
        const script = document.createElement('script');
        script.src = url;
        
        let timeoutId;
        
        function cleanup() {
            if (timeoutId) clearTimeout(timeoutId);
            if (window[callbackName]) delete window[callbackName];
            if (script.parentNode) document.body.removeChild(script);
        }
        
        script.onerror = function() {
            cleanup();
            console.log('ÁôæÂ∫¶Âú∞ÂõæJSONPËØ∑Ê±ÇÂ§±Ë¥•Ôºå‰ΩøÁî®Â§áÁî®ÊñπÊ°à');
            useFallbackAddress(lat, lng);
        };
        
        // ËÆæÁΩÆË∂ÖÊó∂
        timeoutId = setTimeout(() => {
            cleanup();
            console.log('ÁôæÂ∫¶Âú∞ÂõæJSONPËØ∑Ê±ÇË∂ÖÊó∂Ôºå‰ΩøÁî®Â§áÁî®ÊñπÊ°à');
            useFallbackAddress(lat, lng);
        }, 8000); // 8ÁßíË∂ÖÊó∂
        
        document.body.appendChild(script);
    }

    // Â§ÑÁêÜÂ§©Âú∞ÂõæAPIÂìçÂ∫îÊï∞ÊçÆ
    function handleTiandituResponse(lat, lng, data) {
        if (data && data.result && data.result.formatted_address) {
            const address = data.result.formatted_address;
            showAddressLabel(lat, lng, address);
            updateStatus('Âú∞ÂùÄËé∑ÂèñÊàêÂäü');
        } else if (data && data.msg) {
            updateStatus(`Âú∞ÂùÄËé∑ÂèñÂ§±Ë¥•Ôºö${data.msg}`);
        } else {
            updateStatus('Âú∞ÂùÄËé∑ÂèñÂ§±Ë¥•ÔºöÊú™ÊâæÂà∞Âú∞ÂùÄ‰ø°ÊÅØ');
        }
    }

    // ÊúÄÁªàÂ§áÁî®ÊñπÊ°àÔºöÊòæÁ§∫ÂùêÊ†á‰ø°ÊÅØ
    function useFallbackAddress(lat, lng) {
        const fallbackAddress = `ÂùêÊ†á‰ΩçÁΩÆÔºö${lng.toFixed(6)}, ${lat.toFixed(6)}`;
        showAddressLabel(lat, lng, fallbackAddress);
        updateStatus('Âú∞ÂùÄÊúçÂä°ÊöÇ‰∏çÂèØÁî®ÔºåÊòæÁ§∫ÂùêÊ†á‰ø°ÊÅØ');
    }

    // ÊòæÁ§∫Âú∞ÂùÄÊ†áÁ≠æ
    function showAddressLabel(lat, lng, address) {
        // ÂàõÂª∫Âú∞ÂùÄÊ†áÁ≠æ
        const label = L.marker([lat, lng], {
            icon: L.divIcon({
                className: 'address-label',
                html: `<div style="background: white; border: 2px solid #007bff; border-radius: 6px; padding: 8px 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.2); font-size: 12px; max-width: 300px; word-wrap: break-word;">
                        <div style="font-weight: bold; color: #007bff; margin-bottom: 4px;">üìç Âú∞ÂùÄ‰ø°ÊÅØ</div>
                        <div style="color: #333;">${address}</div>
                        <div style="font-size: 10px; color: #666; margin-top: 4px;">
                            ÂùêÊ†á: ${lng.toFixed(6)}, ${lat.toFixed(6)}
                        </div>
                     </div>`,
                iconSize: [300, 'auto'],
                iconAnchor: [150, 0]
            })
        }).addTo(labelLayerGroup);

        // Ê∑ªÂä†ÁÇπÂáª‰∫ã‰ª∂ÔºåÁÇπÂáªÂèØ‰ª•Âà†Èô§Ê†áÁ≠æ
        label.on('click', function() {
            labelLayerGroup.removeLayer(label);
            updateStatus('Âú∞ÂùÄÊ†áÁ≠æÂ∑≤Âà†Èô§');
        });

        // 3ÁßíÂêéËá™Âä®ÈöêËóèÊ†áÁ≠æ
        setTimeout(() => {
            if (labelLayerGroup.hasLayer(label)) {
                labelLayerGroup.removeLayer(label);
            }
        }, 10000); // 10ÁßíÂêéËá™Âä®ÈöêËóè
    }

    // Ê†áÁ≠æÈ°µÂàáÊç¢
    function bindTabEvents() {
        const tabs = document.querySelectorAll('.tab');
        const tabContents = document.querySelectorAll('.tab-content');

        tabs.forEach(tab => {
            tab.addEventListener('click', function() {
                const targetTab = this.dataset.tab;

                // ÁßªÈô§ÊâÄÊúâÊ¥ªÂä®Áä∂ÊÄÅ
                tabs.forEach(t => t.classList.remove('active'));
                tabContents.forEach(content => content.classList.remove('active'));

                // Ê∑ªÂä†Ê¥ªÂä®Áä∂ÊÄÅ
                this.classList.add('active');
                document.getElementById(targetTab + '-tab').classList.add('active');
            });
        });
    }

    // È¢úËâ≤ÈÄâÊã©Âô®‰∫ã‰ª∂
    function bindColorPickerEvents() {
        // ËΩ®ËøπÁ∫øÈ¢úËâ≤
        const trackLineColorPicker = document.getElementById('trackLineColorPicker');
        const trackLineColorInput = document.getElementById('trackLineColorInput');

        if (trackLineColorPicker && trackLineColorInput) {
            trackLineColorPicker.addEventListener('click', function() {
                trackLineColorInput.click();
            });

            trackLineColorInput.addEventListener('change', function() {
                currentTrackLineColor = this.value;
                trackLineColorPicker.style.backgroundColor = currentTrackLineColor;
            });
        }

        // ËΩ®ËøπÁÇπÈ¢úËâ≤
        const trackPointColorPicker = document.getElementById('trackPointColorPicker');
        const trackPointColorInput = document.getElementById('trackPointColorInput');

        if (trackPointColorPicker && trackPointColorInput) {
            trackPointColorPicker.addEventListener('click', function() {
                trackPointColorInput.click();
            });

            trackPointColorInput.addEventListener('change', function() {
                currentTrackPointColor = this.value;
                trackPointColorPicker.style.backgroundColor = currentTrackPointColor;
            });
        }
    }

    // Â∑•ÂÖ∑ÊåâÈíÆ‰∫ã‰ª∂
    function bindToolEvents() {
        // ÊµãË∑ùÊåâÈíÆ
        const measureDistanceBtn = document.getElementById('measureDistanceBtn');
        if (measureDistanceBtn) {
            measureDistanceBtn.addEventListener('click', startMeasureDistance);
        }

        // ÊµãÈù¢ÊåâÈíÆ
        const measureAreaBtn = document.getElementById('measureAreaBtn');
        if (measureAreaBtn) {
            measureAreaBtn.addEventListener('click', startMeasureArea);
        }

        // Âú∞ÂõæÁ±ªÂûãÂàáÊç¢
        const mapTypeBtn = document.getElementById('mapTypeBtn');
        if (mapTypeBtn) {
            mapTypeBtn.addEventListener('click', toggleMapType);
        }

        // Ê∏ÖÁ©∫ÊâÄÊúâ
        const clearAllBtn = document.getElementById('clearAllBtn');
        if (clearAllBtn) {
            clearAllBtn.addEventListener('click', clearAll);
        }

        // ËΩ®ËøπÁõ∏ÂÖ≥ÊåâÈíÆ
        const drawTrackBtn = document.getElementById('drawTrackButton');
        const showTrackPointsBtn = document.getElementById('showTrackPointsButton');
        const clearTrackBtn = document.getElementById('clearTrackButton');

        if (drawTrackBtn) drawTrackBtn.addEventListener('click', drawTrack);
        if (showTrackPointsBtn) showTrackPointsBtn.addEventListener('click', showTrackPoints);
        if (clearTrackBtn) clearTrackBtn.addEventListener('click', clearTrack);

        // ËΩ®ËøπÂõûÊîæÂàáÊç¢ÊåâÈíÆ - ÂßãÁªàÂèØÁÇπÂáªÔºåÁÇπÂáªÊó∂ËøõË°åÂàùÂßãÂåñÊ£ÄÊü•
        const playbackToggleBtn = document.getElementById('playbackToggleBtn');
        if (playbackToggleBtn) {
            // ÁßªÈô§disabledÂ±ûÊÄßÔºå‰ΩøÊåâÈíÆÂßãÁªàÂèØÁÇπÂáª
            playbackToggleBtn.disabled = false;
            
            playbackToggleBtn.addEventListener('click', function() {
                // Â¶ÇÊûúÊí≠ÊîæÂô®Â∑≤ÊòæÁ§∫ÔºåÂàôÈöêËóè
                if (playbackPlayer.style.display === 'block') {
                    hidePlaybackPlayer();
                    return;
                }
                
                // Ê£ÄÊü•ÊòØÂê¶ÊúâËΩ®ËøπÊï∞ÊçÆ
                if (!playbackState.points || playbackState.points.length === 0) {
                    // Â∞ùËØï‰ªétextareaËß£ÊûêËΩ®ËøπÊï∞ÊçÆ
                    const trackTextarea = document.getElementById('trackTextarea');
                    if (trackTextarea && trackTextarea.value.trim()) {
                        try {
                            parseTrackPoints(trackTextarea.value.trim());
                        } catch (e) {
                            updateStatus('ËΩ®ËøπÊï∞ÊçÆÊ†ºÂºèÈîôËØØÔºåÊó†Ê≥ïÊâìÂºÄÊí≠ÊîæÂô®');
                            return;
                        }
                    }
                }
                
                // ÂÜçÊ¨°Ê£ÄÊü•ÊòØÂê¶ÊúâÊúâÊïàËΩ®ËøπÊï∞ÊçÆ
                if (!playbackState.points || playbackState.points.length === 0) {
                    updateStatus('Ê≤°ÊúâÊúâÊïàÁöÑËΩ®ËøπÊï∞ÊçÆÔºåÊó†Ê≥ïÊâìÂºÄÊí≠ÊîæÂô®');
                    return;
                }
                
                // ÊòæÁ§∫Êí≠ÊîæÂô®
                showPlaybackPlayer();
            });
        }

        // Êñ∞Êí≠ÊîæÂô®ÊéßÂà∂‰∫ã‰ª∂
        if (playerCloseBtn) playerCloseBtn.addEventListener('click', hidePlaybackPlayer);
        if (playerPlayBtn) playerPlayBtn.addEventListener('click', togglePlayback);

        if (playerStopBtn) playerStopBtn.addEventListener('click', stopPlayback);
        
        // ÂàùÂßãÂåñÊí≠ÊîæÂô®ÊåâÈíÆÁä∂ÊÄÅ
        updatePlayerControls();
        
        // ÈÄüÂ∫¶ÊªëÂùó
        if (playerSpeedSlider) {
            playerSpeedSlider.addEventListener('input', function() {
                // Â∞ÜÊªëÂùóÂÄºËΩ¨Êç¢‰∏∫ÊåáÊï∞ÂÄçÊï∞Ôºö1,2,4,8,16,32,64,128,256,512,1024
                const sliderValue = parseInt(this.value);
                let speed;
                
                if (sliderValue === 1) {
                    speed = 1;
                } else {
                    // ËÆ°ÁÆó2ÁöÑÂπÇÊ¨°Ôºö2^0=1, 2^1=2, 2^2=4, ..., 2^10=1024
                    const power = Math.floor(Math.log2(sliderValue));
                    speed = Math.pow(2, power);
                }
                
                // ÈôêÂà∂ÊúÄÂ§ßÂÄº
                speed = Math.min(speed, 1024);
                
                // Á°Æ‰øùÊòØ2ÁöÑÂπÇÊ¨°ÂÄçÊï∞Ôºö1,2,4,8,16,32,64,128,256,512,1024
                const validSpeeds = [1, 2, 4, 8, 16, 32, 64, 128, 256, 512, 1024];
                speed = validSpeeds.find(s => s >= speed) || 1024;
                
                playbackState.speed = speed;
                if (playerSpeedValue) playerSpeedValue.textContent = speed + 'x';
                
                // Â¶ÇÊûúÊ≠£Âú®Êí≠ÊîæÔºåÂ∫îÁî®Êñ∞ÈÄüÂ∫¶Ôºà‰øùÊåÅÂΩìÂâç‰ΩçÁΩÆÁªßÁª≠Êí≠ÊîæÔºâ
                if (playbackState.isPlaying) {
                    // ‰∏çÈúÄË¶ÅÊöÇÂÅúÂíåÈáçÊñ∞ÂºÄÂßãÔºåÈÄüÂ∫¶‰ºöÂú®‰∏ã‰∏Ä‰∏™ÁÇπËá™Âä®Â∫îÁî®
                    updateStatus(`Êí≠ÊîæÈÄüÂ∫¶Â∑≤Ë∞ÉÊï¥‰∏∫ ${speed}x`);
                }
            });
        }
        
        // ËøõÂ∫¶ÊªëÂùó
        if (playerProgressSlider) {
            playerProgressSlider.addEventListener('input', function() {
                const percentage = parseInt(this.value);
                if (playbackState.filteredPoints && playbackState.filteredPoints.length > 0) {
                    const index = Math.floor((percentage / 100) * (playbackState.filteredPoints.length - 1));
                    const wasPlaying = playbackState.isPlaying; // ËÆ∞ÂΩïÊí≠ÊîæÁä∂ÊÄÅ
                    jumpToPoint(index);
                    // Â¶ÇÊûú‰πãÂâçÂú®Êí≠ÊîæÔºåÁªßÁª≠Êí≠Êîæ
                    if (wasPlaying) {
                        setTimeout(() => {
                            playbackState.isPlaying = true;
                            playbackNextPoint();
                        }, 100);
                    }
                }
            });
        }

        // ËΩ®ËøπÊñáÊú¨Ê°Ü‰∫ã‰ª∂ÁõëÂê¨ - Ê†πÊçÆÂÜÖÂÆπÂêØÁî®/Á¶ÅÁî®ÊåâÈíÆ
        const trackTextarea = document.getElementById('trackTextarea');
        if (trackTextarea) {
            function updateTrackButtons() {
                const hasContent = trackTextarea.value.trim().length > 0;
                if (drawTrackBtn) drawTrackBtn.disabled = !hasContent;
                if (showTrackPointsBtn) showTrackPointsBtn.disabled = !hasContent;
                if (clearTrackBtn) clearTrackBtn.disabled = !hasContent;
                
                // Â¶ÇÊûúÊúâËΩ®ËøπÂÜÖÂÆπÔºåÂ∞ùËØïËá™Âä®Ëß£Êûê‰ª•ÂêØÁî®Êí≠ÊîæÊåâÈíÆ
                if (hasContent) {
                    try {
                        const trackText = trackTextarea.value.trim();
                        const lines = trackText.split('\n');
                        let hasValidTrackData = false;
                        
                        // Ê£ÄÊü•ÊòØÂê¶ÊúâÊúâÊïàÁöÑËΩ®ËøπÊï∞ÊçÆÊ†ºÂºè
                        for (let line of lines) {
                            line = line.trim();
                            if (!line) continue;
                            
                            const parts = line.split(',');
                            if (parts.length >= 3) {
                                // Ê£ÄÊü•‰∏§ÁßçÊ†ºÂºèÔºöÁªèÂ∫¶,Á∫¨Â∫¶,Êó∂Èó¥Êà≥ Êàñ Êó∂Èó¥Êà≥,ÁªèÂ∫¶,Á∫¨Â∫¶
                                const part1 = parts[0].trim();
                                const part2 = parts[1].trim();
                                const part3 = parts[2].trim();
                                
                                // Â¶ÇÊûúÊòØÊúâÊïàÁöÑÊï∞Â≠óÊ†ºÂºèÔºåÂàôËÆ§‰∏∫ÊúâÊúâÊïàËΩ®ËøπÊï∞ÊçÆ
                                if ((!isNaN(part1) && !isNaN(part2) && part3) || 
                                    (!isNaN(part2) && !isNaN(part3) && part1)) {
                                    hasValidTrackData = true;
                                    break;
                                }
                            }
                        }
                        
                        // Êí≠ÊîæÊåâÈíÆÁé∞Âú®ÂßãÁªàÂèØÁÇπÂáªÔºå‰∏çÈúÄË¶ÅÊ†πÊçÆËß£ÊûêÁªìÊûúÂêØÁî®/Á¶ÅÁî®
                        // Â¶ÇÊûúÊâæÂà∞ÊúâÊïàÊï∞ÊçÆÔºåËá™Âä®Ëß£ÊûêÂà∞playbackState
                        if (hasValidTrackData) {
                            const points = [];
                            lines.forEach(line => {
                                line = line.trim();
                                if (!line) return;
                                
                                const parts = line.split(',');
                                if (parts.length >= 3) {
                                    let lng, lat, timestamp;
                                    
                                    // Âà§Êñ≠Ê†ºÂºè
                                    if (parts[0].trim().length > 10 && !isNaN(parts[0].trim())) {
                                        // Ê†ºÂºèÔºöÊó∂Èó¥Êà≥,ÁªèÂ∫¶,Á∫¨Â∫¶
                                        timestamp = parts[0].trim();
                                        lng = parseFloat(parts[1].trim());
                                        lat = parseFloat(parts[2].trim());
                                    } else {
                                        // Ê†ºÂºèÔºöÁªèÂ∫¶,Á∫¨Â∫¶,Êó∂Èó¥Êà≥
                                        lng = parseFloat(parts[0].trim());
                                        lat = parseFloat(parts[1].trim());
                                        timestamp = parts[2].trim();
                                    }
                                    
                                    if (!isNaN(lng) && !isNaN(lat) && timestamp && lat !== 0 && lng !== 0) {
                                        points.push({
                                            lat: lat,
                                            lng: lng,
                                            timestamp: timestamp
                                        });
                                    }
                                }
                            });
                            
                            // ‰øùÂ≠òËß£ÊûêÁöÑËΩ®ËøπÁÇπ
                            if (points.length > 0) {
                                playbackState.points = points;
                            }
                        }
                        
                    } catch (e) {
                        // Ëß£ÊûêÂ§±Ë¥•Êó∂ÔºåÊ∏ÖÁ©∫ËΩ®ËøπÁÇπ
                        playbackState.points = [];
                    }
                } else {
                    // Ê≤°ÊúâÂÜÖÂÆπÊó∂ÔºåÊ∏ÖÁ©∫ËΩ®ËøπÁÇπ
                    playbackState.points = [];
                }
            }
            
            // ÂàùÂßãÁä∂ÊÄÅ
            updateTrackButtons();
            
            // ÁõëÂê¨ËæìÂÖ•‰∫ã‰ª∂
            trackTextarea.addEventListener('input', updateTrackButtons);
            trackTextarea.addEventListener('change', updateTrackButtons);
        }
    }

    // ËΩÆÂªìÁªòÂà∂ÂáΩÊï∞
    function drawOutline() {
        const wktText = document.getElementById('outlineWkt').value.trim();
        if (!wktText) {
            alert('ËØ∑ËæìÂÖ•WKTÊï∞ÊçÆ');
            return;
        }

        clearOutline();

        try {
            // Ê£ÄÊü•ÊòØÂê¶‰∏∫Â§öË°åWKT
            const wktLines = wktText.split('\n').filter(line => line.trim());
            let polygonData = [];

            if (wktLines.length === 1) {
                // ÂçïË°åWKT - ‰ΩøÁî®ÂéüÂßãÈÄªËæë
                const geojson = wellknown.parse(wktLines[0].trim());
                if (geojson.type === "Polygon") {
                    polygonData.push({ index: 1, geojson: geojson, colorIndex: 0 });
                } else if (geojson.type === "MultiPolygon") {
                    geojson.coordinates.forEach((polygon, index) => {
                        // Â∞ÜMultiPolygonÁöÑÊØè‰∏™Â≠êÂ§öËæπÂΩ¢ËΩ¨Êç¢‰∏∫ÂçïÁã¨ÁöÑPolygon
                        const singlePolygon = {
                            type: "Polygon",
                            coordinates: polygon
                        };
                        polygonData.push({ index: index + 1, geojson: singlePolygon, colorIndex: index });
                    });
                }
            } else {
                // Â§öË°åWKT - ÊØèË°å‰∏Ä‰∏™Â§öËæπÂΩ¢
                wktLines.forEach((line, index) => {
                    if (line.trim()) {
                        try {
                            const geojson = wellknown.parse(line.trim());
                            if (geojson.type === "Polygon") {
                                polygonData.push({ index: index + 1, geojson: geojson, colorIndex: index });
                            } else if (geojson.type === "MultiPolygon") {
                                // Â¶ÇÊûú‰∏ÄË°åÊòØMultiPolygonÔºåÊãÜÂàÜÊàêÂ§ö‰∏™Polygon
                                geojson.coordinates.forEach((polygon, subIndex) => {
                                    const singlePolygon = {
                                        type: "Polygon",
                                        coordinates: polygon
                                    };
                                    polygonData.push({
                                        index: index + 1 + subIndex * 0.1,
                                        geojson: singlePolygon,
                                        colorIndex: index
                                    });
                                });
                            }
                        } catch (e) {
                            console.warn(`Á¨¨${index + 1}Ë°åWKTËß£ÊûêÂ§±Ë¥•:`, e);
                        }
                    }
                });
            }

            // ‰∏∫ÊØè‰∏™Â§öËæπÂΩ¢ÂàõÂª∫ÂõæÂ±Ç
            polygonData.forEach((data, idx) => {
                const colorScheme = polygonColors[data.colorIndex % polygonColors.length];
                const style = {
                    color: colorScheme.outline,
                    weight: 1,
                    opacity: 1,
                    fillColor: colorScheme.fill,
                    fillOpacity: colorScheme.opacity
                };

                const polygonLayer = L.geoJSON(data.geojson, {
                    style: style
                });

                outlineLayerGroup.addLayer(polygonLayer);

                // ËÆ°ÁÆóÈù¢ÁßØÂπ∂Ê∑ªÂä†‰∫©Êï∞Ê†áÁ≠æ
                if (typeof L !== 'undefined' && typeof L.GeometryUtil !== 'undefined' && typeof L.GeometryUtil.geodesicArea === 'function') {
                    try {
                        // Ëé∑ÂèñÂõæÂ±Ç‰∏≠ÁöÑË¶ÅÁ¥†ËøõË°åÈù¢ÁßØËÆ°ÁÆó
                        let layers = [];

                        // Â¶ÇÊûúpolygonLayerÊòØLayerGroupÊàñFeatureGroupÔºåËé∑ÂèñÂÖ∂ÊâÄÊúâÂ≠êÂõæÂ±Ç
                        if (polygonLayer instanceof L.LayerGroup || polygonLayer instanceof L.FeatureGroup) {
                            layers = polygonLayer.getLayers();
                        } else {
                            // ÂØπ‰∫éÂÖ∂‰ªñÁ±ªÂûãÁöÑÂõæÂ±ÇÔºåÊ£ÄÊü•ÊòØÂê¶ÊúâgetLayersÊñπÊ≥ï
                            layers = polygonLayer.getLayers ? polygonLayer.getLayers() : [polygonLayer];
                        }

                        if (layers && Array.isArray(layers) && layers.length > 0) {
                            for (let j = 0; j < layers.length; j++) {
                                const layer = layers[j];
                                let latLngs;

                                // Ê†πÊçÆÂõæÂ±ÇÁ±ªÂûãËé∑ÂèñÂùêÊ†á
                                if (layer && typeof layer.getLatLngs === 'function') {
                                    if (layer instanceof L.Polygon) {
                                        latLngs = layer.getLatLngs();
                                    } else if (layer instanceof L.MultiPolygon) {
                                        // ÂØπ‰∫éMultiPolygonÔºåÂèñÁ¨¨‰∏Ä‰∏™Â§öËæπÂΩ¢
                                        const multiLatLngs = layer.getLatLngs();
                                        if (multiLatLngs && Array.isArray(multiLatLngs) && multiLatLngs.length > 0) {
                                            latLngs = multiLatLngs[0];
                                        }
                                    }

                                    if (latLngs) {
                                        // Â§ÑÁêÜlatLngsÊ†ºÂºèÔºåÁ°Æ‰øùÊ≠£Á°ÆËÆ°ÁÆóÈù¢ÁßØ
                                        let areaLatLngs = latLngs;
                                        if (Array.isArray(latLngs) && latLngs.length > 0) {
                                            areaLatLngs = latLngs[0] || latLngs;
                                        }

                                        let areaSqM, areaMu;
                                        if (typeof L.GeometryUtil !== 'undefined' && typeof L.GeometryUtil.geodesicArea === 'function') {
                                            areaSqM = L.GeometryUtil.geodesicArea(areaLatLngs);
                                            areaMu = (areaSqM / 666.6667).toFixed(4); // ËΩ¨Êç¢‰∏∫‰∫©
                                            console.log('‰ΩøÁî®L.GeometryUtilËÆ°ÁÆóÂ§öËæπÂΩ¢Èù¢ÁßØ:', areaSqM, 'Âπ≥ÊñπÁ±≥ (', areaMu, '‰∫©)');
                                        } else if (typeof turf !== 'undefined') {
                                            // ‰ΩøÁî®Turf.js‰Ωú‰∏∫Â§áÈÄâÊñπÊ°à
                                            try {
                                                // Â§ÑÁêÜÂ§öËæπÂΩ¢ÂùêÊ†áÔºåÊîØÊåÅÂ§ñÈÉ®ËæπÁïåÂíåÂÜÖÈÉ®Â≠îÊ¥û
                                                const processPolygon = (polyCoords) => {
                                                    if (!Array.isArray(polyCoords) || polyCoords.length === 0) {
                                                        return null;
                                                    }

                                                    // Â¶ÇÊûúÊòØÂ§öËæπÂΩ¢Êï∞ÁªÑÔºàÂ§ñÈÉ®ËæπÁïå+Â≠îÊ¥ûÔºâÔºåÂàÜÂà´Â§ÑÁêÜ
                                                    let processedCoords = [];

                                                    // Â§ÑÁêÜÂ§öËæπÂΩ¢ÁöÑÊØè‰∏™ÁéØÔºàÁ¨¨‰∏Ä‰∏™ÊòØÂ§ñÈÉ®ËæπÁïåÔºåÂÖ∂‰ΩôÊòØÂ≠îÊ¥ûÔºâ
                                                    for (let i = 0; i < polyCoords.length; i++) {
                                                        let ring = polyCoords[i];
                                                        if (!Array.isArray(ring)) {
                                                            ring = [ring]; // Â¶ÇÊûú‰∏çÊòØÊï∞ÁªÑÔºåËΩ¨Êç¢‰∏∫Êï∞ÁªÑ
                                                        }

                                                        // Â∞ÜLeafletÂùêÊ†áËΩ¨Êç¢‰∏∫GeoJSONÊ†ºÂºè [lng, lat]
                                                        let geoJsonRing = ring.map(latLng => {
                                                            if (latLng.lat !== undefined && latLng.lng !== undefined) {
                                                                return [latLng.lng, latLng.lat];
                                                            } else if (Array.isArray(latLng) && latLng.length >= 2) {
                                                                // Â¶ÇÊûúÂ∑≤ÁªèÊòØÊï∞ÁªÑÊ†ºÂºè [lat, lng] Êàñ [lng, lat]
                                                                return [latLng[1], latLng[0]]; // ÂÅáËÆæÊòØ [lat, lng] Ê†ºÂºè
                                                            }
                                                            return null;
                                                        }).filter(coord => coord !== null);

                                                        // Á°Æ‰øùÁéØÊòØÈó≠ÂêàÁöÑÔºàËá≥Â∞ëÊúâ4‰∏™ÁÇπÔºåÈ¶ñÂ∞æÁõ∏ÂêåÔºâ
                                                        if (geoJsonRing.length >= 3) {
                                                            // Â¶ÇÊûúÈ¶ñÂ∞æ‰∏çÁõ∏ÂêåÔºåÈó≠ÂêàÁéØ
                                                            if (geoJsonRing[0][0] !== geoJsonRing[geoJsonRing.length - 1][0] ||
                                                                geoJsonRing[0][1] !== geoJsonRing[geoJsonRing.length - 1][1]) {
                                                                geoJsonRing.push(geoJsonRing[0]);
                                                            }

                                                            // Á°Æ‰øùËá≥Â∞ëÊúâ4‰∏™ÁÇπÔºàÈó≠ÂêàÂêéÔºâ
                                                            if (geoJsonRing.length < 4) {
                                                                // Â¶ÇÊûúÁÇπÊï∞‰∏çË∂≥4‰∏™ÔºåÂ§çÂà∂ÁÇπÁõ¥Âà∞ËææÂà∞4‰∏™
                                                                while (geoJsonRing.length < 4) {
                                                                    geoJsonRing.push(geoJsonRing[geoJsonRing.length - 1]);
                                                                }
                                                            }
                                                        } else if (geoJsonRing.length === 2) {
                                                            // Â¶ÇÊûúÂè™Êúâ2‰∏™ÁÇπÔºåÂ§çÂà∂ÂÆÉ‰ª¨ÂΩ¢ÊàêËá≥Â∞ë4‰∏™ÁÇπÁöÑÁéØ
                                                            geoJsonRing.push(geoJsonRing[1]);
                                                            geoJsonRing.push(geoJsonRing[0]);
                                                        } else if (geoJsonRing.length === 1) {
                                                            // Â¶ÇÊûúÂè™Êúâ1‰∏™ÁÇπÔºåÂ§çÂà∂3Ê¨°ÂΩ¢Êàê4‰∏™ÁÇπÁöÑÁéØ
                                                            for (let k = 0; k < 3; k++) {
                                                                geoJsonRing.push(geoJsonRing[0]);
                                                            }
                                                        }

                                                        processedCoords.push(geoJsonRing);
                                                    }

                                                    return processedCoords;
                                                };

                                                // Ê†πÊçÆareaLatLngsÁöÑÁªìÊûÑÂ§ÑÁêÜÂùêÊ†á
                                                let coordinates;
                                                if (Array.isArray(areaLatLngs) && areaLatLngs.length > 0) {
                                                    if (Array.isArray(areaLatLngs[0])) {
                                                        // Â¶ÇÊûúÊòØÂ§öËæπÂΩ¢Êï∞ÁªÑÔºàÂåÖÂê´Â§ñÈÉ®ËæπÁïåÂíåÂ≠îÊ¥ûÔºâ
                                                        coordinates = processPolygon(areaLatLngs);
                                                    } else {
                                                        // Â¶ÇÊûúÊòØÂçï‰∏™Â§öËæπÂΩ¢ËæπÁïå
                                                        coordinates = processPolygon([areaLatLngs]);
                                                    }
                                                } else {
                                                    // Âçï‰∏™Â§öËæπÂΩ¢ËæπÁïå
                                                    coordinates = processPolygon([areaLatLngs]);
                                                }

                                                if (coordinates && coordinates.length > 0) {
                                                    const polygon = turf.polygon(coordinates);
                                                    areaSqM = turf.area(polygon);
                                                    areaMu = (areaSqM / 666.6667).toFixed(4); // ËΩ¨Êç¢‰∏∫‰∫©
                                                    console.log('‰ΩøÁî®Turf.jsËÆ°ÁÆóÂ§öËæπÂΩ¢Èù¢ÁßØ:', areaSqM, 'Âπ≥ÊñπÁ±≥ (', areaMu, '‰∫©)');
                                                } else {
                                                    console.log('Êó†Ê≥ïÂ§ÑÁêÜÂùêÊ†áÊï∞ÊçÆÔºå‰ΩøÁî®ÈªòËÆ§Èù¢ÁßØ');
                                                    areaSqM = 0;
                                                    areaMu = '0.0000';
                                                }
                                            } catch (e) {
                                                console.error('‰ΩøÁî®Turf.jsËÆ°ÁÆóÈù¢ÁßØÊó∂Âá∫Èîô:', e);
                                                areaSqM = 0;
                                                areaMu = '0.0000';
                                            }
                                        } else {
                                            console.error('L.GeometryUtilÂíåTurf.jsÈÉΩ‰∏çÂèØÁî®ÔºåÊó†Ê≥ïËÆ°ÁÆóÈù¢ÁßØ');
                                            areaSqM = 0;
                                            areaMu = '0.0000';
                                        }

                                        console.log('ËÆ°ÁÆóÂ§öËæπÂΩ¢Èù¢ÁßØ:', areaSqM, 'Âπ≥ÊñπÁ±≥ (', areaMu, '‰∫©)');

                                        // Â¶ÇÊûúÊ†áÁ≠æÂ∑≤ÂêØÁî®ÔºåÂàôÊ∑ªÂä†Èù¢ÁßØÊ†áÁ≠æ
                                        if (labelsEnabled) {
                                            console.log('Ê†áÁ≠æÂ∑≤ÂêØÁî®Ôºå‰∏∫Â§öËæπÂΩ¢Ê∑ªÂä†Èù¢ÁßØÊ†áÁ≠æ');
                                            addAreaLabelToLayer(polygonLayer, `Èù¢ÁßØ: ${areaMu}‰∫©`);
                                            console.log('ÂΩìÂâçÊ†áÁ≠æÂõæÂ±Ç‰∏≠ÁöÑÂõæÂ±ÇÊï∞Èáè:', labelLayerGroup.getLayers().length);
                                        } else {
                                            console.log('Ê†áÁ≠æÊú™ÂêØÁî®Ôºå‰∏çÊ∑ªÂä†Èù¢ÁßØÊ†áÁ≠æ');
                                        }
                                        break; // Âè™Â§ÑÁêÜÁ¨¨‰∏Ä‰∏™ÊúâÊïàÁöÑÂõæÂ±ÇÊù•ËÆ°ÁÆóÈù¢ÁßØ
                                    }
                                }
                            }
                        }
                    } catch (areaError) {
                        console.warn('Èù¢ÁßØËÆ°ÁÆóÈîôËØØ:', areaError);
                    }
                }
            });

            // Ëá™ÈÄÇÂ∫îËßÜÈáé
            if (outlineLayerGroup && outlineLayerGroup.getLayers && outlineLayerGroup.getLayers().length > 0) {
                // ËÆ°ÁÆóÊâÄÊúâÂ≠êÂõæÂ±ÇÁöÑÊï¥‰ΩìËæπÁïå
                const layers = outlineLayerGroup.getLayers();
                let groupBounds = null;

                for (let i = 0; i < layers.length; i++) {
                    const layer = layers[i];
                    let layerBounds;

                    // Ê£ÄÊü•ÂõæÂ±ÇÊòØÂê¶‰∏∫LayerGroupÊàñFeatureGroup
                    if (layer instanceof L.LayerGroup || layer instanceof L.FeatureGroup) {
                        try {
                            layerBounds = layer.getBounds();
                        } catch (e) {
                            // Â¶ÇÊûúLayerGroup/FeatureGroupÊ≤°ÊúâgetBoundsÊñπÊ≥ïÔºåÈÅçÂéÜÂÖ∂Â≠êÂõæÂ±Ç
                            const subLayers = layer.getLayers();
                            for (let j = 0; j < subLayers.length; j++) {
                                try {
                                    const subLayerBounds = subLayers[j].getBounds();
                                    if (subLayerBounds && subLayerBounds.isValid && subLayerBounds.isValid()) {
                                        if (!groupBounds) {
                                            groupBounds = subLayerBounds;
                                        } else {
                                            groupBounds.extend(subLayerBounds);
                                        }
                                    }
                                } catch (e) {
                                    continue;
                                }
                            }
                            continue; // ÁªßÁª≠Â§ñÂ±ÇÂæ™ÁéØ
                        }
                    } else {
                        try {
                            layerBounds = layer.getBounds();
                        } catch (e) {
                            continue; // Â∞ùËØï‰∏ã‰∏Ä‰∏™ÂõæÂ±Ç
                        }
                    }

                    if (layerBounds && layerBounds.isValid && layerBounds.isValid()) {
                        if (!groupBounds) {
                            groupBounds = layerBounds;
                        } else {
                            groupBounds.extend(layerBounds);
                        }
                    }
                }

                if (groupBounds && groupBounds.isValid && groupBounds.isValid()) {
                    map.fitBounds(groupBounds, { padding: [20, 20] });
                }
            }

            updateStatus(`ËΩÆÂªìÁªòÂà∂ÂÆåÊàêÔºåÂÖ±${polygonData.length}‰∏™Â§öËæπÂΩ¢`);

        } catch (error) {
            console.error('WKTËß£ÊûêÈîôËØØ:', error);
            updateStatus('WKTËß£ÊûêÂ§±Ë¥•: ' + error.message);
        }
    }

    // Ê∏ÖÈô§ËΩÆÂªì
    function clearOutline() {
        outlineLayerGroup.clearLayers();
        currentOutline = null;
        updateStatus('ËΩÆÂªìÂ∑≤Ê∏ÖÈô§');
    }

    // ‰∏∫ÂõæÂ±ÇÊ∑ªÂä†Ê†áÁ≠æ
    function addLabelsToLayer(layer, prefix) {
        try {
            // Â¶ÇÊûúlayerÊòØLayerGroupÊàñFeatureGroupÔºåÈúÄË¶ÅËé∑ÂèñÂÖ∂‰∏≠ÁöÑÁ¨¨‰∏Ä‰∏™ÂõæÂ±ÇÊù•Ëé∑ÂèñËæπÁïå
            let bounds;
            if (layer instanceof L.LayerGroup || layer instanceof L.FeatureGroup) {
                const layers = layer.getLayers();
                if (layers && layers.length > 0) {
                    // ÈÅçÂéÜÊâÄÊúâÂ≠êÂõæÂ±ÇÊù•Ëé∑ÂèñÊúâÊïàÁöÑËæπÁïå
                    for (let i = 0; i < layers.length; i++) {
                        try {
                            const subLayer = layers[i];
                            let subLayerBounds;

                            // Ê£ÄÊü•Â≠êÂõæÂ±ÇÊòØÂê¶‰∏∫LayerGroupÊàñFeatureGroup
                            if (subLayer instanceof L.LayerGroup || subLayer instanceof L.FeatureGroup) {
                                // ÈÄíÂΩíÂ§ÑÁêÜÂµåÂ•óÁöÑLayerGroupÊàñFeatureGroup
                                const subSubLayers = subLayer.getLayers();
                                for (let j = 0; j < subSubLayers.length; j++) {
                                    try {
                                        const subSubLayerBounds = subSubLayers[j].getBounds();
                                        if (subSubLayerBounds && subSubLayerBounds.isValid && subSubLayerBounds.isValid()) {
                                            subLayerBounds = subSubLayerBounds;
                                            break;
                                        }
                                    } catch (e) {
                                        continue;
                                    }
                                }
                            } else {
                                subLayerBounds = subLayer.getBounds();
                            }

                            if (subLayerBounds && subLayerBounds.isValid && subLayerBounds.isValid()) {
                                bounds = subLayerBounds;
                                break; // ‰ΩøÁî®Á¨¨‰∏Ä‰∏™ÊúâÊïàÁöÑËæπÁïå
                            }
                        } catch (e) {
                            continue; // Â∞ùËØï‰∏ã‰∏Ä‰∏™ÂõæÂ±Ç
                        }
                    }
                }
            } else {
                // Â¶ÇÊûúÊòØÂçï‰∏™ÂõæÂ±ÇÔºåÁõ¥Êé•Ëé∑ÂèñËæπÁïå
                try {
                    bounds = layer.getBounds();
                } catch (e) {
                    console.error('Ëé∑ÂèñÂõæÂ±ÇËæπÁïåÂ§±Ë¥•:', e);
                    return; // Â¶ÇÊûúÊó†Ê≥ïËé∑ÂèñËæπÁïåÔºåÂàô‰∏çÊ∑ªÂä†Ê†áÁ≠æ
                }
            }

            if (bounds && bounds.isValid && bounds.isValid()) {
                const center = bounds.getCenter();
                const label = L.divIcon({
                    className: 'custom-label',
                    html: `<div style="background: rgba(0,0,0,0.8); color: white; padding: 4px 8px; border-radius: 4px; font-size: 12px; white-space: nowrap;">${prefix}</div>`,
                    iconSize: null,
                    iconAnchor: [0, 0]
                });

                const labelMarker = L.marker(center, { icon: label });
                labelLayerGroup.addLayer(labelMarker);
            }
        } catch (error) {
            console.error('Ê∑ªÂä†Ê†áÁ≠æÈîôËØØ:', error);
        }
    }

    // ‰∏∫ÂõæÂ±ÇÊ∑ªÂä†Èù¢ÁßØÊ†áÁ≠æ
    function addAreaLabelToLayer(layer, areaText) {
        try {
            console.log('Â∞ùËØï‰∏∫ÂõæÂ±ÇÊ∑ªÂä†Èù¢ÁßØÊ†áÁ≠æ:', areaText);
            // Â¶ÇÊûúlayerÊòØLayerGroupÊàñFeatureGroupÔºåÈúÄË¶ÅËé∑ÂèñÂÖ∂‰∏≠ÁöÑÁ¨¨‰∏Ä‰∏™ÂõæÂ±ÇÊù•Ëé∑ÂèñËæπÁïå
            let bounds;
            if (layer instanceof L.LayerGroup || layer instanceof L.FeatureGroup) {
                const layers = layer.getLayers();
                if (layers && layers.length > 0) {
                    // ÈÅçÂéÜÊâÄÊúâÂ≠êÂõæÂ±ÇÊù•Ëé∑ÂèñÊúâÊïàÁöÑËæπÁïå
                    for (let i = 0; i < layers.length; i++) {
                        try {
                            const subLayer = layers[i];
                            let subLayerBounds;

                            // Ê£ÄÊü•Â≠êÂõæÂ±ÇÊòØÂê¶‰∏∫LayerGroupÊàñFeatureGroup
                            if (subLayer instanceof L.LayerGroup || subLayer instanceof L.FeatureGroup) {
                                // ÈÄíÂΩíÂ§ÑÁêÜÂµåÂ•óÁöÑLayerGroupÊàñFeatureGroup
                                const subSubLayers = subLayer.getLayers();
                                for (let j = 0; j < subSubLayers.length; j++) {
                                    try {
                                        const subSubLayerBounds = subSubLayers[j].getBounds();
                                        if (subSubLayerBounds && subSubLayerBounds.isValid && subSubLayerBounds.isValid()) {
                                            subLayerBounds = subSubLayerBounds;
                                            break;
                                        }
                                    } catch (e) {
                                        continue;
                                    }
                                }
                            } else {
                                subLayerBounds = subLayer.getBounds();
                            }

                            if (subLayerBounds && subLayerBounds.isValid && subLayerBounds.isValid()) {
                                bounds = subLayerBounds;
                                break; // ‰ΩøÁî®Á¨¨‰∏Ä‰∏™ÊúâÊïàÁöÑËæπÁïå
                            }
                        } catch (e) {
                            continue; // Â∞ùËØï‰∏ã‰∏Ä‰∏™ÂõæÂ±Ç
                        }
                    }
                }
            } else {
                // Â¶ÇÊûúÊòØÂçï‰∏™ÂõæÂ±ÇÔºåÁõ¥Êé•Ëé∑ÂèñËæπÁïå
                try {
                    bounds = layer.getBounds();
                } catch (e) {
                    console.error('Ëé∑ÂèñÂõæÂ±ÇËæπÁïåÂ§±Ë¥•:', e);
                    return; // Â¶ÇÊûúÊó†Ê≥ïËé∑ÂèñËæπÁïåÔºåÂàô‰∏çÊ∑ªÂä†Ê†áÁ≠æ
                }
            }

            if (bounds && bounds.isValid && bounds.isValid()) {
                const center = bounds.getCenter();
                const label = L.divIcon({
                    className: 'area-label',
                    html: areaText,
                    iconSize: null,
                    iconAnchor: null // ‰ΩøÁî®ÈªòËÆ§ÈîöÁÇπ
                });

                const labelMarker = L.marker(center, { icon: label });
                labelLayerGroup.addLayer(labelMarker);
                console.log('ÊàêÂäüÊ∑ªÂä†Èù¢ÁßØÊ†áÁ≠æÂà∞ÂõæÂ±ÇÁªÑ');
                console.log('ÂΩìÂâçÊ†áÁ≠æÂõæÂ±Ç‰∏≠ÁöÑÂõæÂ±ÇÊï∞Èáè:', labelLayerGroup.getLayers().length);
            } else {
                console.warn('Êó†Ê≥ïËé∑ÂèñÂõæÂ±ÇËæπÁïåÔºåÊó†Ê≥ïÊ∑ªÂä†Èù¢ÁßØÊ†áÁ≠æ');
            }
        } catch (error) {
            console.error('Ê∑ªÂä†Èù¢ÁßØÊ†áÁ≠æÈîôËØØ:', error);
        }
    }

    // ËΩ®ËøπÁªòÂà∂ÂáΩÊï∞
    function drawTrack() {
        const trackText = document.getElementById('trackTextarea').value.trim();
        const timeRangeText = document.getElementById('timeRangeInput').value.trim();

        if (!trackText) {
            alert('ËØ∑Á≤òË¥¥ËΩ®ËøπÊñáÊú¨ÔºàÊó∂Èó¥Êà≥,ÁªèÂ∫¶,Á∫¨Â∫¶Ôºâ');
            return;
        }

        // Ê∏ÖÈô§ËΩ®ËøπÊòæÁ§∫Ôºå‰ΩÜ‰øùÁïôËΩ®ËøπÁÇπÊï∞ÊçÆÁî®‰∫éÂõûÊîæ
        trackLayerGroup.clearLayers();
        currentTrack = null;
        
        // ÂÅúÊ≠¢ÂõûÊîæ‰ΩÜ‰∏çÈáçÁΩÆpointsÊï∞ÊçÆÂíåcurrentIndex
        playbackState.isPlaying = false;
        if (playbackState.timer) {
            clearTimeout(playbackState.timer);
            playbackState.timer = null;
        }
        
        // Ê∏ÖÈô§ÂõûÊîæÂÖÉÁ¥†
        if (playbackState.marker) {
            map.removeLayer(playbackState.marker);
            playbackState.marker = null;
        }
        if (playbackState.polyline) {
            map.removeLayer(playbackState.polyline);
            playbackState.polyline = null;
        }

        // Ëß£ÊûêÊó∂Èó¥ËåÉÂõ¥
        let startTime, endTime;
        if (timeRangeText) {
            const timeParts = timeRangeText.split(' - ');
            if (timeParts.length === 2) {
                startTime = new Date(timeParts[0].trim());
                endTime = new Date(timeParts[1].trim());

                if (isNaN(startTime.getTime()) || isNaN(endTime.getTime())) {
                    alert('Êó∂Èó¥ËåÉÂõ¥Ê†ºÂºè‰∏çÊ≠£Á°ÆÔºåËØ∑‰ΩøÁî®Ê†ºÂºèÔºö2025-10-23T13:56:49 - 2025-10-23T15:51:31');
                    return;
                }
            }
        }

        // Ëß£ÊûêËΩ®ËøπÊï∞ÊçÆ
        const points = [];
        const lines = trackText.split('\n');

        lines.forEach(line => {
            line = line.trim();
            if (!line) return;

            // ÊîØÊåÅ‰∏§ÁßçÊ†ºÂºèÔºö
            // 1. ÁªèÂ∫¶,Á∫¨Â∫¶,Êó∂Èó¥Êà≥
            // 2. Êó∂Èó¥Êà≥,ÁªèÂ∫¶,Á∫¨Â∫¶
            const parts = line.split(',');
            if (parts.length >= 3) {
                let lng, lat, timestamp;

                // Âà§Êñ≠Ê†ºÂºèÔºöÂ¶ÇÊûúÁ¨¨‰∏ÄÈÉ®ÂàÜÊòØÊï∞Â≠ó‰∏îÈïøÂ∫¶Â§ß‰∫é10ÔºåÂèØËÉΩÊòØÊó∂Èó¥Êà≥
                if (parts[0].trim().length > 10 && !isNaN(parts[0].trim())) {
                    // Ê†ºÂºèÔºöÊó∂Èó¥Êà≥,ÁªèÂ∫¶,Á∫¨Â∫¶
                    timestamp = parts[0].trim();
                    lng = parseFloat(parts[1].trim());
                    lat = parseFloat(parts[2].trim());
                } else {
                    // Ê†ºÂºèÔºöÁªèÂ∫¶,Á∫¨Â∫¶,Êó∂Èó¥Êà≥
                    lng = parseFloat(parts[0].trim());
                    lat = parseFloat(parts[1].trim());
                    timestamp = parts[2].trim();
                }

                if (!isNaN(lng) && !isNaN(lat) && timestamp && lat !== 0 && lng !== 0) {
                    const pointTime = parseTimestamp(timestamp);

                    // Ê£ÄÊü•Êó∂Èó¥ËåÉÂõ¥
                    if (startTime && endTime) {
                        if (pointTime < startTime || pointTime > endTime) {
                            return; // Ë∑≥Ëøá‰∏çÂú®Êó∂Èó¥ËåÉÂõ¥ÂÜÖÁöÑÁÇπ
                        }
                    }

                    points.push({
                        lat: lat,
                        lng: lng,
                        timestamp: timestamp,
                        time: pointTime
                    });
                }
            }
        });

        if (points.length < 2) {
            alert('ËØ•Êó∂Èó¥ËåÉÂõ¥ÂÜÖÁöÑÊúâÊïàËΩ®ËøπÁÇπ‰∏çË∂≥ÔºåËá≥Â∞ëÈúÄË¶Å‰∏§ÁÇπ');
            return;
        }

        // ÊåâÊó∂Èó¥ÊéíÂ∫è
        points.sort((a, b) => a.time - b.time);

        // ÁªòÂà∂ËΩ®ËøπÁ∫ø
        const latlngs = points.map(p => [p.lat, p.lng]);

        currentTrack = L.polyline(latlngs, {
            color: currentTrackLineColor,
            weight: 1,
            opacity: 0.9
        });

        trackLayerGroup.addLayer(currentTrack);

        // Ëá™ÈÄÇÂ∫îËßÜÈáé
        const group = new L.featureGroup([currentTrack]);
        map.fitBounds(group.getBounds().pad(0.1));

        // ‰øùÂ≠òËΩ®ËøπÁÇπÁî®‰∫éÂõûÊîæ
        playbackState.points = points;

        // ÂêØÁî®Êí≠ÊîæÂô®ÊéßÂà∂ÊåâÈíÆÔºàÂ¶ÇÊûúÊí≠ÊîæÂô®ÂÖÉÁ¥†Â≠òÂú®Ôºâ
        if (playbackPlayer) {
            updatePlayerControls();
        }

        updateStatus('ËΩ®ËøπÁªòÂà∂ÂÆåÊàê');
    }

    // CanvasËΩ®ËøπÁÇπÊ∏≤ÊüìÂô® - È´òÊÄßËÉΩÊ∏≤ÊüìÂ§ßÈáèËΩ®ËøπÁÇπ
    let trackCanvasLayer = null;
    
    // ËΩ®ËøπÁÇπÊ∏≤ÊüìÈÖçÁΩÆ
    const trackPointConfig = {
        maxPointsForFullRender: 100000,    // ÂÖ®ÈáèÊ∏≤ÊüìÁöÑÊúÄÂ§ßÁÇπÊï∞
        maxPointsForBatchRender: 10000,   // ÂàÜÊâπÊ∏≤ÊüìÁöÑÊúÄÂ§ßÁÇπÊï∞
        batchSize: 1000,                  // ÊØèÊâπÂ§ÑÁêÜÁöÑÁÇπÊï∞
        pointRadius: 0.5,                // ÁÇπÁöÑÂçäÂæÑÔºàÂÉèÁ¥†Ôºâ
        pointOpacity: 0.8,                 // ÁÇπÁöÑÈÄèÊòéÂ∫¶
        useSimplification: true,           // ÊòØÂê¶‰ΩøÁî®Êï∞ÊçÆÁÆÄÂåñ
        simplificationTolerance: 0.00001  // ÁÆÄÂåñÂÆπÂ∑ÆÔºàÂ∫¶Ôºâ
    };
    
    // ÂàõÂª∫CanvasÂõæÂ±ÇÁî®‰∫éËΩ®ËøπÁÇπÊ∏≤Êüì
    function createTrackCanvasLayer() {
        if (trackCanvasLayer) {
            map.removeLayer(trackCanvasLayer);
        }
        
        trackCanvasLayer = L.canvas();
        trackCanvasLayer.addTo(map);
        return trackCanvasLayer;
    }
    
    // Êï∞ÊçÆÁÆÄÂåñÂáΩÊï∞ - ÂáèÂ∞ëÁÇπÊï∞‰ΩÜ‰øùÊåÅËΩ®ËøπÂΩ¢Áä∂
    function simplifyPoints(points, tolerance) {
        if (points.length <= trackPointConfig.maxPointsForFullRender) {
            return points;
        }
        
        // ‰ΩøÁî®ÁÆÄÂçïÁöÑË∑ùÁ¶ªËøáÊª§ÁÆóÊ≥ï
        const simplified = [points[0]];
        let lastPoint = points[0];
        
        for (let i = 1; i < points.length; i++) {
            const currentPoint = points[i];
            const distance = Math.sqrt(
                Math.pow(currentPoint.lat - lastPoint.lat, 2) + 
                Math.pow(currentPoint.lng - lastPoint.lng, 2)
            );
            
            if (distance > tolerance) {
                simplified.push(currentPoint);
                lastPoint = currentPoint;
            }
        }
        
        // Á°Æ‰øùÂåÖÂê´ÊúÄÂêé‰∏Ä‰∏™ÁÇπ
        if (simplified[simplified.length - 1] !== points[points.length - 1]) {
            simplified.push(points[points.length - 1]);
        }
        
        console.log(`Êï∞ÊçÆÁÆÄÂåñ: ${points.length} -> ${simplified.length} ÁÇπ`);
        return simplified;
    }

    // ‰ΩøÁî®CanvasÁªòÂà∂ËΩ®ËøπÁÇπ - È´òÊÄßËÉΩÊñπÊ°à
    function showTrackPoints() {
        const trackText = document.getElementById('trackTextarea').value.trim();
        const timeRangeText = document.getElementById('timeRangeInput').value.trim();

        if (!trackText) {
            alert('ËØ∑Á≤òË¥¥ËΩ®ËøπÊñáÊú¨ÔºàÊó∂Èó¥Êà≥,ÁªèÂ∫¶,Á∫¨Â∫¶Ôºâ');
            return;
        }

        // Ê∏ÖÈô§ËΩ®ËøπÊòæÁ§∫Ôºå‰ΩÜ‰øùÁïôËΩ®ËøπÁÇπÊï∞ÊçÆÁî®‰∫éÂõûÊîæ
        trackLayerGroup.clearLayers();
        currentTrack = null;
        
        // ÂÅúÊ≠¢ÂõûÊîæ‰ΩÜ‰∏çÈáçÁΩÆpointsÊï∞ÊçÆÂíåcurrentIndex
        playbackState.isPlaying = false;
        if (playbackState.timer) {
            clearTimeout(playbackState.timer);
            playbackState.timer = null;
        }
        
        // Ê∏ÖÈô§ÂõûÊîæÂÖÉÁ¥†
        if (playbackState.marker) {
            map.removeLayer(playbackState.marker);
            playbackState.marker = null;
        }
        if (playbackState.polyline) {
            map.removeLayer(playbackState.polyline);
            playbackState.polyline = null;
        }

        // Ëß£ÊûêÊó∂Èó¥ËåÉÂõ¥
        let startTime, endTime;
        if (timeRangeText) {
            const timeParts = timeRangeText.split(' - ');
            if (timeParts.length === 2) {
                startTime = new Date(timeParts[0].trim());
                endTime = new Date(timeParts[1].trim());

                if (isNaN(startTime.getTime()) || isNaN(endTime.getTime())) {
                    alert('Êó∂Èó¥ËåÉÂõ¥Ê†ºÂºè‰∏çÊ≠£Á°ÆÔºåËØ∑‰ΩøÁî®Ê†ºÂºèÔºö2025-10-23T13:56:49 - 2025-10-23T15:51:31');
                    return;
                }
            }
        }

        // Ëß£ÊûêËΩ®ËøπÊï∞ÊçÆ
        const points = [];
        const lines = trackText.split('\n');

        lines.forEach(line => {
            line = line.trim();
            if (!line) return;

            // ÊîØÊåÅ‰∏§ÁßçÊ†ºÂºèÔºö
            // 1. ÁªèÂ∫¶,Á∫¨Â∫¶,Êó∂Èó¥Êà≥
            // 2. Êó∂Èó¥Êà≥,ÁªèÂ∫¶,Á∫¨Â∫¶
            const parts = line.split(',');
            if (parts.length >= 3) {
                let lng, lat, timestamp;

                // Âà§Êñ≠Ê†ºÂºèÔºöÂ¶ÇÊûúÁ¨¨‰∏ÄÈÉ®ÂàÜÊòØÊï∞Â≠ó‰∏îÈïøÂ∫¶Â§ß‰∫é10ÔºåÂèØËÉΩÊòØÊó∂Èó¥Êà≥
                if (parts[0].trim().length > 10 && !isNaN(parts[0].trim())) {
                    // Ê†ºÂºèÔºöÊó∂Èó¥Êà≥,ÁªèÂ∫¶,Á∫¨Â∫¶
                    timestamp = parts[0].trim();
                    lng = parseFloat(parts[1].trim());
                    lat = parseFloat(parts[2].trim());
                } else {
                    // Ê†ºÂºèÔºöÁªèÂ∫¶,Á∫¨Â∫¶,Êó∂Èó¥Êà≥
                    lng = parseFloat(parts[0].trim());
                    lat = parseFloat(parts[1].trim());
                    timestamp = parts[2].trim();
                }

                if (!isNaN(lng) && !isNaN(lat) && timestamp && lat !== 0 && lng !== 0) {
                    const pointTime = parseTimestamp(timestamp);

                    // Ê£ÄÊü•Êó∂Èó¥ËåÉÂõ¥
                    if (startTime && endTime) {
                        if (pointTime < startTime || pointTime > endTime) {
                            return; // Ë∑≥Ëøá‰∏çÂú®Êó∂Èó¥ËåÉÂõ¥ÂÜÖÁöÑÁÇπ
                        }
                    }

                    points.push({
                        lat: lat,
                        lng: lng,
                        timestamp: timestamp,
                        time: pointTime
                    });
                }
            }
        });

        if (points.length === 0) {
            alert('ËØ•Êó∂Èó¥ËåÉÂõ¥ÂÜÖÊ≤°ÊúâÊâæÂà∞ËΩ®ËøπÁÇπ');
            return;
        }

        // ÊåâÊó∂Èó¥ÊéíÂ∫è
        points.sort((a, b) => a.time - b.time);

        // ‰øùÂ≠òËΩ®ËøπÁÇπÁî®‰∫éÂõûÊîæ
        playbackState.points = points;

        // ‰ΩøÁî®CanvasÊ∏≤ÊüìËΩ®ËøπÁÇπ
        renderTrackPointsWithCanvas(points);
    }

    // CanvasÊ∏≤ÊüìËΩ®ËøπÁÇπ - Ë∂ÖÈ´òÊÄßËÉΩÊñπÊ°àÔºàÊîØÊåÅÊµ∑ÈáèÊï∞ÊçÆÔºâ
    function renderTrackPointsWithCanvas(points) {
        const totalPoints = points.length;
        updateStatus(`ÂºÄÂßãCanvasÊ∏≤ÊüìËΩ®ËøπÁÇπÔºåÂÖ±${totalPoints}‰∏™ÁÇπ...`);

        // Êï∞ÊçÆÁÆÄÂåñÂ§ÑÁêÜÔºàÈíàÂØπÊµ∑ÈáèÊï∞ÊçÆÔºâ
        let renderPoints = points;
        if (trackPointConfig.useSimplification && totalPoints > trackPointConfig.maxPointsForFullRender) {
            renderPoints = simplifyPoints(points, trackPointConfig.simplificationTolerance);
            updateStatus(`Êï∞ÊçÆÁÆÄÂåñÂêéÔºåÂÖ±${renderPoints.length}‰∏™ÁÇπ...`);
        }

        // ÂàõÂª∫CanvasÂõæÂ±Ç
        createTrackCanvasLayer();
        const canvasLayer = trackCanvasLayer;
        
        // Ê†πÊçÆÁÇπÊï∞ÈÄâÊã©‰∏çÂêåÁöÑÊ∏≤ÊüìÁ≠ñÁï•
        if (renderPoints.length <= trackPointConfig.maxPointsForFullRender) {
            // Â∞èÊï∞ÊçÆÈáè - ‰∏ÄÊ¨°ÊÄßÊ∏≤Êüì
            renderAllPointsAtOnce(renderPoints, canvasLayer);
        } else if (renderPoints.length <= trackPointConfig.maxPointsForBatchRender) {
            // ‰∏≠Á≠âÊï∞ÊçÆÈáè - ÂàÜÊâπÊ∏≤Êüì
            renderPointsInBatches(renderPoints, canvasLayer);
        } else {
            // Â§ßÊï∞ÊçÆÈáè - Ë∂ÖÂ§ßÊâπÈáèÊ∏≤Êüì
            renderPointsInLargeBatches(renderPoints, canvasLayer);
        }
    }
    
    // ‰∏ÄÊ¨°ÊÄßÊ∏≤ÊüìÊâÄÊúâÁÇπÔºàÈÄÇÂêàÂ∞èÊï∞ÊçÆÈáèÔºâ
    function renderAllPointsAtOnce(points, canvasLayer) {
        requestAnimationFrame(() => {
            try {
                const circleMarkers = [];
                const pointColor = currentTrackPointColor;
                const radius = trackPointConfig.pointRadius;
                
                // È´òÊïàÂàõÂª∫ÊâÄÊúâÁÇπ
                for (let i = 0; i < points.length; i++) {
                    const point = points[i];
                    const circleMarker = L.circleMarker([point.lat, point.lng], {
                        radius: radius,
                        fillColor: pointColor,
                        color: pointColor,
                        weight: 0,
                        opacity: trackPointConfig.pointOpacity,
                        fillOpacity: trackPointConfig.pointOpacity,
                        renderer: canvasLayer,
                        interactive: true,
                        className: 'tiny-point'
                    });

                    circleMarker.on('click', function() {
                        this.bindPopup(`ËΩ®ËøπÁÇπ ${i + 1}<br>Êó∂Èó¥: ${point.timestamp}<br>ÁªèÂ∫¶: ${point.lng.toFixed(6)}<br>Á∫¨Â∫¶: ${point.lat.toFixed(6)}`).openPopup();
                    });

                    circleMarkers.push(circleMarker);
                }

                // ÊâπÈáèÊ∑ªÂä†Âà∞Âú∞Âõæ
                const canvasPoints = L.layerGroup(circleMarkers);
                canvasPoints.addTo(map);
                trackLayerGroup.addLayer(canvasPoints);

                // Ëá™ÈÄÇÂ∫îËßÜÈáé
                adjustMapView(points);
                
                updateStatus(`CanvasÊ∏≤ÊüìÂÆåÊàêÔºåÂÖ±${points.length}‰∏™ÁÇπ`);
                updatePlayerControls();
                
            } catch (error) {
                console.error('CanvasÊ∏≤ÊüìÈîôËØØ:', error);
                updateStatus('CanvasÊ∏≤ÊüìÂ§±Ë¥•ÔºåÂõûÈÄÄÂà∞ÂàÜÊâπÊ∏≤Êüì');
                renderPointsInBatches(points, canvasLayer);
            }
        });
    }
    
    // ÂàÜÊâπÊ∏≤ÊüìÔºàÈÄÇÂêà‰∏≠Á≠âÊï∞ÊçÆÈáèÔºâ
    function renderPointsInBatches(points, canvasLayer) {
        const totalPoints = points.length;
        const batchSize = trackPointConfig.batchSize;
        let currentBatch = 0;
        let processedCount = 0;
        const pointColor = currentTrackPointColor;
        const radius = trackPointConfig.pointRadius;
        
        function drawBatch() {
            const startIdx = currentBatch * batchSize;
            const endIdx = Math.min(startIdx + batchSize, totalPoints);
            
            const batchMarkers = [];
            for (let i = startIdx; i < endIdx; i++) {
                const point = points[i];
                const circleMarker = L.circleMarker([point.lat, point.lng], {
                    radius: radius,
                    fillColor: pointColor,
                    color: pointColor,
                    weight: 0,
                    opacity: trackPointConfig.pointOpacity,
                    fillOpacity: trackPointConfig.pointOpacity,
                    renderer: canvasLayer,
                    interactive: true,
                    className: 'tiny-point'
                });

                circleMarker.on('click', function() {
                    this.bindPopup(`ËΩ®ËøπÁÇπ ${i + 1}<br>Êó∂Èó¥: ${point.timestamp}<br>ÁªèÂ∫¶: ${point.lng.toFixed(6)}<br>Á∫¨Â∫¶: ${point.lat.toFixed(6)}`).openPopup();
                });

                batchMarkers.push(circleMarker);
            }

            const batchLayer = L.layerGroup(batchMarkers);
            batchLayer.addTo(map);
            trackLayerGroup.addLayer(batchLayer);

            processedCount += batchMarkers.length;
            currentBatch++;

            const progress = Math.round((processedCount / totalPoints) * 100);
            updateStatus(`ËΩ®ËøπÁÇπÊ∏≤Êüì‰∏≠... ${progress}% (${processedCount}/${totalPoints})`);

            if (processedCount < totalPoints) {
                setTimeout(drawBatch, 16); // 60fpsÁöÑÂ∏ßÈó¥Èöî
            } else {
                adjustMapView(points);
                updateStatus(`CanvasÊ∏≤ÊüìÂÆåÊàêÔºåÂÖ±${totalPoints}‰∏™ÁÇπ`);
                updatePlayerControls();
            }
        }

        drawBatch();
    }
    
    // Ë∂ÖÂ§ßÊâπÈáèÊ∏≤ÊüìÔºàÈÄÇÂêàÂ§ßÊï∞ÊçÆÈáèÔºâ
    function renderPointsInLargeBatches(points, canvasLayer) {
        const totalPoints = points.length;
        const batchSize = trackPointConfig.batchSize * 2; // Êõ¥Â§ßÁöÑÊâπÊ¨°
        let currentBatch = 0;
        let processedCount = 0;
        const pointColor = currentTrackPointColor;
        const radius = trackPointConfig.pointRadius;
        
        function drawLargeBatch() {
            const startIdx = currentBatch * batchSize;
            const endIdx = Math.min(startIdx + batchSize, totalPoints);
            
            const batchMarkers = [];
            for (let i = startIdx; i < endIdx; i++) {
                const point = points[i];
                const circleMarker = L.circleMarker([point.lat, point.lng], {
                    radius: radius,
                    fillColor: pointColor,
                    color: pointColor,
                    weight: 0,
                    opacity: trackPointConfig.pointOpacity,
                    fillOpacity: trackPointConfig.pointOpacity,
                    renderer: canvasLayer,
                    interactive: false,
                    className: 'tiny-point'
                });

                circleMarker.on('click', function() {
                    this.bindPopup(`ËΩ®ËøπÁÇπ ${i + 1}<br>Êó∂Èó¥: ${point.timestamp}<br>ÁªèÂ∫¶: ${point.lng.toFixed(6)}<br>Á∫¨Â∫¶: ${point.lat.toFixed(6)}`).openPopup();
                });

                batchMarkers.push(circleMarker);
            }

            const batchLayer = L.layerGroup(batchMarkers);
            batchLayer.addTo(map);
            trackLayerGroup.addLayer(batchLayer);

            processedCount += batchMarkers.length;
            currentBatch++;

            const progress = Math.round((processedCount / totalPoints) * 100);
            updateStatus(`ËΩ®ËøπÁÇπÊ∏≤Êüì‰∏≠... ${progress}% (${processedCount}/${totalPoints})`);

            if (processedCount < totalPoints) {
                setTimeout(drawLargeBatch, 32); // Êõ¥ÈïøÁöÑÈó¥ÈöîÔºåÈÅøÂÖçÈòªÂ°û
            } else {
                adjustMapView(points);
                updateStatus(`CanvasÊ∏≤ÊüìÂÆåÊàêÔºåÂÖ±${totalPoints}‰∏™ÁÇπ`);
                updatePlayerControls();
            }
        }

        drawLargeBatch();
    }
    
    // Ë∞ÉÊï¥Âú∞ÂõæËßÜÈáé
    function adjustMapView(points) {
        if (points.length === 1) {
            map.setView([points[0].lat, points[0].lng], map.getZoom());
        } else {
            const bounds = L.latLngBounds(points.map(p => [p.lat, p.lng]));
            map.fitBounds(bounds.pad(0.1));
        }
    }

    // ÂõûÈÄÄÊñπÊ°àÔºöÂàÜÊâπDOMÊ∏≤ÊüìÔºàÁî®‰∫éCanvasÂ§±Ë¥•ÁöÑÊÉÖÂÜµÔºâ
    function renderTrackPointsWithBatch(points) {
        const totalPoints = points.length;
        const batchSize = 500; // Â¢ûÂ§ßÊâπÊ¨°Â§ßÂ∞è
        let currentBatch = 0;
        let processedCount = 0;

        function drawBatch() {
            const startIdx = currentBatch * batchSize;
            const endIdx = Math.min(startIdx + batchSize, totalPoints);
            const batchPoints = points.slice(startIdx, endIdx);

            // ÊâπÈáèÂàõÂª∫CircleMarkerÔºà‰ΩøÁî®CanvasÊ∏≤ÊüìÔºâ
            const batchLayer = L.layerGroup();
            batchPoints.forEach((point, index) => {
                const actualIndex = startIdx + index;
                
                const circleMarker = L.circleMarker([point.lat, point.lng], {
                    radius: 0.5,
                    fillColor: currentTrackPointColor,
                    color: currentTrackPointColor,
                    weight: 0,
                    opacity: 0.8,
                    fillOpacity: 0.8,
                    interactive: true
                });

                circleMarker.on('click', function() {
                    this.bindPopup(`ËΩ®ËøπÁÇπ ${actualIndex + 1}<br>Êó∂Èó¥: ${point.timestamp}<br>ÁªèÂ∫¶: ${point.lng.toFixed(6)}<br>Á∫¨Â∫¶: ${point.lat.toFixed(6)}`).openPopup();
                });

                batchLayer.addLayer(circleMarker);
            });

            batchLayer.addTo(map);
            trackLayerGroup.addLayer(batchLayer);

            processedCount += batchPoints.length;
            currentBatch++;

            const progress = Math.round((processedCount / totalPoints) * 100);
            updateStatus(`ËΩ®ËøπÁÇπÁªòÂà∂‰∏≠... ${progress}% (${processedCount}/${totalPoints})`);

            if (processedCount < totalPoints) {
                setTimeout(drawBatch, 50); // Â¢ûÂä†Èó¥ÈöîÊó∂Èó¥
            } else {
                if (totalPoints === 1) {
                    map.setView([points[0].lat, points[0].lng], map.getZoom());
                } else {
                    const bounds = L.latLngBounds(points.map(p => [p.lat, p.lng]));
                    map.fitBounds(bounds.pad(0.1));
                }
                updateStatus(`ËΩ®ËøπÁÇπÁªòÂà∂ÂÆåÊàêÔºåÂÖ±${totalPoints}‰∏™ÁÇπ`);
                updatePlayerControls();
            }
        }

        drawBatch();
    }

    // Ëß£ÊûêËΩ®ËøπÁÇπ - ÂàÜÊâπÂ§ÑÁêÜÈÅøÂÖçÈ°µÈù¢Âç°Ê≠ª
    function parseTrackPoints(text) {
        try {
            const lines = text.trim().split('\n');
            const points = [];

            lines.forEach(line => {
                const parts = line.split(',');
                if (parts.length >= 3) {
                    const lng = parseFloat(parts[0].trim());
                    const lat = parseFloat(parts[1].trim());
                    const timestamp = parts[2].trim();

                    if (!isNaN(lng) && !isNaN(lat) && lat !== 0 && lng !== 0) {
                        points.push({
                            lat: lat,
                            lng: lng,
                            timestamp: timestamp,
                            time: parseTimestamp(timestamp)
                        });
                    }
                }
            });

            if (points.length > 0) {
                // ÊåâÊó∂Èó¥ÊéíÂ∫è
                points.sort((a, b) => a.time - b.time);

                // ‰øùÂ≠òËΩ®ËøπÁÇπÁî®‰∫éÂõûÊîæ
                playbackState.points = points;

                // ÂàÜÊâπÁªòÂà∂ËΩ®ËøπÁÇπÔºåÈÅøÂÖçÈ°µÈù¢Âç°Ê≠ª
                const batchSize = 100; // ÊØèÊâπÂ§ÑÁêÜ100‰∏™ÁÇπ
                let currentBatch = 0;
                let processedCount = 0;
                const totalPoints = points.length;

                updateStatus(`ÂºÄÂßãÁªòÂà∂ËΩ®ËøπÁÇπÔºåÂÖ±${totalPoints}‰∏™ÁÇπÔºåÂàÜÊâπÂ§ÑÁêÜ‰∏≠...`);

                function drawBatch() {
                    const startIdx = currentBatch * batchSize;
                    const endIdx = Math.min(startIdx + batchSize, totalPoints);
                    const batchPoints = points.slice(startIdx, endIdx);

                    // ÁªòÂà∂ÂΩìÂâçÊâπÊ¨°ÁöÑÁÇπ
                    batchPoints.forEach((point, index) => {
                        const actualIndex = startIdx + index;
                        
                        // ÂàõÂª∫ÊûÅÂ∞èÁöÑDivIcon
                        const tinyIcon = L.divIcon({
                            className: 'tiny-track-point',
                            html: `<div style="width: 1px; height: 1px; background-color: ${currentTrackPointColor}; border-radius: 50%;"></div>`,
                            iconSize: [1, 1],
                            iconAnchor: [0.5, 0.5]
                        });

                        const marker = L.marker([point.lat, point.lng], {
                            icon: tinyIcon,
                            opacity: 0.8
                        });

                        marker.bindPopup(`ËΩ®ËøπÁÇπ ${actualIndex + 1}<br>Êó∂Èó¥: ${point.timestamp}<br>ÁªèÂ∫¶: ${point.lng.toFixed(6)}<br>Á∫¨Â∫¶: ${point.lat.toFixed(6)}`);
                        trackLayerGroup.addLayer(marker);
                    });

                    processedCount += batchPoints.length;
                    currentBatch++;

                    // Êõ¥Êñ∞ËøõÂ∫¶Áä∂ÊÄÅ
                    const progress = Math.round((processedCount / totalPoints) * 100);
                    updateStatus(`ËΩ®ËøπÁÇπÁªòÂà∂‰∏≠... ${progress}% (${processedCount}/${totalPoints})`);

                    // Â¶ÇÊûúËøòÊúâÊú™Â§ÑÁêÜÁöÑÁÇπÔºåÁªßÁª≠‰∏ã‰∏ÄÊâπ
                    if (processedCount < totalPoints) {
                        // ‰ΩøÁî®setTimeoutËÆ©ÊµèËßàÂô®ÊúâÊó∂Èó¥Â§ÑÁêÜÂÖ∂‰ªñ‰ªªÂä°ÔºåÈÅøÂÖçÂç°Ê≠ª
                        setTimeout(drawBatch, 10);
                    } else {
                          // ÊâÄÊúâÁÇπÁªòÂà∂ÂÆåÊàê
                          updateStatus(`ËΩ®ËøπÁÇπÁªòÂà∂ÂÆåÊàêÔºåÂÖ±${totalPoints}‰∏™ÁÇπ`);
                          
                          // Êõ¥Êñ∞Êí≠ÊîæÂô®ÊéßÂà∂Áä∂ÊÄÅ
                          updatePlayerControls();
                      }
                }

                // ÂºÄÂßãÁ¨¨‰∏ÄÊâπÁªòÂà∂
                drawBatch();
            }
        } catch (error) {
            console.error('ËΩ®ËøπÁÇπËß£ÊûêÈîôËØØ:', error);
            updateStatus('ËΩ®ËøπÁÇπËß£ÊûêÂ§±Ë¥•');
        }
    }

    // Êó∂Èó¥Êà≥Ëß£Êûê
    function parseTimestamp(timestamp) {
        const tstr = (timestamp || '').replace(/\D/g, '');
        const m = tstr && tstr.match(/^\d{14}$/);
        if (!m) return null;

        const y = parseInt(tstr.slice(0, 4), 10);
        const M = parseInt(tstr.slice(4, 6), 10) - 1;
        const d = parseInt(tstr.slice(6, 8), 10);
        const h = parseInt(tstr.slice(8, 10), 10);
        const m2 = parseInt(tstr.slice(10, 12), 10);
        const s = parseInt(tstr.slice(12, 14), 10);
        const dt = new Date(y, M, d, h, m2, s);
        return isNaN(dt.getTime()) ? null : dt;
    }

    // Ê∏ÖÈô§ËΩ®Ëøπ
    function clearTrack() {
        trackLayerGroup.clearLayers();
        currentTrack = null;
        
        // Âè™ÊöÇÂÅúÂõûÊîæÔºå‰∏çÈáçÁΩÆcurrentIndexÂíåpointsÔºåËøôÊ†∑Áî®Êà∑ÂèØ‰ª•ÈáçÊñ∞ÁªòÂà∂ËΩ®ËøπÂêéÁªßÁª≠ÂõûÊîæ
        playbackState.isPlaying = false;
        if (playbackState.timer) {
            clearTimeout(playbackState.timer);
            playbackState.timer = null;
        }
        
        // Ê∏ÖÈô§ÂõûÊîæÂÖÉÁ¥†Ôºå‰ΩÜ‰øùÁïôpointsÊï∞ÊçÆ
        if (playbackState.marker) {
            map.removeLayer(playbackState.marker);
            playbackState.marker = null;
        }
        if (playbackState.polyline) {
            map.removeLayer(playbackState.polyline);
            playbackState.polyline = null;
        }

        // ÈáçÁΩÆÊí≠ÊîæÂô®Áä∂ÊÄÅÔºàÂ¶ÇÊûúÊí≠ÊîæÂô®ÂÖÉÁ¥†Â≠òÂú®Ôºâ
        if (playbackPlayer) {
            updatePlayerControls();
        }
        
        // Ê∏ÖÈô§ËΩ®ËøπÊó∂ÈáçÁΩÆËøõÂ∫¶Êù°ÂíåÊó∂Èó¥ÊòæÁ§∫
        if (playerProgressSlider) {
            playerProgressSlider.value = 0;
            playerProgressSlider.disabled = true;
        }
        // Âè™ÈáçÁΩÆÂΩìÂâçÊó∂Èó¥Ôºå‰øùÊåÅÁªìÊùüÊó∂Èó¥‰∏çÂèò
        const currentTimeElement = document.getElementById('currentTime');
        if (currentTimeElement) currentTimeElement.textContent = '00:00:00';
        // ‰∏çÈáçÁΩÆtotalTimeElementÔºå‰øùÊåÅÁªìÊùüÊó∂Èó¥ÊòæÁ§∫

        updateStatus('ËΩ®ËøπÂ∑≤Ê∏ÖÈô§');
    }

    // ËΩ®ËøπÂõûÊîæÊéßÂà∂ÂáΩÊï∞ - ‰ΩøÁî®Êñ∞ÁöÑÊí≠ÊîæÂô®ÊéßÂà∂Èù¢Êùø
    function startPlayback() {
        // Ê£ÄÊü•ÊòØÂê¶ÊúâËΩ®ËøπÁÇπ
        if (!playbackState.points || playbackState.points.length === 0) {
            updateStatus('ÊöÇÊó†ËΩ®ËøπÊï∞ÊçÆÔºåÊó†Ê≥ïÂºÄÂßãÂõûÊîæ');
            return;
        }

        if (playbackState.isPlaying) {
            return;
        }

        // ÂÅúÊ≠¢‰πãÂâçÁöÑÂõûÊîæÔºà‰ΩÜ‰∏çÈáçÁΩÆcurrentIndexÔºâ
        if (playbackState.timer) {
            clearTimeout(playbackState.timer);
            playbackState.timer = null;
        }

        playbackState.isPlaying = true;
        // ‰∏çÈáçÁΩÆcurrentIndexÔºå‰øùÊåÅÂΩìÂâçÊí≠Êîæ‰ΩçÁΩÆ

        // Â¶ÇÊûúÊí≠ÊîæÂÖÉÁ¥†‰∏çÂ≠òÂú®ÔºåÂàõÂª∫ÂÆÉ‰ª¨
        if (!playbackState.marker || !playbackState.polyline) {
            // Ê∏ÖÈô§‰πãÂâçÁöÑÂõûÊîæÂÖÉÁ¥†
            if (playbackState.marker) {
                map.removeLayer(playbackState.marker);
            }
            if (playbackState.polyline) {
                map.removeLayer(playbackState.polyline);
            }

            // ÂàõÂª∫ÂõûÊîæËΩ®ËøπÁ∫øÔºà‰ΩøÁî®ËøáÊª§ÂêéÁöÑÁÇπÔºâ
            const latlngs = playbackState.filteredPoints.map(p => [p.lat, p.lng]);
            playbackState.polyline = L.polyline(latlngs, {
                color: currentTrackLineColor,
                weight: 1,
                opacity: 0.6
            }).addTo(map);

            // ÂàõÂª∫ÂõûÊîæÊ†áËÆ∞Ôºà‰ΩøÁî®ËøáÊª§ÂêéÁöÑÁ¨¨‰∏Ä‰∏™ÁÇπÔºâ
            const firstPoint = playbackState.filteredPoints[0];
            playbackState.marker = L.circleMarker([firstPoint.lat, firstPoint.lng], {
                radius: 0.5,
                fillColor: currentTrackLineColor,
                color: '#FFFFFF',
                weight: 0.5,
                opacity: 1,
                fillOpacity: 0.8
            }).addTo(map);

            // Ëá™ÈÄÇÂ∫îËßÜÈáéÂà∞ËΩ®ËøπËåÉÂõ¥
            const bounds = playbackState.polyline.getBounds();
            if (bounds && bounds.isValid()) {
                map.fitBounds(bounds, { padding: [20, 20] });
            }
        }

        // Êõ¥Êñ∞Êí≠ÊîæÂô®ÊéßÂà∂Áä∂ÊÄÅ
        updatePlayerControls();
        
        // ËÆæÁΩÆËøõÂ∫¶Êù°ÂíåÊó∂Èó¥ÊòæÁ§∫Ôºà‰∏çÈáçÁΩÆËøõÂ∫¶Ôºâ
        if (playerProgressSlider) {
            playerProgressSlider.disabled = false;
            playerProgressSlider.max = 100;
            
            // Ê†πÊçÆËøáÊª§ÂêéÁöÑÁÇπËÆæÁΩÆÂàùÂßãËøõÂ∫¶
            if (playbackState.filteredPoints.length > 0) {
                const initialProgress = Math.round((playbackState.currentIndex / (playbackState.filteredPoints.length - 1)) * 100);
                playerProgressSlider.value = initialProgress;
            }
        }
        
        if (playerSpeedValue) {
            // ÊòæÁ§∫ÊåáÊï∞ÂÄçÊï∞
            const displaySpeed = playbackState.speed || 1;
            playerSpeedValue.textContent = displaySpeed + 'x';
        }

        // ÂàùÂßãÂåñÊó∂Èó¥ÊòæÁ§∫Ôºà‰ΩøÁî®ËøáÊª§ÂêéÁöÑÁÇπÔºâ
        if (playbackState.filteredPoints.length > 0) {
            const currentPoint = playbackState.filteredPoints[playbackState.currentIndex];
            const lastPoint = playbackState.filteredPoints[playbackState.filteredPoints.length - 1];
            
            if (currentPoint && lastPoint) {
                const currentTime = formatTime(currentPoint.timestamp);
                const totalTime = formatTime(lastPoint.timestamp);
                
                const currentTimeElement = document.getElementById('currentTime');
                const totalTimeElement = document.getElementById('totalTime');
                if (currentTimeElement) currentTimeElement.textContent = currentTime;
                if (totalTimeElement) totalTimeElement.textContent = totalTime;
            }
        }

        // ÂºÄÂßãÊí≠Êîæ
        playbackNextPoint();
        updateStatus('ËΩ®ËøπÂõûÊîæÂºÄÂßã');
    }

    function playbackNextPoint() {
        if (!playbackState.isPlaying || !playbackState.filteredPoints || playbackState.currentIndex >= playbackState.filteredPoints.length) {
            // Âè™ÊúâÂú®Êí≠ÊîæÂÆåÊàêÊó∂ÊâçÂÅúÊ≠¢Âπ∂ÈáçÁΩÆÔºåÊöÇÂÅúÊó∂‰∏çÂÅúÊ≠¢
            if (playbackState.currentIndex >= playbackState.filteredPoints.length) {
                // Êí≠ÊîæÂÆåÊàêÔºåÂè™ÈáçÁΩÆÁä∂ÊÄÅ‰ΩÜ‰∏çÊ∏ÖÈô§ËΩ®ËøπÁ∫ø
                playbackState.isPlaying = false;
                playbackState.currentIndex = 0;
                
                // Ê∏ÖÈô§ÂÆöÊó∂Âô®
                if (playbackState.timer) {
                    clearTimeout(playbackState.timer);
                    playbackState.timer = null;
                }
                
                // Ê∏ÖÈô§Ê†áËÆ∞Ôºà‰øùÁïôËΩ®ËøπÁ∫øÔºâ
                if (playbackState.marker) {
                    map.removeLayer(playbackState.marker);
                    playbackState.marker = null;
                }
                
                // Êí≠ÊîæÂÆåÊàêÊó∂‰∏çÈúÄË¶ÅÈáçÁΩÆÊó∂Èó¥ÊòæÁ§∫Ôºå‰øùÊåÅÂΩìÂâçÊó∂Èó¥
                // ‰πü‰∏çÈúÄË¶ÅÈáçÁΩÆËøõÂ∫¶Êù°‰ΩçÁΩÆ
                // const currentTimeElement = document.getElementById('currentTime');
                // const totalTimeElement = document.getElementById('totalTime');
                // if (currentTimeElement) currentTimeElement.textContent = '00:00:00';
                // if (totalTimeElement) totalTimeElement.textContent = '00:00:00';
                
                // Êõ¥Êñ∞Êí≠ÊîæÂô®ÊéßÂà∂Áä∂ÊÄÅÔºàÂ¶ÇÊûúÊí≠ÊîæÂô®ÂÖÉÁ¥†Â≠òÂú®Ôºâ
                if (playbackPlayer) {
                    updatePlayerControls();
                }
                
                updateStatus('ËΩ®ËøπÂõûÊîæÂÆåÊàê');
            }
            return;
        }

        const point = playbackState.filteredPoints[playbackState.currentIndex];

        // Êõ¥Êñ∞Ê†áËÆ∞‰ΩçÁΩÆ
        playbackState.marker.setLatLng([point.lat, point.lng]);
        playbackState.marker.bindPopup(`ÂõûÊîæÁÇπ ${playbackState.currentIndex + 1}<br>Êó∂Èó¥: ${point.timestamp}<br>ÁªèÂ∫¶: ${point.lng.toFixed(6)}<br>Á∫¨Â∫¶: ${point.lat.toFixed(6)}`);

        // Êõ¥Êñ∞ËΩ®ËøπÁ∫ø
        const currentLatlngs = playbackState.filteredPoints.slice(0, playbackState.currentIndex + 1).map(p => [p.lat, p.lng]);
        playbackState.polyline.setLatLngs(currentLatlngs);

        // Ê£ÄÊü•ÁÇπÊòØÂê¶Âú®Â±èÂπïÂèØËßÅËåÉÂõ¥ÂÜÖÔºåÂè™Êúâ‰∏çÂú®ÂèØËßÅËåÉÂõ¥ÂÜÖÊó∂ÊâçÂ±Ö‰∏≠
        const pointLatLng = L.latLng(point.lat, point.lng);
        const bounds = map.getBounds();
        
        // Â¶ÇÊûúÁÇπ‰∏çÂú®ÂΩìÂâçÂú∞ÂõæËæπÁïåÂÜÖÔºåÊàñËÄÖË∑ùÁ¶ªËæπÁïåÂ§™ËøëÔºàÂ∞è‰∫éÂú∞ÂõæÂÆΩÈ´òÁöÑ10%ÔºâÔºåÂàôÂ±Ö‰∏≠
        if (!bounds.contains(pointLatLng)) {
            // ÁÇπÂÆåÂÖ®‰∏çÂú®Â±èÂπïÂÜÖÔºåÈúÄË¶ÅÂ±Ö‰∏≠
            map.setView([point.lat, point.lng], map.getZoom(), {
                animate: true,
                duration: 0.3
            });
        } else {
            // ÁÇπÂú®Â±èÂπïÂÜÖÔºåÊ£ÄÊü•ÊòØÂê¶Èù†ËøëËæπÁïåÔºàË∑ùÁ¶ªËæπÁïåÂ∞è‰∫éÂú∞ÂõæÂÆΩÈ´òÁöÑ10%Ôºâ
            const boundsPad = bounds.pad(-0.1); // ÂÜÖÁº©10%ÁöÑËæπÁïå
            if (!boundsPad.contains(pointLatLng)) {
                // ÁÇπÈù†ËøëËæπÁïåÔºåÂ±Ö‰∏≠ÊòæÁ§∫
                map.setView([point.lat, point.lng], map.getZoom(), {
                    animate: true,
                    duration: 0.3
                });
            }
            // ÁÇπÂú®Â±èÂπï‰∏≠Â§ÆÂå∫ÂüüÔºå‰∏çÈúÄË¶ÅÂ±Ö‰∏≠
        }

        // Ê†ºÂºèÂåñÊó∂Èó¥ÊòæÁ§∫ÂáΩÊï∞
        function formatTime(timestamp) {
            const date = parseTimestamp(timestamp);
            if (!date) return '00:00:00';
            
            const hours = date.getHours().toString().padStart(2, '0');
            const minutes = date.getMinutes().toString().padStart(2, '0');
            const seconds = date.getSeconds().toString().padStart(2, '0');
            return hours + ':' + minutes + ':' + seconds;
        }

        // Êõ¥Êñ∞ËøõÂ∫¶Êù°ÂíåÊó∂Èó¥ÊòæÁ§∫
        if (playerProgressSlider && playbackState.filteredPoints.length > 0) {
            const percentage = Math.round((playbackState.currentIndex / (playbackState.filteredPoints.length - 1)) * 100);
            playerProgressSlider.value = percentage;
        }
        
        // Êõ¥Êñ∞Êó∂Èó¥ÊòæÁ§∫ÔºàÂ¶ÇÊûúÊí≠ÊîæÂô®ÂÖÉÁ¥†Â≠òÂú®Ôºâ
        if (playbackState.filteredPoints.length > 0) {
            const currentPoint = playbackState.filteredPoints[playbackState.currentIndex];
            const lastPoint = playbackState.filteredPoints[playbackState.filteredPoints.length - 1];
            
            if (currentPoint && lastPoint) {
                const currentTime = formatTime(currentPoint.timestamp);
                const totalTime = formatTime(lastPoint.timestamp);
                
                // Êõ¥Êñ∞‰∏§Ë°åÊó∂Èó¥ÊòæÁ§∫
                const currentTimeElement = document.getElementById('currentTime');
                const totalTimeElement = document.getElementById('totalTime');
                if (currentTimeElement) currentTimeElement.textContent = currentTime;
                if (totalTimeElement) totalTimeElement.textContent = totalTime;
            }
        }

        // Êõ¥Êñ∞Áä∂ÊÄÅ
        const progress = Math.round((playbackState.currentIndex / (playbackState.filteredPoints.length - 1)) * 100);
        updateStatus(`ËΩ®ËøπÂõûÊîæ‰∏≠... ${progress}%`);

        playbackState.currentIndex++;

        // ËÆæÁΩÆ‰∏ã‰∏Ä‰∏™ÁÇπÁöÑÊí≠ÊîæÂª∂Ëøü
        const speed = playbackState.speed || 1;
        const delay = 1000 / speed; // ÈÄüÂ∫¶Ë∂äÂø´ÔºåÂª∂ËøüË∂äÁü≠

        playbackState.timer = setTimeout(playbackNextPoint, delay);
    }

    function pausePlayback() {
        playbackState.isPlaying = false;
        
        // Ê∏ÖÈô§ÂÆöÊó∂Âô®
        if (playbackState.timer) {
            clearTimeout(playbackState.timer);
            playbackState.timer = null;
        }
        
        // Êõ¥Êñ∞Êí≠ÊîæÂô®ÊéßÂà∂Áä∂ÊÄÅ
        if (playbackPlayer) {
            updatePlayerControls();
        }
        
        updateStatus('ËΩ®ËøπÂõûÊîæÂ∑≤ÊöÇÂÅú');
    }

    function stopPlayback() {
        playbackState.isPlaying = false;
        playbackState.currentIndex = 0;

        // Ê∏ÖÈô§ÂÆöÊó∂Âô®
        if (playbackState.timer) {
            clearTimeout(playbackState.timer);
            playbackState.timer = null;
        }

        // Ê∏ÖÈô§ÂõûÊîæÂÖÉÁ¥†
        if (playbackState.marker) {
            map.removeLayer(playbackState.marker);
            playbackState.marker = null;
        }
        if (playbackState.polyline) {
            map.removeLayer(playbackState.polyline);
            playbackState.polyline = null;
        }

        // ÈáçÁΩÆËøõÂ∫¶Êù°ÂíåÊó∂Èó¥ÊòæÁ§∫
        if (playerProgressSlider) {
            playerProgressSlider.value = 0;
        }
        // ÈáçÁΩÆÂΩìÂâçÊó∂Èó¥‰∏∫ËøáÊª§ÂêéËΩ®ËøπÁÇπÁöÑÁ¨¨‰∏Ä‰∏™ÁÇπÊó∂Èó¥
        const currentTimeElement = document.getElementById('currentTime');
        if (currentTimeElement && playbackState.filteredPoints && playbackState.filteredPoints.length > 0) {
            const firstPoint = playbackState.filteredPoints[0];
            if (firstPoint && firstPoint.timestamp) {
                currentTimeElement.textContent = formatTime(firstPoint.timestamp);
            } else {
                currentTimeElement.textContent = '00:00:00';
            }
        } else if (currentTimeElement) {
            currentTimeElement.textContent = '00:00:00';
        }
        // ‰∏çÈáçÁΩÆtotalTimeElementÔºå‰øùÊåÅÁªìÊùüÊó∂Èó¥ÊòæÁ§∫
        
        // Êõ¥Êñ∞Êí≠ÊîæÂô®ÊéßÂà∂Áä∂ÊÄÅÔºàÂ¶ÇÊûúÊí≠ÊîæÂô®ÂÖÉÁ¥†Â≠òÂú®Ôºâ
        if (playbackPlayer) {
            updatePlayerControls();
        }
        
        updateStatus('ËΩ®ËøπÂõûÊîæÂ∑≤ÂÅúÊ≠¢');

        // ÈáçÁΩÆÊªëÂùó
        const playbackTimeSlider = document.getElementById('playbackTimeSlider');
        if (playbackTimeSlider) {
            playbackTimeSlider.value = 0;
            playbackTimeSlider.disabled = true;
        }

        // ÂêåÊ≠•Êõ¥Êñ∞Â∫ïÈÉ®Âõ∫ÂÆöÊí≠ÊîæÊéßÂà∂Èù¢Êùø
        const playbackTimeSliderFixed = document.getElementById('playbackTimeSliderFixed');
        if (playbackTimeSliderFixed) {
            playbackTimeSliderFixed.value = 0;
            playbackTimeSliderFixed.disabled = true;
        }

        updateStatus('ËΩ®ËøπÂõûÊîæÂ∑≤ÂÅúÊ≠¢');
    }

    function jumpToPoint(index) {
        if (!playbackState.filteredPoints || index < 0 || index >= playbackState.filteredPoints.length) {
            return;
        }

        playbackState.currentIndex = index;

        // Â¶ÇÊûúÊ≠£Âú®Êí≠ÊîæÔºåÊöÇÂÅú
        if (playbackState.isPlaying) {
            pausePlayback();
        }

        // ÂàõÂª∫ÂõûÊîæÂÖÉÁ¥†ÔºàÂ¶ÇÊûú‰∏çÂ≠òÂú®Ôºâ
        if (!playbackState.marker) {
            const point = playbackState.filteredPoints[0];
            playbackState.marker = L.circleMarker([point.lat, point.lng], {
                radius: 0.5,
                fillColor: currentTrackLineColor,
                color: '#FFFFFF',
                weight: 0.5,
                opacity: 1,
                fillOpacity: 0.8
            }).addTo(map);
        }

        if (!playbackState.polyline) {
            const latlngs = playbackState.filteredPoints.map(p => [p.lat, p.lng]);
            playbackState.polyline = L.polyline(latlngs, {
                color: currentTrackLineColor,
                weight: 1,
                opacity: 0.6
            }).addTo(map);
        }

        // Ë∑≥ËΩ¨Âà∞ÊåáÂÆöÁÇπ
        const point = playbackState.filteredPoints[index];
        playbackState.marker.setLatLng([point.lat, point.lng]);
        playbackState.marker.bindPopup(`ÂõûÊîæÁÇπ ${index + 1}<br>Êó∂Èó¥: ${point.timestamp}<br>ÁªèÂ∫¶: ${point.lng.toFixed(6)}<br>Á∫¨Â∫¶: ${point.lat.toFixed(6)}`);

        // Êõ¥Êñ∞ËΩ®ËøπÁ∫ø
        const currentLatlngs = playbackState.filteredPoints.slice(0, index + 1).map(p => [p.lat, p.lng]);
        playbackState.polyline.setLatLngs(currentLatlngs);

        // Êõ¥Êñ∞Áä∂ÊÄÅ
        const progress = Math.round((index / (playbackState.filteredPoints.length - 1)) * 100);
        updateStatus(`ËΩ®ËøπÂõûÊîæÂ∑≤Ë∑≥ËΩ¨Âà∞ ${progress}%`);
    }

    // ÂàÜÂâ≤Âô®ÁªòÂà∂


    // ËΩ®ËøπÂõûÊîæÊéßÂà∂ - ‰ΩøÁî®Êñ∞ÁöÑÊí≠ÊîæÂô®ÊéßÂà∂Èù¢Êùø
    function startPlayback() {
        // Ê£ÄÊü•ÊòØÂê¶ÊúâËΩ®ËøπÁÇπ
        if (!playbackState.points || playbackState.points.length === 0) {
            updateStatus('ÊöÇÊó†ËΩ®ËøπÊï∞ÊçÆÔºåÊó†Ê≥ïÂºÄÂßãÂõûÊîæ');
            return;
        }

        if (playbackState.isPlaying) {
            return;
        }

        // Â∫îÁî®Êó∂Èó¥ËåÉÂõ¥ËøáÊª§
        applyTimeRangeFilter();
        
        // Ê£ÄÊü•ËøáÊª§ÂêéÁöÑËΩ®ËøπÁÇπ
        if (!playbackState.filteredPoints || playbackState.filteredPoints.length < 2) {
            updateStatus('ÊúâÊïàËΩ®ËøπÁÇπ‰∏çË∂≥ÔºåËá≥Â∞ëÈúÄË¶Å‰∏§ÁÇπ');
            return;
        }

        // ÂÅúÊ≠¢‰πãÂâçÁöÑÂõûÊîæÔºà‰ΩÜ‰∏çÈáçÁΩÆcurrentIndexÔºâ
        if (playbackState.timer) {
            clearTimeout(playbackState.timer);
            playbackState.timer = null;
        }

        playbackState.isPlaying = true;
        // ‰∏çÈáçÁΩÆcurrentIndexÔºå‰øùÊåÅÂΩìÂâçÊí≠Êîæ‰ΩçÁΩÆ

        // Â¶ÇÊûúÊí≠ÊîæÂÖÉÁ¥†‰∏çÂ≠òÂú®ÔºåÂàõÂª∫ÂÆÉ‰ª¨
        if (!playbackState.marker || !playbackState.polyline) {
            // Ê∏ÖÈô§‰πãÂâçÁöÑÂõûÊîæÂÖÉÁ¥†
            if (playbackState.marker) {
                map.removeLayer(playbackState.marker);
            }
            if (playbackState.polyline) {
                map.removeLayer(playbackState.polyline);
            }

            // ÂàõÂª∫ÂõûÊîæËΩ®ËøπÁ∫øÔºà‰ΩøÁî®ËøáÊª§ÂêéÁöÑÁÇπÔºâ
            const latlngs = playbackState.filteredPoints.map(p => [p.lat, p.lng]);
            playbackState.polyline = L.polyline(latlngs, {
                color: currentTrackLineColor,
                weight: 1,
                opacity: 0.6
            }).addTo(map);

            // ÂàõÂª∫ÂõûÊîæÊ†áËÆ∞Ôºà‰ΩøÁî®ËøáÊª§ÂêéÁöÑÁ¨¨‰∏Ä‰∏™ÁÇπÔºâ
            const firstPoint = playbackState.filteredPoints[0];
            playbackState.marker = L.circleMarker([firstPoint.lat, firstPoint.lng], {
                radius: 0.5,
                fillColor: currentTrackLineColor,
                color: '#FFFFFF',
                weight: 0.5,
                opacity: 1,
                fillOpacity: 0.8
            }).addTo(map);

            // Ëá™ÈÄÇÂ∫îËßÜÈáéÂà∞ËΩ®ËøπËåÉÂõ¥
            const bounds = playbackState.polyline.getBounds();
            if (bounds && bounds.isValid()) {
                map.fitBounds(bounds, { padding: [20, 20] });
            }
        }

        // Êõ¥Êñ∞Êí≠ÊîæÂô®ÊéßÂà∂Áä∂ÊÄÅ
        updatePlayerControls();
        
        // ËÆæÁΩÆËøõÂ∫¶Êù°ÂíåÊó∂Èó¥ÊòæÁ§∫Ôºà‰∏çÈáçÁΩÆËøõÂ∫¶Ôºâ
        if (playerProgressSlider) {
            playerProgressSlider.disabled = false;
            playerProgressSlider.max = 100;
        }
        
        if (playerSpeedValue) {
            // ÊòæÁ§∫ÊåáÊï∞ÂÄçÊï∞
            const displaySpeed = playbackState.speed || 1;
            playerSpeedValue.textContent = displaySpeed + 'x';
        }

        // ÂºÄÂßãÊí≠Êîæ
        playbackNextPoint();
        updateStatus('ËΩ®ËøπÂõûÊîæÂºÄÂßã');
    }

    function stopPlayback() {
        playbackState.isPlaying = false;
        playbackState.currentIndex = 0;

        // Ê∏ÖÈô§ÂÆöÊó∂Âô®
        if (playbackState.timer) {
            clearTimeout(playbackState.timer);
            playbackState.timer = null;
        }

        // Ê∏ÖÈô§ÂõûÊîæÂÖÉÁ¥†
        if (playbackState.marker) {
            map.removeLayer(playbackState.marker);
            playbackState.marker = null;
        }
        if (playbackState.polyline) {
            map.removeLayer(playbackState.polyline);
            playbackState.polyline = null;
        }

        // ÈáçÁΩÆËøõÂ∫¶Êù°ÂíåÊó∂Èó¥ÊòæÁ§∫
        if (playerProgressSlider) {
            playerProgressSlider.value = 0;
        }
        // ÈáçÁΩÆÂΩìÂâçÊó∂Èó¥‰∏∫ËøáÊª§ÂêéËΩ®ËøπÁÇπÁöÑÁ¨¨‰∏Ä‰∏™ÁÇπÊó∂Èó¥
        const currentTimeElement = document.getElementById('currentTime');
        if (currentTimeElement && playbackState.filteredPoints && playbackState.filteredPoints.length > 0) {
            const firstPoint = playbackState.filteredPoints[0];
            if (firstPoint && firstPoint.timestamp) {
                currentTimeElement.textContent = formatTime(firstPoint.timestamp);
            } else {
                currentTimeElement.textContent = '00:00:00';
            }
        } else if (currentTimeElement) {
            currentTimeElement.textContent = '00:00:00';
        }
        
        // Êõ¥Êñ∞Êí≠ÊîæÂô®ÊéßÂà∂Áä∂ÊÄÅÔºàÂ¶ÇÊûúÊí≠ÊîæÂô®ÂÖÉÁ¥†Â≠òÂú®Ôºâ
        if (playbackPlayer) {
            updatePlayerControls();
        }
        
        updateStatus('ËΩ®ËøπÂõûÊîæÂ∑≤ÂÅúÊ≠¢');
    }

    function scheduleNextPlayback() {
        if (!playbackState.isPlaying || !playbackState.filteredPoints || playbackState.currentIndex >= playbackState.filteredPoints.length - 1) {
            if (playbackState.currentIndex >= playbackState.filteredPoints.length - 1) {
                updateStatus('ËΩ®ËøπÂõûÊîæÂÆåÊàê');
                // Êí≠ÊîæÂÆåÊàêÊó∂‰∏çÊ∏ÖÈô§ËΩ®ËøπÁ∫øÔºåÂè™ÂÅúÊ≠¢Êí≠ÊîæÂπ∂ÈáçÁΩÆÁä∂ÊÄÅ
                playbackState.isPlaying = false;
                playbackState.currentIndex = 0;
                
                // Ê∏ÖÈô§ÂÆöÊó∂Âô®
                if (playbackState.timer) {
                    clearTimeout(playbackState.timer);
                    playbackState.timer = null;
                }
                
                // Âè™Ê∏ÖÈô§Ê†áËÆ∞Ôºå‰øùÁïôËΩ®ËøπÁ∫ø
                if (playbackState.marker) {
                    map.removeLayer(playbackState.marker);
                    playbackState.marker = null;
                }
                
                // ÈáçÁΩÆÂΩìÂâçÊó∂Èó¥Ôºå‰øùÊåÅÁªìÊùüÊó∂Èó¥‰∏çÂèòÔºà‰øùÁïôËøõÂ∫¶Êù°‰ΩçÁΩÆÔºâ
                const currentTimeElement = document.getElementById('currentTime');
                if (currentTimeElement) currentTimeElement.textContent = '00:00:00';
                // ‰∏çÈáçÁΩÆtotalTimeElementÔºå‰øùÊåÅÁªìÊùüÊó∂Èó¥ÊòæÁ§∫
                
                // Êõ¥Êñ∞Êí≠ÊîæÂô®ÊéßÂà∂Áä∂ÊÄÅ
                if (playbackPlayer) {
                    updatePlayerControls();
                }
                
                // Êí≠ÊîæÂÆåÊàêÊó∂‰∏çÈúÄË¶ÅÈáçÁΩÆÊó∂Èó¥ÊªëÂùóÔºå‰øùÊåÅÂΩìÂâç‰ΩçÁΩÆ
                // const playbackTimeSlider = document.getElementById('playbackTimeSlider');
                // if (playbackTimeSlider) {
                //     playbackTimeSlider.value = 0;
                //     playbackTimeSlider.disabled = true;
                // }
                
                // ÂêåÊ≠•Êõ¥Êñ∞Â∫ïÈÉ®Âõ∫ÂÆöÊí≠ÊîæÊéßÂà∂Èù¢Êùø
                // const playbackTimeSliderFixed = document.getElementById('playbackTimeSliderFixed');
                // if (playbackTimeSliderFixed) {
                //     playbackTimeSliderFixed.value = 0;
                //     playbackTimeSliderFixed.disabled = true;
                // }
            }
            return; // Â¶ÇÊûúÊòØÊöÇÂÅúÔºåÁõ¥Êé•ËøîÂõûÔºå‰∏çÂÅúÊ≠¢Êí≠Êîæ
        }

        const next = playbackState.filteredPoints[playbackState.currentIndex + 1];
        const speed = playbackState.speed || 1;
        const delay = Math.max(100, Math.round(1000 / speed));

        playbackState.timer = setTimeout(() => {
            playbackState.currentIndex++;

            // Êõ¥Êñ∞Ê†áËÆ∞‰ΩçÁΩÆ
            if (playbackState.marker) {
                playbackState.marker.setLatLng([next.lat, next.lng]);
                playbackState.marker.bindPopup(`ÂõûÊîæÁÇπ ${playbackState.currentIndex + 1}<br>Êó∂Èó¥: ${next.timestamp}<br>ÁªèÂ∫¶: ${next.lng.toFixed(6)}<br>Á∫¨Â∫¶: ${next.lat.toFixed(6)}`);
            }

            // Êõ¥Êñ∞ËΩ®ËøπÁ∫ø
            if (playbackState.polyline) {
                const currentLatlngs = playbackState.filteredPoints.slice(0, playbackState.currentIndex + 1).map(p => [p.lat, p.lng]);
                playbackState.polyline.setLatLngs(currentLatlngs);
            }

            // Ê£ÄÊü•ÁÇπÊòØÂê¶Âú®Â±èÂπïÂèØËßÅËåÉÂõ¥ÂÜÖÔºåÂè™Êúâ‰∏çÂú®ÂèØËßÅËåÉÂõ¥ÂÜÖÊó∂ÊâçÂ±Ö‰∏≠
            const pointLatLng = L.latLng(next.lat, next.lng);
            const bounds = map.getBounds();
            
            // Â¶ÇÊûúÁÇπ‰∏çÂú®ÂΩìÂâçÂú∞ÂõæËæπÁïåÂÜÖÔºåÊàñËÄÖË∑ùÁ¶ªËæπÁïåÂ§™ËøëÔºàÂ∞è‰∫éÂú∞ÂõæÂÆΩÈ´òÁöÑ10%ÔºâÔºåÂàôÂ±Ö‰∏≠
            if (!bounds.contains(pointLatLng)) {
                // ÁÇπÂÆåÂÖ®‰∏çÂú®Â±èÂπïÂÜÖÔºåÈúÄË¶ÅÂ±Ö‰∏≠
                map.setView([next.lat, next.lng], map.getZoom(), {
                    animate: true,
                    duration: 0.3
                });
            } else {
                // ÁÇπÂú®Â±èÂπïÂÜÖÔºåÊ£ÄÊü•ÊòØÂê¶Èù†ËøëËæπÁïåÔºàË∑ùÁ¶ªËæπÁïåÂ∞è‰∫éÂú∞ÂõæÂÆΩÈ´òÁöÑ10%Ôºâ
                const boundsPad = bounds.pad(-0.1); // ÂÜÖÁº©10%ÁöÑËæπÁïå
                if (!boundsPad.contains(pointLatLng)) {
                    // ÁÇπÈù†ËøëËæπÁïåÔºåÂ±Ö‰∏≠ÊòæÁ§∫
                    map.setView([next.lat, next.lng], map.getZoom(), {
                        animate: true,
                        duration: 0.3
                    });
                }
                // ÁÇπÂú®Â±èÂπï‰∏≠Â§ÆÂå∫ÂüüÔºå‰∏çÈúÄË¶ÅÂ±Ö‰∏≠
            }

            // Êõ¥Êñ∞ËøõÂ∫¶Êù°ÂíåÊó∂Èó¥ÊòæÁ§∫
            if (playerProgressSlider && playbackState.filteredPoints.length > 0) {
                const percentage = Math.round((playbackState.currentIndex / (playbackState.filteredPoints.length - 1)) * 100);
                playerProgressSlider.value = percentage;
            }
            
            if (playbackState.filteredPoints.length > 0) {
                const currentPoint = playbackState.filteredPoints[playbackState.currentIndex];
                const lastPoint = playbackState.filteredPoints[playbackState.filteredPoints.length - 1];
                
                if (currentPoint && lastPoint) {
                    const currentTime = formatTime(currentPoint.timestamp);
                    const totalTime = formatTime(lastPoint.timestamp);
                    
                    // Êõ¥Êñ∞‰∏§Ë°åÊó∂Èó¥ÊòæÁ§∫
                    const currentTimeElement = document.getElementById('currentTime');
                    const totalTimeElement = document.getElementById('totalTime');
                    if (currentTimeElement) currentTimeElement.textContent = currentTime;
                    if (totalTimeElement) totalTimeElement.textContent = totalTime;
                }
            }

            // ÁªßÁª≠‰∏ã‰∏Ä‰∏™ÁÇπ
            scheduleNextPlayback();
        }, delay);
    }

    // Ê†ºÂºèÂåñÊó∂Èó¥ÊòæÁ§∫ÂáΩÊï∞
    function formatTime(timestamp) {
        const date = parseTimestamp(timestamp);
        if (!date) return '00:00';
        
        const hours = date.getHours().toString().padStart(2, '0');
        const minutes = date.getMinutes().toString().padStart(2, '0');
        return hours + ':' + minutes;
    }

    // ÊóßÁâàÊó∂Èó¥ÊªëÂùóÈÖçÁΩÆÂáΩÊï∞ - Â∑≤Â∫üÂºÉÔºå‰øùÁïôÂÖºÂÆπÊÄß
    function configureTimeSlider() {
        const slider = document.getElementById('playbackTimeSlider');
        if (!slider) return;

        // Á©∫ËΩ®ËøπÊó∂ËÆæÁΩÆÊªëÂùó‰∏∫Á¶ÅÁî®Áä∂ÊÄÅ
        if (playbackState.filteredPoints.length === 0) {
            slider.disabled = true;
            slider.min = 0;
            slider.max = 0;
            slider.value = 0;
            
            // ÂêåÊ≠•Êõ¥Êñ∞Â∫ïÈÉ®Âõ∫ÂÆöÊí≠ÊîæÊéßÂà∂Èù¢Êùø
            const sliderFixed = document.getElementById('playbackTimeSliderFixed');
            if (sliderFixed) {
                sliderFixed.disabled = true;
                sliderFixed.min = 0;
                sliderFixed.max = 0;
                sliderFixed.value = 0;
            }
            return;
        }

        slider.disabled = false;
        slider.min = 0;
        slider.max = playbackState.filteredPoints.length - 1;
        // ‰∏çÈáçÁΩÆÊªëÂùóÂÄºÔºå‰øùÊåÅÂΩìÂâçÊí≠Êîæ‰ΩçÁΩÆ
        if (playbackState.currentIndex >= 0 && playbackState.currentIndex < playbackState.filteredPoints.length) {
            slider.value = playbackState.currentIndex;
        }

        // ÂêåÊ≠•Êõ¥Êñ∞Â∫ïÈÉ®Âõ∫ÂÆöÊí≠ÊîæÊéßÂà∂Èù¢Êùø
        const sliderFixed = document.getElementById('playbackTimeSliderFixed');
        if (sliderFixed) {
            sliderFixed.disabled = false;
            sliderFixed.min = 0;
            sliderFixed.max = playbackState.filteredPoints.length - 1;
            // ‰∏çÈáçÁΩÆÊªëÂùóÂÄºÔºå‰øùÊåÅÂΩìÂâçÊí≠Êîæ‰ΩçÁΩÆ
            if (playbackState.currentIndex >= 0 && playbackState.currentIndex < playbackState.filteredPoints.length) {
                sliderFixed.value = playbackState.currentIndex;
            }
        }
    }

    function updateTimeSlider() {
        const slider = document.getElementById('playbackTimeSlider');
        if (slider) {
            slider.value = playbackState.currentIndex;
        }

        // ÂêåÊ≠•Êõ¥Êñ∞Â∫ïÈÉ®Âõ∫ÂÆöÊí≠ÊîæÊéßÂà∂Èù¢Êùø
        const sliderFixed = document.getElementById('playbackTimeSliderFixed');
        if (sliderFixed) {
            sliderFixed.value = playbackState.currentIndex;
        }
    }

    function updatePlaybackTimeLabel(timestamp) {
        const label = document.getElementById('playbackTimeLabel');
        if (label) {
            if (timestamp) {
                label.textContent = `Êó∂Èó¥: ${timestamp}`;
            } else {
                label.textContent = 'Êó∂Èó¥: --';
            }
        }

        // ÂêåÊ≠•Êõ¥Êñ∞Â∫ïÈÉ®Âõ∫ÂÆöÊí≠ÊîæÊéßÂà∂Èù¢Êùø
        const labelFixed = document.getElementById('playbackTimeLabelFixed');
        if (labelFixed) {
            if (timestamp) {
                labelFixed.textContent = `Êó∂Èó¥: ${timestamp}`;
            } else {
                labelFixed.textContent = 'Êó∂Èó¥: --';
            }
        }
    }

    // ÊµãÈáèÂäüËÉΩ


    function startMeasureDistance() {
        if (!map) return;

        clearMeasureResult();

        measureState.isActive = true;
        measureState.mode = 'distance';

        // Á¶ÅÁî®ÊµãÈáèÊåâÈíÆ
        document.getElementById('measureDistanceBtn').classList.add('active');
        document.getElementById('measureAreaBtn').disabled = true;

        // Á¶ÅÁî®Âú∞ÂõæÂèåÂáªÁº©ÊîæÂäüËÉΩ
        map.doubleClickZoom.disable();

        // ËÆæÁΩÆÊõ¥ÁÅµÊïèÁöÑÂèåÂáªÊ£ÄÊµãÂèÇÊï∞
        if (map.options) {
            map.options.doubleClickZoom = false;
            map.options.tap = false; // Á¶ÅÁî®Ëß¶Êë∏Âª∂Ëøü
        }

        // ËÆæÁΩÆÊõ¥ÁÅµÊïèÁöÑÂèåÂáªÊ£ÄÊµãÂèÇÊï∞
        if (map.options) {
            map.options.doubleClickZoom = false;
            map.options.tap = false; // Á¶ÅÁî®Ëß¶Êë∏Âª∂Ëøü
        }

        // ÁªëÂÆöÂú∞Âõæ‰∫ã‰ª∂
        map.on('click', handleMeasureClick);
        map.on('mousemove', handleMeasureMouseMove);
        map.on('contextmenu', handleDistanceMeasureRightClick); // Âè≥ÈîÆÁªìÊùüÊµãÈáè

        updateStatus('ÊµãË∑ùÊ®°ÂºèÂ∑≤ÊøÄÊ¥ªÔºåÁÇπÂáªÂú∞ÂõæÂºÄÂßãÊµãÈáèÔºåÂè≥ÈîÆÁªìÊùüÊµãÈáè');
    }

    // Âè≥ÈîÆÁªìÊùüÊµãË∑ù
    function handleDistanceMeasureRightClick(e) {
        // ÈòªÊ≠¢Âè≥ÈîÆËèúÂçïÁöÑÈªòËÆ§Ë°å‰∏∫
        if (e && e.originalEvent) {
            e.originalEvent.preventDefault();
            e.originalEvent.stopPropagation();
        }

        // Á°Æ‰øùËá≥Â∞ëÊúâ2‰∏™ÁÇπÊâçËÉΩÂΩ¢ÊàêÁ∫øÊÆµ
        if (measureState.points.length >= 2) {
            finishMeasureDistance();
        } else {
            alert('ËØ∑Ëá≥Â∞ëÁÇπÂáª2‰∏™ÁÇπÂΩ¢ÊàêÁ∫øÊÆµÂêéÂÜçÂè≥ÈîÆÁªìÊùüÊµãÈáè');
        }

        return false;
    }

    // Âè≥ÈîÆÁªìÊùüÊµãÈù¢
    function handleAreaMeasureRightClick(e) {
        // ÈòªÊ≠¢Âè≥ÈîÆËèúÂçïÁöÑÈªòËÆ§Ë°å‰∏∫
        if (e && e.originalEvent) {
            e.originalEvent.preventDefault();
            e.originalEvent.stopPropagation();
        }

        // Á°Æ‰øùËá≥Â∞ëÊúâ3‰∏™ÁÇπÊâçËÉΩÂΩ¢ÊàêÂ§öËæπÂΩ¢
        if (measureState.points.length >= 3) {
            finishMeasureArea();
        } else {
            alert('ËØ∑Ëá≥Â∞ëÁÇπÂáª3‰∏™ÁÇπÂΩ¢ÊàêÂ§öËæπÂΩ¢ÂêéÂÜçÂè≥ÈîÆÁªìÊùüÊµãÈáè');
        }

        return false;
    }

    function startMeasureArea() {
        if (!map) return;

        clearMeasureResult();

        measureState.isActive = true;
        measureState.mode = 'area';

        // Á¶ÅÁî®ÊµãÈáèÊåâÈíÆ
        document.getElementById('measureAreaBtn').classList.add('active');
        document.getElementById('measureDistanceBtn').disabled = true;

        // Á¶ÅÁî®Âú∞ÂõæÂèåÂáªÁº©ÊîæÂäüËÉΩ
        map.doubleClickZoom.disable();

        // ÁªëÂÆöÂú∞Âõæ‰∫ã‰ª∂
        map.on('click', handleMeasureClick);
        map.on('mousemove', handleMeasureMouseMove);
        map.on('contextmenu', handleAreaMeasureRightClick); // Âè≥ÈîÆÁªìÊùüÊµãÈáè

        updateStatus('ÊµãÈù¢Ê®°ÂºèÂ∑≤ÊøÄÊ¥ªÔºåÁÇπÂáªÂú∞ÂõæÂºÄÂßãÊµãÈáèÔºåÂè≥ÈîÆÁªìÊùüÊµãÈáè');
    }

    function handleMeasureClick(e) {
    if (!measureState.isActive) return;

    // ÈòªÊ≠¢‰∫ã‰ª∂ÂÜíÊ≥°ÔºåÈÅøÂÖçÂπ≤Êâ∞ÂèåÂáªÊ£ÄÊµã
    if (e && e.originalEvent) {
        e.originalEvent.stopPropagation();
    }

    const point = e.latlng;
    measureState.points.push(point);

    // ÂàõÂª∫ÁÇπÊ†áËÆ∞
    const marker = L.circleMarker(point, {
        color: currentOutlineColor,
        fillColor: currentFillColor,
        fillOpacity: 1,
        radius: 0.5
    });

    measureLayerGroup.addLayer(marker);
    measureState.markers.push(marker);

    if (measureState.mode === 'distance') {
        // ÊµãË∑ùÈÄªËæë
        if (measureState.points.length > 1) {
            const lastPoint = measureState.points[measureState.points.length - 2];
            const newLine = L.polyline([lastPoint, point], {
                color: currentOutlineColor,
                weight: 1,
                opacity: 1
            });

            measureLayerGroup.addLayer(newLine);
            measureState.lines.push(newLine);

            // Êõ¥Êñ∞Ë∑ùÁ¶ªÊ†áÁ≠æ
            const distance = calculateDistance(lastPoint, point);
            const center = L.latLng(
                (lastPoint.lat + point.lat) / 2,
                (lastPoint.lng + point.lng) / 2
            );
            showDistanceLabel(center, distance);
        }
    } else if (measureState.mode === 'area') {
        // ÊµãÈù¢ÈÄªËæë
        if (measureState.points.length > 1) {
            // ÂàõÂª∫Á∫øÊÆµ
            const lastPoint = measureState.points[measureState.points.length - 2];
            const newLine = L.polyline([lastPoint, point], {
                color: currentOutlineColor,
                weight: 1,
                opacity: 1
            });

            measureLayerGroup.addLayer(newLine);
            measureState.lines.push(newLine);
        }

        // ÂΩìÊúâ3‰∏™ÊàñÊõ¥Â§öÁÇπÊó∂ÔºåÊõ¥Êñ∞Â§öËæπÂΩ¢Ôºà‰ΩÜ‰∏çÊòæÁ§∫Ê†áÁ≠æÔºâ
        if (measureState.points.length >= 3) {
            // ÁßªÈô§‰πãÂâçÁöÑÂ§öËæπÂΩ¢
            if (measureState.polygon) {
                measureLayerGroup.removeLayer(measureState.polygon);
            }

            // ÂàõÂª∫Êñ∞ÁöÑÂ§öËæπÂΩ¢
            measureState.polygon = L.polygon(measureState.points, {
                color: currentOutlineColor,
                weight: 1,
                opacity: 1,
                fillColor: currentFillColor,
                fillOpacity: 0.8
            });

            measureLayerGroup.addLayer(measureState.polygon);

            // Ê≥®ÊÑèÔºöËøôÈáå‰∏çÂÜçÊòæÁ§∫Èù¢ÁßØÊ†áÁ≠æÔºåÂè™Âú®ÂèåÂáªÁªìÊùüÊó∂ÊòæÁ§∫
        }
    }
}

    function handleMeasureMouseMove(e) {
        if (!measureState.isActive || measureState.points.length === 0) return;

        const lastPoint = measureState.points[measureState.points.length - 1];
        const currentPoint = e.latlng;

        // ÁßªÈô§‰πãÂâçÁöÑ‰∏¥Êó∂Á∫ø
        if (measureState.tempLine) {
            measureLayerGroup.removeLayer(measureState.tempLine);
        }

        // ÂàõÂª∫Êñ∞ÁöÑ‰∏¥Êó∂Á∫ø
        let tempCoords = [lastPoint, currentPoint];

        // Â¶ÇÊûúÊòØÈù¢ÁßØÊµãÈáèÔºåÊ∑ªÂä†Èó≠ÂêàÁ∫ø
        if (measureState.mode === 'area' && measureState.points.length >= 2) {
            tempCoords.push(measureState.points[0]);
        }

        measureState.tempLine = L.polyline(tempCoords, {
            color: '#FFFF00',
            weight: 2,
            opacity: 0.8,
            dashArray: '5, 5'
        });

        measureLayerGroup.addLayer(measureState.tempLine);
    }

    function updateMeasurePolygon() {
        // ÁßªÈô§‰πãÂâçÁöÑÂ§öËæπÂΩ¢
        if (measureState.polygon) {
            measureLayerGroup.removeLayer(measureState.polygon);
        }

        // ÂàõÂª∫Êñ∞ÁöÑÂ§öËæπÂΩ¢
        measureState.polygon = L.polygon(measureState.points, {
            color: currentOutlineColor,
            weight: 1,
            opacity: 1,
            fillColor: currentFillColor,
            fillOpacity: 0.8
        });

        measureLayerGroup.addLayer(measureState.polygon);

        // ËÆ°ÁÆóÂπ∂ÊòæÁ§∫Èù¢ÁßØ
        const area = calculatePolygonArea(measureState.points);
        const center = getPolygonCenter(measureState.points);
        showAreaLabel(center, area);
    }

    function finishMeasureDistance() {
        if (!measureState.isActive || measureState.mode !== 'distance') return;

        // ÁßªÈô§‰∫ã‰ª∂ÁõëÂê¨
        map.off('click', handleMeasureClick);
        map.off('mousemove', handleMeasureMouseMove);
        map.off('contextmenu', handleDistanceMeasureRightClick);

        // ÈáçÊñ∞ÂêØÁî®Âú∞ÂõæÂèåÂáªÁº©ÊîæÂäüËÉΩ
        map.doubleClickZoom.enable();

        // ÊÅ¢Â§çÂú∞ÂõæÈÄâÈ°πËÆæÁΩÆ
        if (map.options) {
            map.options.doubleClickZoom = true;
            map.options.tap = true;
        }

        // ÊÅ¢Â§çÂú∞ÂõæÈÄâÈ°πËÆæÁΩÆ
        if (map.options) {
            map.options.doubleClickZoom = true;
            map.options.tap = true;
        }

        // ÁßªÈô§‰∏¥Êó∂Á∫ø
        if (measureState.tempLine) {
            measureLayerGroup.removeLayer(measureState.tempLine);
            measureState.tempLine = null;
        }

        // ÊòæÁ§∫ÊÄªË∑ùÁ¶ª
        if (measureState.points.length > 1) {
            const totalDistance = calculateTotalDistance();
            showTotalDistanceLabel(totalDistance);

            // ÈáçÊñ∞ÂàõÂª∫ÊúÄÁªàÁöÑÁ∫øÊÆµ‰ª•Á°Æ‰øùÊòæÁ§∫Ê≠£Á°Æ
            if (measureState.line) {
                measureLayerGroup.removeLayer(measureState.line);
            }

            measureState.line = L.polyline(measureState.points, {
                color: currentOutlineColor,
                weight: 1,
                opacity: 1
            });

            measureLayerGroup.addLayer(measureState.line);
        }

        // ÈáçÁΩÆÁä∂ÊÄÅ
        measureState.isActive = false;
        measureState.mode = '';

        // ÊÅ¢Â§çÊåâÈíÆÁä∂ÊÄÅ
        document.getElementById('measureDistanceBtn').classList.remove('active');
        document.getElementById('measureAreaBtn').disabled = false;

        updateStatus('ÊµãË∑ùÂÆåÊàêÔºåÊÄªË∑ùÁ¶ªÂ∑≤ÊòæÁ§∫');
    }

    function finishMeasureArea() {
        if (!measureState.isActive || measureState.mode !== 'area') return;

        // ÁßªÈô§‰∫ã‰ª∂ÁõëÂê¨
        map.off('click', handleMeasureClick);
        map.off('mousemove', handleMeasureMouseMove);
        map.off('contextmenu', handleAreaMeasureRightClick);

        // ÈáçÊñ∞ÂêØÁî®Âú∞ÂõæÂèåÂáªÁº©ÊîæÂäüËÉΩ
        map.doubleClickZoom.enable();

        // ÁßªÈô§‰∏¥Êó∂Á∫ø
        if (measureState.tempLine) {
            measureLayerGroup.removeLayer(measureState.tempLine);
            measureState.tempLine = null;
        }

        // Â¶ÇÊûúÁÇπÊï∞>=3ÔºåÊòæÁ§∫ÊÄªÈù¢ÁßØ
        if (measureState.points.length >= 3) {
            // Á°Æ‰øùÂ§öËæπÂΩ¢ÊòØÈó≠ÂêàÁöÑ
            const lastPoint = measureState.points[measureState.points.length - 1];
            const firstPoint = measureState.points[0];

            // Ê£ÄÊü•ÊòØÂê¶Â∑≤ÁªèÈó≠ÂêàÔºàÈ¶ñÂ∞æÁÇπÊòØÂê¶Áõ∏ÂêåÔºâ
            if (lastPoint.lat !== firstPoint.lat || lastPoint.lng !== firstPoint.lng) {
                // Â¶ÇÊûúÊú™Èó≠ÂêàÔºåÂ∞ÜÈ¶ñÁÇπÊ∑ªÂä†Âà∞Êú´Â∞æ‰ª•ÂΩ¢ÊàêÈó≠ÂêàÂ§öËæπÂΩ¢
                measureState.points.push(L.latLng(firstPoint.lat, firstPoint.lng));
            }

            const area = calculatePolygonArea(measureState.points);
            const center = getPolygonCenter(measureState.points);

            // Ê∏ÖÈô§‰πãÂâçÁöÑÈù¢ÁßØÊ†áÁ≠æÔºàÂ¶ÇÊûúÊúâÔºâ
            if (measureState.areaLabel) {
                measureLayerGroup.removeLayer(measureState.areaLabel);
                measureState.areaLabel = null;
            }

            // ÊòæÁ§∫ÊÄªÈù¢ÁßØÊ†áÁ≠æÔºàÂπ≥ÊñπÁ±≥+‰∫©Êï∞Ôºâ
            showTotalAreaLabel(center, area);

            // ÈáçÊñ∞ÂàõÂª∫ÊúÄÁªàÁöÑÂ§öËæπÂΩ¢‰ª•Á°Æ‰øùÈó≠Âêà
            if (measureState.polygon) {
                measureLayerGroup.removeLayer(measureState.polygon);
            }

            measureState.polygon = L.polygon(measureState.points, {
                color: currentOutlineColor,
                weight: 1,
                opacity: 1,
                fillColor: currentFillColor,
                fillOpacity: 0.8
            });

            measureLayerGroup.addLayer(measureState.polygon);
        } else {
            // ÁÇπÊï∞‰∏çË∂≥ÔºåÊ∏ÖÈô§ÊâÄÊúâÊµãÈáèÁªìÊûú
            clearMeasureResult();
        }

        // ÈáçÁΩÆÁä∂ÊÄÅ
        measureState.isActive = false;
        measureState.mode = '';

        // ÊÅ¢Â§çÊåâÈíÆÁä∂ÊÄÅ
        document.getElementById('measureAreaBtn').classList.remove('active');
        document.getElementById('measureDistanceBtn').disabled = false;

        updateStatus('ÊµãÈù¢ÂÆåÊàêÔºåÊÄªÈù¢ÁßØÂ∑≤ÊòæÁ§∫');
    }

    // Ë∑ùÁ¶ªËÆ°ÁÆó
    function calculateDistance(point1, point2) {
        return point1.distanceTo(point2);
    }

    // Â§öËæπÂΩ¢Èù¢ÁßØËÆ°ÁÆó
    function calculatePolygonArea(points) {
        if (points.length < 3) return 0;

        // ‰ΩøÁî®Turf.jsËÆ°ÁÆóÈù¢ÁßØ
        try {
            // Â∞ÜLeafletÂùêÊ†áËΩ¨Êç¢‰∏∫GeoJSONÊ†ºÂºè
            let coords = points.map(p => {
                if (p.lng !== undefined && p.lat !== undefined) {
                    return [p.lng, p.lat];
                } else if (Array.isArray(p) && p.length >= 2) {
                    // Â¶ÇÊûúÂ∑≤ÁªèÊòØÊï∞ÁªÑÊ†ºÂºè [lat, lng] Êàñ [lng, lat]
                    return [p[1], p[0]]; // ÂÅáËÆæÊòØ [lat, lng] Ê†ºÂºè
                }
                return null;
            }).filter(coord => coord !== null);

            // Á°Æ‰øùÁéØÊòØÈó≠ÂêàÁöÑÔºàËá≥Â∞ëÊúâ4‰∏™ÁÇπÔºåÈ¶ñÂ∞æÁõ∏ÂêåÔºâ
            if (coords.length >= 3) {
                // Â¶ÇÊûúÈ¶ñÂ∞æ‰∏çÁõ∏ÂêåÔºåÈó≠ÂêàÁéØ
                if (coords[0][0] !== coords[coords.length - 1][0] ||
                    coords[0][1] !== coords[coords.length - 1][1]) {
                    coords.push(coords[0]);
                }

                // Á°Æ‰øùËá≥Â∞ëÊúâ4‰∏™ÁÇπÔºàÈó≠ÂêàÂêéÔºâ
                if (coords.length < 4) {
                    // Â¶ÇÊûúÁÇπÊï∞‰∏çË∂≥4‰∏™ÔºåÂ§çÂà∂ÁÇπÁõ¥Âà∞ËææÂà∞4‰∏™
                    while (coords.length < 4) {
                        coords.push(coords[coords.length - 1]);
                    }
                }
            } else if (coords.length === 2) {
                // Â¶ÇÊûúÂè™Êúâ2‰∏™ÁÇπÔºåÂ§çÂà∂ÂÆÉ‰ª¨ÂΩ¢ÊàêËá≥Â∞ë4‰∏™ÁÇπÁöÑÁéØ
                coords.push(coords[1]);
                coords.push(coords[0]);
            } else if (coords.length === 1) {
                // Â¶ÇÊûúÂè™Êúâ1‰∏™ÁÇπÔºåÂ§çÂà∂3Ê¨°ÂΩ¢Êàê4‰∏™ÁÇπÁöÑÁéØ
                for (let k = 0; k < 3; k++) {
                    coords.push(coords[0]);
                }
            }

            const polygon = turf.polygon([coords]);
            const area = turf.area(polygon); // Âπ≥ÊñπÁ±≥

            return area;
        } catch (e) {
            console.error('ËÆ°ÁÆóÂ§öËæπÂΩ¢Èù¢ÁßØÊó∂Âá∫Èîô:', e);
            return 0;
        }
    }

    // Ëé∑ÂèñÂ§öËæπÂΩ¢‰∏≠ÂøÉÁÇπ
    function getPolygonCenter(points) {
        if (points.length === 0) return null;

        let latSum = 0, lngSum = 0;
        points.forEach(p => {
            latSum += p.lat;
            lngSum += p.lng;
        });

        return L.latLng(latSum / points.length, lngSum / points.length);
    }

    // ËÆ°ÁÆóÊÄªË∑ùÁ¶ª
    function calculateTotalDistance() {
        let total = 0;
        for (let i = 1; i < measureState.points.length; i++) {
            total += calculateDistance(measureState.points[i-1], measureState.points[i]);
        }
        return total;
    }

    // ÊòæÁ§∫Ë∑ùÁ¶ªÊ†áÁ≠æ
    function showDistanceLabel(latlng, distance) {
        const label = L.divIcon({
            className: 'measure-label',
            html: `<div style="background: rgba(255,255,255,0.9); color: #333; padding: 2px 6px; border-radius: 3px; font-size: 12px; box-shadow: 0 1px 2px rgba(0,0,0,0.3);">${distance.toFixed(2)} Á±≥</div>`,
            iconSize: null,
            iconAnchor: [0, -10]
        });

        const marker = L.marker(latlng, { icon: label });
        measureLayerGroup.addLayer(marker);
        measureState.labels.push(marker);
    }

    // ÊòæÁ§∫Èù¢ÁßØÊ†áÁ≠æ
    function showAreaLabel(latlng, area) {
        const label = L.divIcon({
            className: 'measure-label',
            html: `<div style="background: rgba(255,255,255,0.9); color: #333; padding: 2px 6px; border-radius: 3px; font-size: 12px; box-shadow: 0 1px 2px rgba(0,0,0,0.3);">${area.toFixed(2)} Âπ≥ÊñπÁ±≥</div>`,
            iconSize: null,
            iconAnchor: [0, -10]
        });

        const marker = L.marker(latlng, { icon: label });
        measureLayerGroup.addLayer(marker);
        measureState.areaLabel = marker;
    }

    // ÊòæÁ§∫ÊÄªË∑ùÁ¶ªÊ†áÁ≠æ
    function showTotalDistanceLabel(totalDistance) {
        if (measureState.points.length === 0) return;

        const lastPoint = measureState.points[measureState.points.length - 1];
        const label = L.divIcon({
            className: 'measure-total-label',
            html: `<div style="background: rgba(0,0,0,0.7); color: white; padding: 4px 8px; border-radius: 4px; font-size: 14px; font-weight: bold; box-shadow: 0 2px 4px rgba(0,0,0,0.3);">ÊÄªË∑ùÁ¶ª: ${totalDistance.toFixed(2)} Á±≥</div>`,
            iconSize: null,
            iconAnchor: [0, -20]
        });

        const marker = L.marker(lastPoint, { icon: label });
        measureLayerGroup.addLayer(marker);
        measureState.labels.push(marker);
    }

    // ÊòæÁ§∫ÊÄªÈù¢ÁßØÊ†áÁ≠æ
    function showTotalAreaLabel(latlng, area) {
        const areaInMu = area / 666.6667;
        const label = L.divIcon({
            className: 'measure-total-label',
            html: `<div style="background: rgba(0,0,0,0.7); color: white; padding: 4px 8px; border-radius: 4px; font-size: 14px; font-weight: bold; box-shadow: 0 2px 4px rgba(0,0,0,0.3); line-height: 1.4;">ÊÄªÈù¢ÁßØ: ${area.toFixed(2)} Âπ≥ÊñπÁ±≥<br>${areaInMu.toFixed(2)} ‰∫©</div>`,
            iconSize: null,
            iconAnchor: [0, -40]
        });

        const marker = L.marker(latlng, { icon: label });
        measureLayerGroup.addLayer(marker);
        measureState.labels.push(marker);
    }

    // Ê∏ÖÈô§ÊµãÈáèÁªìÊûú
    function clearMeasureResult() {
        measureLayerGroup.clearLayers();
        measureState = {
            isActive: false,
            mode: '',
            points: [],
            tempLine: null,
            lines: [],
            markers: [],
            labels: [],
            polygon: null,
            areaLabel: null
        };

        // ÊÅ¢Â§çÊåâÈíÆÁä∂ÊÄÅ
        document.getElementById('measureDistanceBtn').classList.remove('active');
        document.getElementById('measureAreaBtn').classList.remove('active');
        document.getElementById('measureDistanceBtn').disabled = false;
        document.getElementById('measureAreaBtn').disabled = false;

        // Á°Æ‰øùÈáçÊñ∞ÂêØÁî®Âú∞ÂõæÂèåÂáªÁº©ÊîæÂäüËÉΩ
        if (map && map.doubleClickZoom) {
            map.doubleClickZoom.enable();

            // ÊÅ¢Â§çÂú∞ÂõæÈÄâÈ°πËÆæÁΩÆ
            if (map.options) {
                map.options.doubleClickZoom = true;
                map.options.tap = true;
            }
        }
    }

    // Âú∞ÂõæÁ±ªÂûãÂàáÊç¢
    function toggleMapType() {
        console.log('toggleMapType called, currentMapType:', currentMapType);
        console.log('map:', map);
        console.log('currentBaseLayer:', currentBaseLayer);
        console.log('currentSatelliteLayer:', currentSatelliteLayer);

        if (!map) {
            console.error('Map not initialized');
            return;
        }

        if (!currentBaseLayer || !currentSatelliteLayer) {
            console.error('Layers not properly initialized');
            updateStatus('ÂõæÂ±ÇÊú™Ê≠£Á°ÆÂàùÂßãÂåñ');
            return;
        }

        const mapTypeBtn = document.getElementById('mapTypeBtn');

        try {
            if (currentMapType === 'street') {
                console.log('Switching to satellite map');
                // ÂàáÊç¢Âà∞Âç´ÊòüÂõæ
                map.removeLayer(currentBaseLayer);
                map.addLayer(currentSatelliteLayer);
                currentMapType = 'satellite';
                mapTypeBtn.innerHTML = 'üõ∞Ô∏è Âç´ÊòüÂõæ';
                mapTypeBtn.title = 'ÂΩìÂâçÔºöÂç´ÊòüÂõæÔºåÁÇπÂáªÂàáÊç¢Ë°óÈÅìÂõæ';
            } else {
                console.log('Switching to street map');
                // ÂàáÊç¢Âà∞Ë°óÈÅìÂõæ
                map.removeLayer(currentSatelliteLayer);
                map.addLayer(currentBaseLayer);
                currentMapType = 'street';
                mapTypeBtn.innerHTML = 'üó∫Ô∏è Ë°óÈÅìÂõæ';
                mapTypeBtn.title = 'ÂΩìÂâçÔºöË°óÈÅìÂõæÔºåÁÇπÂáªÂàáÊç¢Âç´ÊòüÂõæ';
            }

            updateStatus(`Â∑≤ÂàáÊç¢Âà∞${currentMapType === 'street' ? 'Ë°óÈÅìÂõæ' : 'Âç´ÊòüÂõæ'}`);
            console.log('Map type switched successfully to:', currentMapType);
        } catch (error) {
            console.error('Error switching map type:', error);
            updateStatus('Âú∞ÂõæÂàáÊç¢Â§±Ë¥•: ' + error.message);
        }
    }

    // Ê∏ÖÁ©∫ÊâÄÊúâ
    function clearAll() {
        clearMeasureResult();

        updateStatus('ÊµãË∑ùÊµãÈù¢Â∑≤Ê∏ÖÁ©∫');
    }

    // ÂàáÊç¢Â∑¶‰æßÈù¢Êùø
    function toggleLeftPanel() {
        const panel = document.querySelector('.left-panel');
        const fixedToggle = document.getElementById('panelToggleFixed');

        if (panel.classList.contains('collapsed')) {
            // Â±ïÂºÄÈù¢Êùø - Èù¢ÊùøÂΩìÂâçÊòØÊî∂Ëµ∑ÁöÑÔºåÁÇπÂáªÂêéË¶ÅÂ±ïÂºÄÔºåÊâÄ‰ª•ÊåâÈíÆÂ∫îÊòæÁ§∫‰∏∫Â±ïÂºÄÂõæÊ†á
            panel.classList.remove('collapsed');
            if(fixedToggle) {
                fixedToggle.innerHTML = '‚ñ∂‚óÄ'; // Â±ïÂºÄÂõæÊ†á
                fixedToggle.title = 'Êî∂Áº©Â∑•ÂÖ∑Ê†è';
            }
        } else {
            // Êî∂Ëµ∑Èù¢Êùø - Èù¢ÊùøÂΩìÂâçÊòØÂ±ïÂºÄÁöÑÔºåÁÇπÂáªÂêéË¶ÅÊî∂Ëµ∑ÔºåÊâÄ‰ª•ÊåâÈíÆÂ∫îÊòæÁ§∫‰∏∫Êî∂Áº©ÂõæÊ†á
            panel.classList.add('collapsed');
            if(fixedToggle) {
                fixedToggle.innerHTML = '‚óÄ‚ñ∂'; // Êî∂Áº©ÂõæÊ†á
                fixedToggle.title = 'Â±ïÂºÄÂ∑•ÂÖ∑Ê†è';
            }
        }
    }

    // ÂàáÊç¢Ê†áÈ¢òÊ†è
    function toggleHeader() {
        const header = document.querySelector('.header');
        const toggle = document.getElementById('headerToggle');

        if (header.classList.contains('show')) {
            // ÈöêËóèÊ†áÈ¢ò
            header.classList.remove('show');
            header.style.display = 'none';
            toggle.innerHTML = '‚ò∞';
            toggle.title = 'ÊòæÁ§∫Â∑•ÂÖ∑Ê†è';
            toggle.style.display = 'block';
        } else {
            // ÊòæÁ§∫Ê†áÈ¢ò
            header.classList.add('show');
            header.style.display = 'flex';
            toggle.innerHTML = '‚úï';
            toggle.title = 'ÈöêËóèÂ∑•ÂÖ∑Ê†è';
        }
    }

    // È°µÈù¢Âä†ËΩΩÂÆåÊàêÂêéÂàùÂßãÂåñ
    document.addEventListener('DOMContentLoaded', function() {
        initMap();
        bindTabEvents();
        bindColorPickerEvents();
        bindToolEvents();

        // ÁªëÂÆöÈù¢ÊùøÂàáÊç¢‰∫ã‰ª∂
        const headerToggle = document.getElementById('headerToggle');
        const panelToggleFixed = document.getElementById('panelToggleFixed');

        if (headerToggle) {
            headerToggle.addEventListener('click', toggleHeader);
            headerToggle.style.display = 'block';
        }

        if (panelToggleFixed) {
            panelToggleFixed.addEventListener('click', toggleLeftPanel);
        }

        // ÂàùÂßãÂåñÈù¢ÊùøÁä∂ÊÄÅ
        const savedPanelState = localStorage.getItem('leftPanelCollapsed');
        const panel = document.querySelector('.left-panel');
        const fixedToggle = document.getElementById('panelToggleFixed');

        if (savedPanelState === 'true') {
            panel.classList.add('collapsed');
            if(fixedToggle) {
                fixedToggle.innerHTML = '‚óÄ‚ñ∂'; // Êî∂Áº©ÂõæÊ†á
                fixedToggle.title = 'Â±ïÂºÄÂ∑•ÂÖ∑Ê†è';
            }
        } else {
            if(fixedToggle) {
                fixedToggle.innerHTML = '‚ñ∂‚óÄ'; // Â±ïÂºÄÂõæÊ†á
                fixedToggle.title = 'Êî∂Áº©Â∑•ÂÖ∑Ê†è';
            }
        }

        // Ê∑ªÂä†ÊòæÁ§∫‰∫©Êï∞Â§çÈÄâÊ°ÜÁöÑ‰∫ã‰ª∂ÁõëÂê¨Âô®
        const toggleLabelsCheckbox = document.getElementById('toggleLabelsCheckbox');
        if (toggleLabelsCheckbox) {
            toggleLabelsCheckbox.addEventListener('change', function() {
                const isChecked = this.checked;
                labelsEnabled = isChecked;
                console.log('Ê†áÁ≠æÊòæÁ§∫Áä∂ÊÄÅÂ∑≤Êõ¥Êîπ:', isChecked);

                // Ëé∑ÂèñÂÆπÂô®ÂÖÉÁ¥†Âπ∂ÂàáÊç¢labels-hiddenÁ±ª
                const container = document.querySelector('.container') || document.body;

                if (isChecked) {
                    // ÂêØÁî®Ê†áÁ≠æÔºöÊòæÁ§∫ÊâÄÊúâÊ†áÁ≠æ
                    console.log('ÂêØÁî®Ê†áÁ≠æÊòæÁ§∫');
                    container.classList.remove('labels-hidden');

                    console.log('Ê£ÄÊü•ÊòØÂê¶ÊúâËΩÆÂªìÂõæÂ±ÇÁªÑ:', outlineLayerGroup);
                    if (outlineLayerGroup && outlineLayerGroup.getLayers) {
                        console.log('ËΩÆÂªìÂõæÂ±ÇÁªÑÂ≠òÂú®ÔºåËé∑ÂèñÂõæÂ±ÇÊï∞Èáè:', outlineLayerGroup.getLayers().length);
                        if (outlineLayerGroup.getLayers().length > 0) {
                            // Ê∏ÖÈô§Áé∞ÊúâÊ†áÁ≠æ
                            labelLayerGroup.clearLayers();
                            console.log('Â∑≤Ê∏ÖÈô§Áé∞ÊúâÊ†áÁ≠æÔºåÂáÜÂ§áÊ∑ªÂä†Êñ∞Ê†áÁ≠æ');

                            // ‰∏∫ÊØè‰∏™ËΩÆÂªìÊ∑ªÂä†Ê†áÁ≠æ
                            // Á°Æ‰øùL.GeometryUtilÂ∑≤Âä†ËΩΩ
                            if (typeof L.GeometryUtil === 'undefined' || typeof L.GeometryUtil.geodesicArea !== 'function') {
                                console.log('‰ΩøÁî®Turf.jsËÆ°ÁÆóÈù¢ÁßØ');
                                // Â∞ùËØï‰ΩøÁî®Turf.js‰Ωú‰∏∫Â§áÈÄâÊñπÊ°à
                                if (typeof turf !== 'undefined') {
                                    console.log('‰ΩøÁî®Turf.jsËÆ°ÁÆóÈù¢ÁßØ');
                                    outlineLayerGroup.eachLayer(function(layer) {
                                        // Ëé∑ÂèñÂõæÂ±Ç‰∏≠ÁöÑÂÆûÈôÖÂá†‰ΩïË¶ÅÁ¥†ËøõË°åÈù¢ÁßØËÆ°ÁÆó
                                        let layers = [];

                                        // Â¶ÇÊûúlayerÊòØLayerGroupÊàñFeatureGroupÔºåËé∑ÂèñÂÖ∂ÊâÄÊúâÂ≠êÂõæÂ±Ç
                                        if (layer instanceof L.LayerGroup || layer instanceof L.FeatureGroup) {
                                            layers = layer.getLayers();
                                        } else {
                                            layers = layer.getLayers ? layer.getLayers() : [layer];
                                        }

                                        console.log('ÂõæÂ±ÇÊï∞ÁªÑÈïøÂ∫¶:', layers && Array.isArray(layers) ? layers.length : 0);
                                        if (layers && Array.isArray(layers) && layers.length > 0) {
                                            for (let j = 0; j < layers.length; j++) {
                                                const subLayer = layers[j];
                                                console.log('Â§ÑÁêÜÂ≠êÂõæÂ±Ç:', subLayer);
                                                let latLngs;

                                                // Ê†πÊçÆÂõæÂ±ÇÁ±ªÂûãËé∑ÂèñÂùêÊ†á
                                                if (subLayer instanceof L.Polygon) {
                                                    latLngs = subLayer.getLatLngs();
                                                    console.log('Â§öËæπÂΩ¢latLngs:', latLngs);
                                                } else if (subLayer instanceof L.MultiPolygon) {
                                                    // ÂØπ‰∫éMultiPolygonÔºåÂèñÁ¨¨‰∏Ä‰∏™Â§öËæπÂΩ¢
                                                    const multiLatLngs = subLayer.getLatLngs();
                                                    console.log('MultiPolygon latLngs:', multiLatLngs);
                                                    if (multiLatLngs && multiLatLngs.length > 0) {
                                                        latLngs = multiLatLngs[0];
                                                    }
                                                } else if (subLayer instanceof L.Rectangle) {
                                                    // ÂØπ‰∫éRectangleÔºåËé∑ÂèñÂÖ∂ËæπÁïåÂùêÊ†á
                                                    latLngs = subLayer.getLatLngs();
                                                    console.log('Áü©ÂΩ¢latLngs:', latLngs);
                                                }

                                                if (latLngs) {
                                                    // ‰ΩøÁî®Turf.jsËÆ°ÁÆóÈù¢ÁßØ
                                                    try {
                                                        // Â§ÑÁêÜÂ§öËæπÂΩ¢ÂùêÊ†áÔºåÊîØÊåÅÂ§ñÈÉ®ËæπÁïåÂíåÂÜÖÈÉ®Â≠îÊ¥û
                                                        const processPolygon = (polyCoords) => {
                                                            if (!Array.isArray(polyCoords) || polyCoords.length === 0) {
                                                                return null;
                                                            }

                                                            // Â¶ÇÊûúÊòØÂ§öËæπÂΩ¢Êï∞ÁªÑÔºàÂ§ñÈÉ®ËæπÁïå+Â≠îÊ¥ûÔºâÔºåÂàÜÂà´Â§ÑÁêÜ
                                                            let processedCoords = [];

                                                            // Â§ÑÁêÜÂ§öËæπÂΩ¢ÁöÑÊØè‰∏™ÁéØÔºàÁ¨¨‰∏Ä‰∏™ÊòØÂ§ñÈÉ®ËæπÁïåÔºåÂÖ∂‰ΩôÊòØÂ≠îÊ¥ûÔºâ
                                                            for (let i = 0; i < polyCoords.length; i++) {
                                                                let ring = polyCoords[i];
                                                                if (!Array.isArray(ring)) {
                                                                    ring = [ring]; // Â¶ÇÊûú‰∏çÊòØÊï∞ÁªÑÔºåËΩ¨Êç¢‰∏∫Êï∞ÁªÑ
                                                                }

                                                                // Â∞ÜLeafletÂùêÊ†áËΩ¨Êç¢‰∏∫GeoJSONÊ†ºÂºè [lng, lat]
                                                                let geoJsonRing = ring.map(latLng => {
                                                                    if (latLng.lat !== undefined && latLng.lng !== undefined) {
                                                                        return [latLng.lng, latLng.lat];
                                                                    } else if (Array.isArray(latLng) && latLng.length >= 2) {
                                                                        // Â¶ÇÊûúÂ∑≤ÁªèÊòØÊï∞ÁªÑÊ†ºÂºè [lat, lng] Êàñ [lng, lat]
                                                                        return [latLng[1], latLng[0]]; // ÂÅáËÆæÊòØ [lat, lng] Ê†ºÂºè
                                                                    }
                                                                    return null;
                                                                }).filter(coord => coord !== null);

                                                                // Á°Æ‰øùÁéØÊòØÈó≠ÂêàÁöÑÔºàËá≥Â∞ëÊúâ4‰∏™ÁÇπÔºåÈ¶ñÂ∞æÁõ∏ÂêåÔºâ
                                                                if (geoJsonRing.length >= 3) {
                                                                    // Â¶ÇÊûúÈ¶ñÂ∞æ‰∏çÁõ∏ÂêåÔºåÈó≠ÂêàÁéØ
                                                                    if (geoJsonRing[0][0] !== geoJsonRing[geoJsonRing.length - 1][0] ||
                                                                        geoJsonRing[0][1] !== geoJsonRing[geoJsonRing.length - 1][1]) {
                                                                        geoJsonRing.push(geoJsonRing[0]);
                                                                    }

                                                                    // Á°Æ‰øùËá≥Â∞ëÊúâ4‰∏™ÁÇπÔºàÈó≠ÂêàÂêéÔºâ
                                                                    if (geoJsonRing.length < 4) {
                                                                        // Â¶ÇÊûúÁÇπÊï∞‰∏çË∂≥4‰∏™ÔºåÂ§çÂà∂ÁÇπÁõ¥Âà∞ËææÂà∞4‰∏™
                                                                        while (geoJsonRing.length < 4) {
                                                                            geoJsonRing.push(geoJsonRing[geoJsonRing.length - 1]);
                                                                        }
                                                                    }
                                                                } else if (geoJsonRing.length === 2) {
                                                                    // Â¶ÇÊûúÂè™Êúâ2‰∏™ÁÇπÔºåÂ§çÂà∂ÂÆÉ‰ª¨ÂΩ¢ÊàêËá≥Â∞ë4‰∏™ÁÇπÁöÑÁéØ
                                                                    geoJsonRing.push(geoJsonRing[1]);
                                                                    geoJsonRing.push(geoJsonRing[0]);
                                                                } else if (geoJsonRing.length === 1) {
                                                                    // Â¶ÇÊûúÂè™Êúâ1‰∏™ÁÇπÔºåÂ§çÂà∂3Ê¨°ÂΩ¢Êàê4‰∏™ÁÇπÁöÑÁéØ
                                                                    for (let k = 0; k < 3; k++) {
                                                                        geoJsonRing.push(geoJsonRing[0]);
                                                                    }
                                                                }

                                                                processedCoords.push(geoJsonRing);
                                                            }

                                                            return processedCoords;
                                                        };

                                                        // Ê†πÊçÆlatLngsÁöÑÁªìÊûÑÂ§ÑÁêÜÂùêÊ†á
                                                        let coordinates;
                                                        if (Array.isArray(latLngs) && latLngs.length > 0) {
                                                            if (Array.isArray(latLngs[0])) {
                                                                // Â¶ÇÊûúÊòØÂ§öËæπÂΩ¢Êï∞ÁªÑÔºàÂåÖÂê´Â§ñÈÉ®ËæπÁïåÂíåÂ≠îÊ¥ûÔºâ
                                                                coordinates = processPolygon(latLngs);
                                                            } else {
                                                                // Â¶ÇÊûúÊòØÂçï‰∏™Â§öËæπÂΩ¢ËæπÁïå
                                                                coordinates = processPolygon([latLngs]);
                                                            }
                                                        } else {
                                                            // Âçï‰∏™Â§öËæπÂΩ¢ËæπÁïå
                                                            coordinates = processPolygon([latLngs]);
                                                        }

                                                        if (coordinates && coordinates.length > 0) {
                                                            const polygon = turf.polygon(coordinates);
                                                            const areaSqM = turf.area(polygon);
                                                            const areaMu = (areaSqM / 666.6667).toFixed(4); // ËΩ¨Êç¢‰∏∫‰∫©
                                                            console.log('‰ΩøÁî®Turf.jsËÆ°ÁÆóÂæóÂà∞ÁöÑÈù¢ÁßØ:', areaSqM, 'Âπ≥ÊñπÁ±≥ (', areaMu, '‰∫©)');
                                                            console.log('‰∏∫ÂõæÂ±ÇÊ∑ªÂä†Èù¢ÁßØÊ†áÁ≠æ:', areaMu, '‰∫©');
                                                            addAreaLabelToLayer(subLayer, `Èù¢ÁßØ: ${areaMu}‰∫©`); // ‰ΩøÁî®subLayerËÄå‰∏çÊòØlayer
                                                        } else {
                                                            console.log('Êó†Ê≥ïÂ§ÑÁêÜÂùêÊ†áÊï∞ÊçÆÔºåË∑≥ËøáÊ≠§ÂõæÂ±Ç');
                                                        }
                                                    } catch (e) {
                                                        console.error('‰ΩøÁî®Turf.jsËÆ°ÁÆóÈù¢ÁßØÊó∂Âá∫Èîô:', e);
                                                    }
                                                } else {
                                                    console.log('Êó†Ê≥ïËé∑ÂèñÂùêÊ†áÔºåË∑≥ËøáÊ≠§ÂõæÂ±Ç');
                                                }
                                            }
                                        } else {
                                            console.log('ÂõæÂ±ÇÊï∞ÁªÑ‰∏∫Á©∫Êàñ‰∏çÊòØÊï∞ÁªÑ');
                                        }
                                    });
                                } else {
                                    console.error('Turf.js‰πüÊú™ÂÆö‰πâÔºåÊó†Ê≥ïËÆ°ÁÆóÈù¢ÁßØ');
                                }
                            } else {
                                console.log('ÂºÄÂßã‰∏∫', outlineLayerGroup.getLayers().length, '‰∏™ËΩÆÂªìÊ∑ªÂä†Ê†áÁ≠æ');
                                let labelCount = 0;
                                outlineLayerGroup.eachLayer(function(layer) {
                                    console.log('Â§ÑÁêÜÂõæÂ±Ç:', layer);
                                    // Ëé∑ÂèñÂõæÂ±Ç‰∏≠ÁöÑÂÆûÈôÖÂá†‰ΩïË¶ÅÁ¥†ËøõË°åÈù¢ÁßØËÆ°ÁÆó
                                    let layers = [];

                                    // Â¶ÇÊûúlayerÊòØLayerGroupÊàñFeatureGroupÔºåËé∑ÂèñÂÖ∂ÊâÄÊúâÂ≠êÂõæÂ±Ç
                                    if (layer instanceof L.LayerGroup || layer instanceof L.FeatureGroup) {
                                        layers = layer.getLayers();
                                    } else {
                                        layers = layer.getLayers ? layer.getLayers() : [layer];
                                    }

                                    console.log('ÂõæÂ±ÇÊï∞ÁªÑÈïøÂ∫¶:', layers && Array.isArray(layers) ? layers.length : 0);
                                    if (layers && Array.isArray(layers) && layers.length > 0) {
                                        for (let j = 0; j < layers.length; j++) {
                                            const subLayer = layers[j];
                                            console.log('Â§ÑÁêÜÂ≠êÂõæÂ±Ç:', subLayer);
                                            let latLngs;

                                            // Ê†πÊçÆÂõæÂ±ÇÁ±ªÂûãËé∑ÂèñÂùêÊ†á
                                            if (subLayer instanceof L.Polygon) {
                                                latLngs = subLayer.getLatLngs();
                                                console.log('Â§öËæπÂΩ¢latLngs:', latLngs);
                                            } else if (subLayer instanceof L.MultiPolygon) {
                                                // ÂØπ‰∫éMultiPolygonÔºåÂèñÁ¨¨‰∏Ä‰∏™Â§öËæπÂΩ¢
                                                const multiLatLngs = subLayer.getLatLngs();
                                                console.log('MultiPolygon latLngs:', multiLatLngs);
                                                if (multiLatLngs && multiLatLngs.length > 0) {
                                                    latLngs = multiLatLngs[0];
                                                }
                                            } else if (subLayer instanceof L.Rectangle) {
                                                // ÂØπ‰∫éRectangleÔºåËé∑ÂèñÂÖ∂ËæπÁïåÂùêÊ†á
                                                latLngs = subLayer.getLatLngs();
                                                console.log('Áü©ÂΩ¢latLngs:', latLngs);
                                            }

                                            if (latLngs) {
                                                // Ê£ÄÊü•L.GeometryUtilÊòØÂê¶ÂèØÁî®ÔºåÂ¶ÇÊûú‰∏çÂèØÁî®Âàô‰ΩøÁî®Turf.js
                                                if (typeof L.GeometryUtil !== 'undefined' && typeof L.GeometryUtil.geodesicArea === 'function') {
                                                    const areaSqM = L.GeometryUtil.geodesicArea(latLngs[0] || latLngs);
                                                    const areaMu = (areaSqM / 666.6667).toFixed(4); // ËΩ¨Êç¢‰∏∫‰∫©
                                                    console.log('‰ΩøÁî®L.GeometryUtilËÆ°ÁÆóÂæóÂà∞ÁöÑÈù¢ÁßØ:', areaSqM, 'Âπ≥ÊñπÁ±≥ (', areaMu, '‰∫©)');
                                                    console.log('‰∏∫ÂõæÂ±ÇÊ∑ªÂä†Èù¢ÁßØÊ†áÁ≠æ:', areaMu, '‰∫©');
                                                    addAreaLabelToLayer(subLayer, `Èù¢ÁßØ: ${areaMu}‰∫©`); // ‰ΩøÁî®subLayerËÄå‰∏çÊòØlayer
                                                    labelCount++;
                                                } else {
                                                    console.log('L.GeometryUtilÊú™ÂÆö‰πâÊàñgeodesicAreaÊñπÊ≥ï‰∏çÂ≠òÂú®ÔºåÂ∞ùËØï‰ΩøÁî®Turf.js');
                                                    // ‰ΩøÁî®Turf.jsËÆ°ÁÆóÈù¢ÁßØ
                                                    try {
                                                        // Â§ÑÁêÜÂ§öËæπÂΩ¢ÂùêÊ†áÔºåÊîØÊåÅÂ§ñÈÉ®ËæπÁïåÂíåÂÜÖÈÉ®Â≠îÊ¥û
                                                        const processPolygon = (polyCoords) => {
                                                            if (!Array.isArray(polyCoords) || polyCoords.length === 0) {
                                                                return null;
                                                            }

                                                            // Â¶ÇÊûúÊòØÂ§öËæπÂΩ¢Êï∞ÁªÑÔºàÂ§ñÈÉ®ËæπÁïå+Â≠îÊ¥ûÔºâÔºåÂàÜÂà´Â§ÑÁêÜ
                                                            let processedCoords = [];

                                                            // Â§ÑÁêÜÂ§öËæπÂΩ¢ÁöÑÊØè‰∏™ÁéØÔºàÁ¨¨‰∏Ä‰∏™ÊòØÂ§ñÈÉ®ËæπÁïåÔºåÂÖ∂‰ΩôÊòØÂ≠îÊ¥ûÔºâ
                                                            for (let i = 0; i < polyCoords.length; i++) {
                                                                let ring = polyCoords[i];
                                                                if (!Array.isArray(ring)) {
                                                                    ring = [ring]; // Â¶ÇÊûú‰∏çÊòØÊï∞ÁªÑÔºåËΩ¨Êç¢‰∏∫Êï∞ÁªÑ
                                                                }

                                                                // Â∞ÜLeafletÂùêÊ†áËΩ¨Êç¢‰∏∫GeoJSONÊ†ºÂºè [lng, lat]
                                                                let geoJsonRing = ring.map(latLng => {
                                                                    if (latLng.lat !== undefined && latLng.lng !== undefined) {
                                                                        return [latLng.lng, latLng.lat];
                                                                    } else if (Array.isArray(latLng) && latLng.length >= 2) {
                                                                        // Â¶ÇÊûúÂ∑≤ÁªèÊòØÊï∞ÁªÑÊ†ºÂºè [lat, lng] Êàñ [lng, lat]
                                                                        return [latLng[1], latLng[0]]; // ÂÅáËÆæÊòØ [lat, lng] Ê†ºÂºè
                                                                    }
                                                                    return null;
                                                                }).filter(coord => coord !== null);

                                                                // Á°Æ‰øùÁéØÊòØÈó≠ÂêàÁöÑÔºàËá≥Â∞ëÊúâ4‰∏™ÁÇπÔºåÈ¶ñÂ∞æÁõ∏ÂêåÔºâ
                                                                if (geoJsonRing.length >= 3) {
                                                                    // Â¶ÇÊûúÈ¶ñÂ∞æ‰∏çÁõ∏ÂêåÔºåÈó≠ÂêàÁéØ
                                                                    if (geoJsonRing[0][0] !== geoJsonRing[geoJsonRing.length - 1][0] ||
                                                                        geoJsonRing[0][1] !== geoJsonRing[geoJsonRing.length - 1][1]) {
                                                                        geoJsonRing.push(geoJsonRing[0]);
                                                                    }

                                                                    // Á°Æ‰øùËá≥Â∞ëÊúâ4‰∏™ÁÇπÔºàÈó≠ÂêàÂêéÔºâ
                                                                    if (geoJsonRing.length < 4) {
                                                                        // Â¶ÇÊûúÁÇπÊï∞‰∏çË∂≥4‰∏™ÔºåÂ§çÂà∂ÁÇπÁõ¥Âà∞ËææÂà∞4‰∏™
                                                                        while (geoJsonRing.length < 4) {
                                                                            geoJsonRing.push(geoJsonRing[geoJsonRing.length - 1]);
                                                                        }
                                                                    }
                                                                } else if (geoJsonRing.length === 2) {
                                                                    // Â¶ÇÊûúÂè™Êúâ2‰∏™ÁÇπÔºåÂ§çÂà∂ÂÆÉ‰ª¨ÂΩ¢ÊàêËá≥Â∞ë4‰∏™ÁÇπÁöÑÁéØ
                                                                    geoJsonRing.push(geoJsonRing[1]);
                                                                    geoJsonRing.push(geoJsonRing[0]);
                                                                } else if (geoJsonRing.length === 1) {
                                                                    // Â¶ÇÊûúÂè™Êúâ1‰∏™ÁÇπÔºåÂ§çÂà∂3Ê¨°ÂΩ¢Êàê4‰∏™ÁÇπÁöÑÁéØ
                                                                    for (let k = 0; k < 3; k++) {
                                                                        geoJsonRing.push(geoJsonRing[0]);
                                                                    }
                                                                }

                                                                processedCoords.push(geoJsonRing);
                                                            }

                                                            return processedCoords;
                                                        };

                                                        // Ê†πÊçÆlatLngsÁöÑÁªìÊûÑÂ§ÑÁêÜÂùêÊ†á
                                                        let coordinates;
                                                        if (Array.isArray(latLngs) && latLngs.length > 0) {
                                                            if (Array.isArray(latLngs[0])) {
                                                                // Â¶ÇÊûúÊòØÂ§öËæπÂΩ¢Êï∞ÁªÑÔºàÂåÖÂê´Â§ñÈÉ®ËæπÁïåÂíåÂ≠îÊ¥ûÔºâ
                                                                coordinates = processPolygon(latLngs);
                                                            } else {
                                                                // Â¶ÇÊûúÊòØÂçï‰∏™Â§öËæπÂΩ¢ËæπÁïå
                                                                coordinates = processPolygon([latLngs]);
                                                            }
                                                        } else {
                                                            // Âçï‰∏™Â§öËæπÂΩ¢ËæπÁïå
                                                            coordinates = processPolygon([latLngs]);
                                                        }

                                                        if (coordinates && coordinates.length > 0) {
                                                            const polygon = turf.polygon(coordinates);
                                                            const areaSqM = turf.area(polygon);
                                                            const areaMu = (areaSqM / 666.6667).toFixed(4); // ËΩ¨Êç¢‰∏∫‰∫©
                                                            console.log('‰ΩøÁî®Turf.jsËÆ°ÁÆóÂæóÂà∞ÁöÑÈù¢ÁßØ:', areaSqM, 'Âπ≥ÊñπÁ±≥ (', areaMu, '‰∫©)');
                                                            console.log('‰∏∫ÂõæÂ±ÇÊ∑ªÂä†Èù¢ÁßØÊ†áÁ≠æ:', areaMu, '‰∫©');
                                                            addAreaLabelToLayer(subLayer, `Èù¢ÁßØ: ${areaMu}‰∫©`); // ‰ΩøÁî®subLayerËÄå‰∏çÊòØlayer
                                                            labelCount++;
                                                        } else {
                                                            console.log('Êó†Ê≥ïÂ§ÑÁêÜÂùêÊ†áÊï∞ÊçÆÔºåË∑≥ËøáÊ≠§ÂõæÂ±Ç');
                                                        }
                                                    } catch (e) {
                                                        console.error('‰ΩøÁî®Turf.jsËÆ°ÁÆóÈù¢ÁßØÊó∂Âá∫Èîô:', e);
                                                    }
                                                }
                                            } else {
                                                console.log('Êó†Ê≥ïËé∑ÂèñÂùêÊ†áÔºåË∑≥ËøáÊ≠§ÂõæÂ±Ç');
                                            }
                                        }
                                    } else {
                                        console.log('ÂõæÂ±ÇÊï∞ÁªÑ‰∏∫Á©∫Êàñ‰∏çÊòØÊï∞ÁªÑ');
                                    }
                                });
                                console.log('ÊÄªÂÖ±Â§ÑÁêÜ‰∫Ü', labelCount, '‰∏™Ê†áÁ≠æ');
                            }
                        } else {
                            console.log('ËΩÆÂªìÂõæÂ±ÇÁªÑ‰∏≠Ê≤°ÊúâÂõæÂ±Ç');
                        }
                    } else {
                        console.log('ËΩÆÂªìÂõæÂ±ÇÁªÑ‰∏çÂ≠òÂú®ÊàñÊ≤°ÊúâgetLayersÊñπÊ≥ï');
                    }
                } else {
                    // Á¶ÅÁî®Ê†áÁ≠æÔºöÈöêËóèÊâÄÊúâÊ†áÁ≠æ
                    console.log('Á¶ÅÁî®Ê†áÁ≠æÊòæÁ§∫ÔºåÊ∏ÖÈô§ÊâÄÊúâÊ†áÁ≠æ');
                    if (labelLayerGroup) {
                        labelLayerGroup.clearLayers();
                        console.log('Ê†áÁ≠æÂõæÂ±ÇÂ∑≤Ê∏ÖÁ©∫ÔºåÂΩìÂâçÂõæÂ±ÇÊï∞Èáè:', labelLayerGroup.getLayers().length);
                    } else {
                        console.log('Ê†áÁ≠æÂõæÂ±ÇÁªÑ‰∏çÂ≠òÂú®');
                    }
                    container.classList.add('labels-hidden');
                }

                // Á°Æ‰øùÊ†áÁ≠æÂõæÂ±ÇÂßãÁªàÂú®ÊúÄ‰∏äÂ±Ç
                if (labelLayerGroup) {
                    map.removeLayer(labelLayerGroup);
                    map.addLayer(labelLayerGroup);
                }
            });
        }

        updateStatus('È°µÈù¢Âä†ËΩΩÂÆåÊàê');

        // Ê∑ªÂä†ÁÇπÂáªÂÖ∂‰ªñÂú∞ÊñπÈöêËóèÂè≥ÈîÆËèúÂçïÁöÑ‰∫ã‰ª∂ÁõëÂê¨
        document.addEventListener('click', function(e) {
            // Â¶ÇÊûúÁÇπÂáªÁöÑ‰∏çÊòØÂè≥ÈîÆËèúÂçïÊú¨Ë∫´Ôºå‰πü‰∏çÊòØËé∑ÂèñÂú∞ÂùÄËèúÂçïÈ°πÔºåÂàôÈöêËóèËèúÂçï
            if (contextMenu && !contextMenu.contains(e.target) && 
                (!getAddressMenuItem || !getAddressMenuItem.contains(e.target))) {
                hideContextMenu();
            }
        });

        // ÈòªÊ≠¢Âè≥ÈîÆËèúÂçïÂÜÖÈÉ®ÁöÑÁÇπÂáª‰∫ã‰ª∂ÂÜíÊ≥°
        if (contextMenu) {
            contextMenu.addEventListener('click', function(e) {
                e.stopPropagation();
            });
        }
    });

    // ÂÖ®Â±ÄÂáΩÊï∞‰æõHTMLË∞ÉÁî®
    window.drawOutline = drawOutline;
    window.clearOutline = clearOutline;
    window.drawTrack = drawTrack;
    window.startPlayback = startPlayback;
    window.stopPlayback = stopPlayback;

    // È°µÈù¢Âä†ËΩΩÂÆåÊàêÂêéËá™Âä®Ë∞ÉÁî®ËΩ®ËøπÂíåËΩÆÂªìÁªòÂà∂ÂäüËÉΩ
    document.addEventListener('DOMContentLoaded', function() {
        // ÂÖàË∞ÉÁî®ËΩ®ËøπTAB‰∏≠ÁöÑËΩ®ËøπÊåâÈíÆÊñπÊ≥ï
        drawTrack();
        // ÂÜçË∞ÉÁî®ËΩÆÂªìTAB‰∏≠ÁöÑÂõûÊâßËΩÆÂªìÊñπÊ≥ï
        drawOutline();
    });
</script>
</body>
</html>