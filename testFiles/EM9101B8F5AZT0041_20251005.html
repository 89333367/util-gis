<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>展示轮廓</title>
    <style>
        body {
            margin: 0;
            padding: 0;
        }

        #mapContainer {
            width: 100vw;
            height: 100vh;
            position: relative;
        }

        #mapLoading {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 999;
            transition: opacity 0.3s;
        }

        .loading-text {
            font-size: 16px;
            color: #333;
            padding: 10px 20px;
            background: white;
            border-radius: 4px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
        }

        .wkt-input-container {
            position: absolute;
            top: 20px;
            right: 10px;
            z-index: 1000;
            background: white;
            padding: 12px;
            border-radius: 6px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
            width: min(320px, 90vw);
            box-sizing: border-box;
            transition: all 0.3s;
        }

        .minimize-btn {
            position: absolute;
            top: -5px;
            right: -4px;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: #f0f0f0;
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            color: #666;
            z-index: 1001;
            transition: background 0.2s;
        }

        .minimize-btn:hover {
            background: #e0e0e0;
        }

        .content-wrapper {
            transition: all 0.3s;
        }

        .wkt-input-container.minimized {
            width: 40px;
            height: 40px;
            padding: 0;
        }

        .wkt-input-container.minimized .content-wrapper {
            display: none;
        }

        .wkt-input-container.minimized .min-icon {
            display: none;
        }

        .wkt-input-container.minimized .restore-icon {
            display: inline;
        }

        #wktTextarea {
            width: 100%;
            height: 120px;
            margin-bottom: 10px;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-family: monospace;
            resize: vertical;
            box-sizing: border-box;
        }

        .button-group {
            display: flex;
            gap: 10px;
        }

        /* 页签样式 */
        .tabs-header {
            display: flex;
            gap: 8px;
            margin-bottom: 8px;
        }
        .tab-btn {
            flex: 1;
            padding: 6px 0;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 13px;
            background: #f5f5f5;
            color: #333;
            transition: background 0.2s;
        }
        .tab-btn.active { background: #337AFF; color: #fff; }
        .tab-pane { display: none; }
        .tab-pane.active { display: block; }

        /* Multi → Polygons 分割器样式 */
        .split-section {
            margin-top: 10px;
            padding: 10px;
            background: #fafafa;
            border: 1px solid #eee;
            border-radius: 6px;
        }
        .split-section .title {
            font-size: 13px;
            font-weight: 600;
            color: #333;
            margin-bottom: 6px;
        }
        .split-section .desc {
            font-size: 12px;
            color: #666;
            margin-bottom: 8px;
        }
        #multiInput, #polyOutput {
            width: 100%;
            height: 90px;
            margin-bottom: 8px;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-family: monospace;
            resize: vertical;
            box-sizing: border-box;
        }
        .split-actions {
            display: flex;
            gap: 8px;
            margin-bottom: 8px;
        }
        .split-actions button {
            flex: 1;
            padding: 6px 0;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 13px;
            transition: background 0.2s;
        }
        #splitMultiBtn { background: #337AFF; color: #fff; }
        #splitMultiBtn:hover { background: #2860E0; }
        #copyPolysBtn { background: #f5f5f5; color: #333; }
        #copyPolysBtn:hover { background: #e0e0e0; }
        #drawButton,
        #clearButton,
        #drawTrackButton,
        #clearTrackButton {
            width: 50%;
            padding: 8px 0;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: background 0.2s;
        }

        #drawButton,
        #drawTrackButton {
            background: #337AFF;
            color: white;
        }

        #drawButton:hover,
        #drawTrackButton:hover {
            background: #2860E0;
        }

        #clearButton,
        #clearTrackButton {
            background: #f5f5f5;
            color: #333;
        }

        #clearButton:hover,
        #clearTrackButton:hover {
            background: #e0e0e0;
        }

        #drawButton:disabled,
        #clearButton:disabled,
        #drawTrackButton:disabled,
        #clearTrackButton:disabled {
            background: #e0e0e0;
            color: #999;
            cursor: not-allowed;
        }

        .tip {
            font-size: 12px;
            color: #666;
            margin-bottom: 8px;
            line-height: 1.4;
        }

        .area-label {
             position: absolute;
             background: rgba(255, 0, 0, 0.85);
             border: 1px solid #000;
             border-radius: 3px;
             padding: 4px 6px;
             font-size: 12px;
             color: #fff;
             font-weight: 600;
             box-shadow: 0 2px 6px rgba(0, 0, 0, 0.25);
             white-space: nowrap;
             z-index: 9999;
             pointer-events: none;
         }
         /* 默认隐藏标签容器下的标签 */
          .labels-hidden .area-label { display: none; }

          /* Batch → Generator 样式 */
          .batch-section { margin-top: 10px; padding: 10px; background: #fafafa; border: 1px solid #eee; border-radius: 6px; }
          .batch-section .title { font-size: 13px; font-weight: 600; color: #333; margin-bottom: 6px; }
          .batch-section .desc { font-size: 12px; color: #666; margin-bottom: 8px; }
          #batchInput, #multiOutput { width: 100%; height: 90px; margin-bottom: 8px; padding: 8px; border: 1px solid #ddd; border-radius: 4px; font-family: monospace; resize: vertical; box-sizing: border-box; }
          .batch-actions { display: flex; gap: 8px; margin-bottom: 8px; }
          .batch-actions button { flex: 1; padding: 6px 0; border: none; border-radius: 4px; cursor: pointer; font-size: 13px; transition: background 0.2s; }
          #generateMultiBtn { background: #337AFF; color: #fff; }
          #generateMultiBtn:hover { background: #2860E0; }
          #copyMultiBtn { background: #f5f5f5; color: #333; }
          #copyMultiBtn:hover { background: #e0e0e0; }
          
          /* 左侧工具条样式 */
          #leftToolbar {
              position: absolute;
              bottom: 20px;
              left: 20px;
              z-index: 1000;
              background: white;
              border-radius: 4px;
              box-shadow: 0 1px 4px rgba(0, 0, 0, 0.15);
              padding: 6px 0;
              display: flex;
              flex-direction: column;
              gap: 2px;
              width: 40px;
          }
          
          .toolbar-btn {
              width: 100%;
              padding: 6px 0;
              border: none;
              background: transparent;
              cursor: pointer;
              font-size: 12px;
              color: #333;
              transition: background 0.2s;
              display: flex;
              flex-direction: column;
              align-items: center;
              justify-content: center;
          }
          
          .toolbar-btn:hover {
              background: #f5f5f5;
          }
          
          .toolbar-btn span {
              font-size: 12px;
              margin-top: 4px;
          }
          
          .toolbar-divider {
              height: 1px;
              background-color: #e0e0e0;
              margin: 2px 4px;
          }
      </style>
    <script src="https://api.tianditu.gov.cn/api?v=4.0&tk=648f621977051d0199ff0f965d3fd322"></script>
    <script src="https://cdn.bootcdn.net/ajax/libs/Turf.js/6.5.0/turf.min.js"></script>
    <script src="https://lib.baomitu.com/terraformer/1.0.12/terraformer.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://unpkg.com/terraformer-wkt-parser@1.2.1/terraformer-wkt-parser.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <!-- 已移除动态备用加载器 ensureTerraformer：改为仅使用静态脚本标签加载 Terraformer 核心库与 WKT 解析器 -->
    <script>
        // 检查Turf.js是否加载成功
        window.addEventListener('load', function () {
            if (typeof turf === 'undefined') {
                console.warn('Turf.js加载失败，已启用备用面积算法');
            } else {
                console.log('Turf.js加载成功');
            }
        });
    </script>
</head>

<body>
<!-- 左侧工具条 -->
<div id="leftToolbar">
    <button class="toolbar-btn" id="measureDistanceBtn" title="测距">
        <span>测距</span>
    </button>
    <div class="toolbar-divider"></div>
    <button class="toolbar-btn" id="measureAreaBtn" title="测面">
        <span>测面</span>
    </button>
    <div class="toolbar-divider"></div>
    <button class="toolbar-btn" id="mapTypeBtn" title="切换地图类型">
        <span>地图</span>
    </button>
</div>

<div id="mapContainer">
    <div id="mapLoading">
        <div class="loading-text">地图正在加载中...</div>
    </div>
</div>

<div class="wkt-input-container">
    <div class="minimize-btn" id="minimizeBtn">
        <span class="min-icon">−</span>
        <span class="restore-icon" style="display:none;">+</span>
    </div>

    <div class="content-wrapper">
        <div class="tabs-header">
            <button class="tab-btn active" id="tabDrawBtn">轮廓</button>
            <button class="tab-btn" id="tabTrackBtn">轨迹</button>
            <button class="tab-btn" id="tabSplitBtn">分割器</button>
            <button class="tab-btn" id="tabBatchBtn">合并器</button>
        </div>
        <div class="tab-pane active" id="tabDraw">
            <div class="tip">请输入WKT字符串（支持POLYGON/MULTIPOLYGON）：</div>
            <textarea id="wktTextarea">MULTIPOLYGON (((124.48103635229594 45.33639512062533, 124.48103633164413 45.3363951708722, 124.48103629763551 45.336395217365, 124.48103625154789 45.336395258356845, 124.481036195113 45.33639529230751, 124.4810361304512 45.33639531794129, 124.48103605999226 45.33639533429505, 124.48103598638347 45.336395340754294, 124.48103591239072 45.33639533707635, 124.48103584079415 45.33639532339938, 124.48103577428395 45.336395300237314, 124.48103571535914 45.33639526846042, 124.48103566623381 45.33639522926272, 124.48103394602205 45.3363935539786, 124.48103392121402 45.336393534227504, 124.48103165709728 45.33639205349874, 124.48103162730263 45.33639203753988, 124.48102899713838 45.336390896751816, 124.48102896350126 45.33639088519834, 124.48102606834259 45.33639012818073, 124.4810260321566 45.33639012147704, 124.48102298323727 45.336389777315055, 124.48102294589248 45.33638977571858, 124.48101986035533 45.336389857635346, 124.48101982328627 45.336389861207415, 124.48101681968022 45.33639036605561, 124.48101678441726 45.336390374633204, 124.48101394482266 45.336391295214746, 124.4809629466029 45.33641229580695, 124.48096058686109 45.33641348557527, 124.48096056026397 45.33641350179178, 124.48095854984513 45.33641497654645, 124.48095852791498 45.336414995927385, 124.48095693498317 45.33641670566518, 124.48095691846322 45.33641672755393, 124.48095579703067 45.33641861430193, 124.48095578648145 45.33641863795538, 124.48095517457294 45.33642063773977, 124.4809551703521 45.33642066235587, 124.48095508871651 45.33642270736741, 124.48095509096693 45.33642273211274, 124.4809555423722 45.3364247530109, 124.48095555099174 45.33642477697366, 124.48095653341692 45.33642672827668, 124.48097536320239 45.3364554692819, 124.48100321997175 45.336504215225716, 124.48100463692734 45.336506132221565, 124.4810046572192 45.33650615416136, 124.4810065737259 45.33650784132828, 124.4810065996582 45.336507860081234, 124.48100665454467 45.33650789271714, 124.48100669931783 45.33650792415003, 124.48100673614842 45.3365079603499, 124.48100676403266 45.33650800033014, 124.48107816912358 45.336636125438645, 124.48107957502954 45.33663806459678, 124.48107959524837 45.33663808680284, 124.4810798903109 45.33663835000109, 124.48107992340017 45.336638384750756, 124.48107994847281 45.3366384226911, 124.481120200504 45.336714184627795, 124.48119112254736 45.33683904768886, 124.4813051864393 45.33705626512781, 124.48130520232894 45.337056304201255, 124.48130520971795 45.33705634451462, 124.48130859539148 45.33710120486077, 124.48130859164789 45.3371012594797, 124.48130857237089 45.33710131244535, 124.48130853835188 45.33710136158338, 124.48130849098736 45.3371014048766, 124.48130843222171 45.33710144054777, 124.48127836415144 45.33711623595086, 124.48127830126266 45.33711626103123, 124.48127823281085 45.33711627732821, 124.48127816123596 45.33711628426089, 124.48127808908906 45.33711628158219, 124.48127801894191 45.33711626938758, 124.48127795329466 45.33711624811173, 124.48127789448725 45.33711621851297, 124.48127784461585 45.33711618164632, 124.48127780545809 45.33711613882584, 124.48121214561907 45.33702681357362, 124.48121050888209 45.33702502867214, 124.48121048620482 45.337025008479685, 124.4812083974431 45.337023476092, 124.48120836972845 45.33702345931522, 124.48120590540094 45.33702223553384, 124.48120587366313 45.337022222786636, 124.48120312397788 45.337021352408726, 124.48120308937841 45.33702134415774, 124.48120015498881 45.3370208590438, 124.48120011879514 45.33702085559121, 124.4811971071157 45.33702077349905, 124.48119707065202 45.33702077497115, 124.481194091927 45.337021098905815, 124.48119405652811 45.337021105248745, 124.48119121979508 45.3370218233525, 124.48119118675717 45.33702183433398, 124.48118859585622 45.33702292032018, 124.48118856638779 45.33702293553854, 124.48118631615984 45.33702434965434, 124.4811862913411 45.33702436855171, 124.4811844641568 45.337026059032844, 124.48118444489486 45.337026080918314, 124.48118310763948 45.337027985883644, 124.4811830946402 45.33702800995518, 124.48118229626473 45.337030059672706, 124.48118229000336 45.33703008505066, 124.48118205973279 45.337032204488764, 124.48118206043885 45.33703223024297, 124.48118240670227 45.337034341819006, 124.48118241432714 45.337034366932144, 124.48118333715637 45.33703641759342, 124.4812473390764 45.33714241746338, 124.48124883173921 45.33714433847648, 124.48124885299032 45.33714436038138, 124.48125085106491 45.33714603749872, 124.48125087799647 45.33714605603681, 124.48125330380765 45.3371474240609, 124.48125333537355 45.33714743851212, 124.48125609461749 45.337148444260805, 124.48125612958977 45.33714845406291, 124.48125911500014 45.33714905843746, 124.4812591520201 45.337149063209615, 124.48126224753808 45.337149242714766, 124.48126228516611 45.337149242271344, 124.48126537045304 45.3371489899289, 124.48126540722636 45.337148984287126, 124.4812656309474 45.337148933232214, 124.48126570591369 45.33714892182108, 124.48126578260069 45.337148921181964, 124.48126585792832 45.33714893134052, 124.4812659288711 45.33714895188873, 124.4812659925794 45.33714898200127, 124.48126604649462 45.337149020468665, 124.48126608845098 45.337149065745876, 124.48126985462063 45.33715418666105, 124.48127153779379 45.33715601270805, 124.48127156116468 45.337156033317015, 124.48127371707987 45.33715759266345, 124.48127374570315 45.337157609661176, 124.48127629153377 45.337158842408066, 124.48127632430823 45.337158855140544, 124.48127916221955 45.33715971391414, 124.4812791978863 45.33715972189246, 124.48128221881834 45.33716017369032, 124.48128225600713 45.33716017660791, 124.4812853438674 45.337160204067814, 124.48128538114848 45.33716020181247, 124.48128841727254 45.33715980387909, 124.48128845321311 45.33715979653756, 124.48129132092382 45.33715898850334, 124.48129135414356 45.33715897635749, 124.48129394323637 45.33715778927479, 124.48129397245758 45.33715777279181, 124.48129618343575 45.33715625227923, 124.48129620753576 45.3371562320926, 124.4812979554322 45.33715443658269, 124.4812979734854 45.33715441346768, 124.48129919112884 45.33715241196183, 124.4812992024416 45.33715238680608, 124.48129984303927 45.33715025622058, 124.48129984717619 45.33715022999176, 124.4812998861106 45.33714805220317, 124.48129988291294 45.33714802591032, 124.48129931868756 45.33714588460955, 124.48129930830906 45.3371458593369, 124.48129814700067 45.33714381272512, 124.48129296415395 45.33713676166111, 124.48129293534313 45.33713671010279, 124.48129292207126 45.33713665548114, 124.48129292489787 45.337136600099115, 124.48129294370365 45.3371365462918, 124.48129297769592 45.337136496327865, 124.48129302544139 45.33713645231392, 124.48129308492689 45.3371364161057, 124.48133252070515 45.33711701119042, 124.48133258661116 45.33711698517045, 124.48133265847977 45.337116968786844, 124.481332733511 45.33711696267785, 124.48133280878214 45.337116967081435, 124.48133288136076 45.337116981826085, 124.48133294841945 45.33711700633738, 124.48133300734578 45.337117039660434, 124.48133305584427 45.337117080497116, 124.48133309202562 45.33711712725656, 124.48133311448021 45.337117178117175, 124.48133312233345 45.33711723109759, 124.48133311527911 45.337117284133896, 124.4813135787583 45.33718801970231, 124.48131356405389 45.3371880578211, 124.48130895835016 45.33719727325638, 124.48130876306645 45.337197837971964, 124.48130873388803 45.33719789426298, 124.48130371957062 45.33720500087398, 124.48130260882063 45.33720706782266, 124.48130259896226 45.337207093684505, 124.48130209038376 45.337209274787455, 124.48130208797983 45.33720930151401, 124.48130220169261 45.337211510457784, 124.48130220683852 45.33721153699181, 124.48130293834112 45.337213686339936, 124.48130295083344 45.33721371163103, 124.48130427117113 45.33721571630746, 124.48130429051504 45.33721573935351, 124.4813061474254 45.3372175200077, 124.48130617285562 45.33721753989704, 124.48130849283713 45.337219026045865, 124.48130852334636 45.33721904199073, 124.48131121456855 45.33722017480865, 124.48131124894918 45.337220186178016, 124.48131420488527 45.33722092082462, 124.48131424177699 45.33722092716874, 124.48131734542336 45.33722123456475, 124.48131738336555 45.33722123563246, 124.48132051187119 45.33722110361026, 124.48132054936252 45.337221099359255, 124.48132357889253 45.337220533144695, 124.48132361444829 45.33722052374333, 124.48132642508642 45.337219545748525, 124.48132645729902 45.337219531569104, 124.4813289377918 45.337218180505936, 124.48132896530493 45.33721816216415, 124.4813310408454 45.33721647045962, 124.48133203922241 45.33721546987561, 124.48133356322809 45.33721357545051, 124.48133357841425 45.3372135513314, 124.48133411368799 45.3372124111215, 124.48133413438482 45.33721237568975, 124.48134428032319 45.337197999403124, 124.48134537262047 45.337195980426095, 124.48134538241963 45.33719595517057, 124.48134589989247 45.33719382526587, 124.48134590257429 45.33719379915017, 124.48134582565139 45.33719163888505, 124.48134582111423 45.337191612896774, 124.48134543993335 45.33719041022974, 124.48134543075305 45.33719035506931, 124.48134543777645 45.33719029975151, 124.48136278539545 45.33712748938336, 124.48136280762326 45.33712743743409, 124.48136284413627 45.337127389670755, 124.48136289345848 45.33712734802416, 124.48136295359618 45.33712731417781, 124.48136302211827 45.337127289499925, 124.48136309625482 45.337127274988056, 124.48136317300884 45.33712727122886, 124.48136324927795 45.33712727837428, 124.48136332197869 45.337127296135485, 124.48136338817237 45.33712732379448, 124.48136344518319 45.33712736023318, 124.48136349070654 45.33712740397862, 124.4813635229022 45.33712745326237, 124.48137110846918 45.33714301914405, 124.48145505353457 45.33729791785123, 124.48149513485814 45.33737606755359, 124.48157800067516 45.33752682350943, 124.4816098876485 45.33759358604336, 124.48161021310375 45.33759420712283, 124.48164600652298 45.33765684563502, 124.48164601529086 45.33765686259368, 124.48167802479117 45.33772586169146, 124.4818090206118 45.33797885374751, 124.48190501285579 45.338148853068226, 124.4819050203663 45.33814886756148, 124.48192212131468 45.33818504323554, 124.4819581224328 45.3382510441977, 124.48195883522521 45.33825216344661, 124.48197729811847 45.33827739608386, 124.4819773250988 45.33827744350414, 124.48199583512292 45.33832170663226, 124.48199585002385 45.33832176632044, 124.48199584566406 45.338321826848656, 124.48199582226346 45.33832188516464, 124.48199472828041 45.33832377121752, 124.48199471757182 45.33832379651854, 124.48199412841183 45.33832593565751, 124.48199412491171 45.33832596194595, 124.48199413912904 45.33832814104391, 124.48199414296043 45.33832816722903, 124.48199476931578 45.33833032817677, 124.4820019308828 45.33834667583059, 124.48207392624057 45.33849366643168, 124.48207440676154 45.338494531368454, 124.48217507176318 45.338655994111924, 124.48217508549627 45.33865601954902, 124.48219182915581 45.33869246165228, 124.48219224453062 45.33869326214106, 124.48236613599849 45.33899307515056, 124.48244204137674 45.33913789423854, 124.48250717970551 45.339249151806115, 124.48255204723863 45.339331907425375, 124.48261584979133 45.33945751876627, 124.48261585584234 45.33945753169798, 124.48262959192212 45.33948958257223, 124.4826296076929 45.33948964559971, 124.48262960197667 45.33948970947392, 124.4826243162814 45.339509978460995, 124.48262405788824 45.339512148792984, 124.48262405842726 45.33951217518055, 124.48262440537165 45.33951433935302, 124.48262441319982 45.33951436515889, 124.48262535214798 45.33951644001237, 124.4826253669645 45.339516464245804, 124.48262686183351 45.33951837004529, 124.48262688306866 45.33951839177404, 124.48262887641143 45.339520055280374, 124.48262890324945 45.339520073670066, 124.48263131846275 45.33952143095558, 124.4826313498723 45.339521445299425, 124.48263409414109 45.33952244420446, 124.4826341289146 45.33952245395107, 124.48263709677808 45.33952305608821, 124.4826371335801 45.33952306086323, 124.48264021098456 45.33952324309262, 124.4826402484003 45.33952324271244, 124.48264331708303 45.33952299803117, 124.48264335367466 45.3395229925104, 124.48264629570791 45.33952233032142, 124.48264633006899 45.339522319872316, 124.48264903239209 45.339521265623134, 124.48264906320247 45.339521250647124, 124.48265142196679 45.33951984485181, 124.48265144804165 45.33951982592497, 124.48265337260106 45.33951812260735, 124.48265339293924 45.33951810045669, 124.48265480933338 45.33951616507493, 124.4826548231125 45.3395161406239, 124.48265568553082 45.33951402177612, 124.48265961914922 45.33949894289182, 124.4826596401755 45.33949889154112, 124.48265967513841 45.33949884411964, 124.48265972266677 45.33949880248727, 124.4826597808964 45.33949876827682, 124.48265984754362 45.33949874283003, 124.4826599199945 45.339498727144935, 124.48265999540752 45.33949872183668, 124.48266007082496 45.33949872711346, 124.48266014328901 45.339498742768335, 124.4826602099575 45.33949876818731, 124.48266026821585 45.33949880237346, 124.48266031577909 45.339498843986, 124.48266035078179 45.33949889139287, 124.4826603718512 45.33949894273481, 124.4826606753626 45.33950010234079, 124.48266068572886 45.33950012769715, 124.4826618280146 45.33950215119309, 124.48266184519628 45.339502174636436, 124.48266352528832 45.33950400208831, 124.48266354862488 45.33950402271716, 124.48266570195813 45.339505583896965, 124.4826657305528 45.339505600918585, 124.48266827437628 45.339506835831244, 124.48266830713055 45.33950684859173, 124.48267114368608 45.33950770978, 124.48267117934084 45.33950771778876, 124.48267419962131 45.33950817215783, 124.48267423680655 45.33950817510708, 124.48267732474429 45.339508205195784, 124.48267736203071 45.3395082029722, 124.48268039895811 45.3395078076242, 124.48268043491277 45.339507800313264, 124.48268330412245 45.339506994721546, 124.4826833373636 45.3395069826043, 124.48268592859282 45.33950579772745, 124.48268595784405 45.339505781269, 124.48268817151316 45.33950426264132, 124.48268819564916 45.33950424247497, 124.48268994668888 45.33950244845615, 124.48268996472865 45.3395024254252, 124.48269119900363 45.33950040015771, 124.48270519729446 45.33946939945202, 124.48270584913325 45.33946722099522, 124.48270585324097 45.339467194177395, 124.48270587609333 45.339464967808524, 124.48270587253639 45.339464940950954, 124.48270526548666 45.339462756073296, 124.48270525444123 45.3394627303327, 124.48270402538233 45.33946065023526, 124.48270291989678 45.33945920460118, 124.48270289085977 45.33945915563527, 124.48270287597231 45.33945910360853, 124.48270287580993 45.33945905053309, 124.48270289037912 45.33945899846153, 124.48270291911622 45.339458949407735, 124.48270296091007 45.33945890526877, 124.48270301414412 45.339458867751674, 124.48270307675973 45.339458838307394, 124.48270314633524 45.33945881807465, 124.48270322018003 45.339458807835925, 124.48270329543797 45.33945880798721, 124.48270336919876 45.33945881852262, 124.48270343860958 45.33945883903474, 124.48270481646999 45.33945936396416, 124.48270485097744 45.339459374170666, 124.48270780224264 45.33946001559445, 124.48270783891057 45.339460020857096, 124.48271091090353 45.339460243901556, 124.48271094832249 45.33946024401806, 124.48271402298828 45.339460040111675, 124.4827140597205 45.339460035077586, 124.4827170189013 45.33945941205638, 124.48271705353498 45.339459402065216, 124.48271978351116 45.33945838387149, 124.48271981471554 45.33945836930716, 124.4827222105752 45.33945699506975, 124.48272223707252 45.339456976546906, 124.48272422926247 45.33945527788598, 124.48276822793282 45.33940927681807, 124.48276972703353 45.33940730754063, 124.48276974170062 45.33940728251458, 124.4827706515522 45.339405141476725, 124.48277065881969 45.33940511488718, 124.48277094260015 45.339402888740295, 124.48277094217404 45.33940286166305, 124.48277058839784 45.33940064050696, 124.48277058029517 45.3394006140374, 124.48276960328121 45.33939848777047, 124.48276958782986 45.33939846297994, 124.48276802712091 45.339396517658415, 124.4827680049466 45.33939649555095, 124.48276592370951 45.339394809908406, 124.48276589571012 45.339394791378915, 124.48276337817953 45.33939343363895, 124.48276334548768 45.3393934194368, 124.48276049355673 45.33939244455197, 124.48276045749579 45.339392435252115, 124.4827573865916 45.3393918826792, 124.48275734873425 45.33939187866995, 124.48275414460439 45.33939177081393, 124.48273212469655 45.33939258636653, 124.48273204954656 45.33939258392781, 124.48273197652523 45.33939257116797, 124.4827319084542 45.339392548580086, 124.48269697464136 45.33937783961061, 124.48269691569651 45.33937780904754, 124.48269686607598 45.33937777113203, 124.48269682759324 45.33937772724982, 124.48269680165487 45.33937767900477, 124.48269678920876 45.339377628160186, 124.48269679070992 45.339377576574364, 124.48269680610348 45.339377526132736, 124.48269683482671 45.339377478678834, 124.48269687582994 45.33937743594709, 124.48269820111808 45.3393763050244, 124.48269822171873 45.33937628351802, 124.48269967126983 45.339374401439024, 124.48269968563663 45.33937437754395, 124.48270059618106 45.33937233427928, 124.48270060377956 45.339372308884286, 124.4827009414785 45.33937018036854, 124.48270094202641 45.33937015441752, 124.4827006943295 45.33936801975499, 124.48270068782577 45.33936799428762, 124.48269985223706 45.33936590810926, 124.48245585986778 45.338923922139436, 124.48235483938586 45.33874888316125, 124.48231378122362 45.33867278248405, 124.48222378421491 45.338515787772764, 124.48217085430781 45.338428896065146, 124.48217084545581 45.338428880163654, 124.4821250832584 45.33833835040482, 124.48207614702952 45.33823348711633, 124.48202692189331 45.3381350367784, 124.4818819057827 45.33786325180915, 124.48188188663276 45.33786320180827, 124.48188188137803 45.3378631501482, 124.48188189021194 45.33786309873149, 124.4818819128093 45.33786304945162, 124.4818819483378 45.337863004123484, 124.48188199548903 45.33786296441634, 124.48188205252656 45.33786293179252, 124.48188211734993 45.337862907453456, 124.48188218757177 45.3378628922955, 124.4818822606061 45.33786288687688, 124.48188233376321 45.337862891397094, 124.48188240434897 45.33786290568976, 124.48188246976387 45.33786292922846, 124.48188252759876 45.33786296114636, 124.48188257572392 45.337863000267994, 124.48188395181101 45.33786436398557, 124.4818839759889 45.337864383615475, 124.48188618376652 45.33786586011234, 124.48188621284446 45.337865876098306, 124.48188878189904 45.33786702572844, 124.48188881479211 45.33786703747393, 124.48189164929006 45.337867817352766, 124.48189168477082 45.33786782441955, 124.48189467897667 45.33786820545511, 124.481894715722 45.33786820757964, 124.48189775794155 45.33786817555802, 124.48189779458077 45.337868172661054, 124.48190077132945 45.33786772877679, 124.48190080649593 45.33786772096628, 124.48190360673198 45.337866881777664, 124.48190363911294 45.33786686934529, 124.48190615837856 45.337865666156624, 124.48190618676703 45.337865649565764, 124.48190675292629 45.337865247634944, 124.48190681370771 45.33786521255068, 124.48190688336527 45.33786518695729, 124.48190695896443 45.33786517193294, 124.4819070373206 45.337865168110525, 124.48190711513288 45.33786517565109, 124.48190718912332 45.33786519423698, 124.48190725617494 45.33786522308524, 124.48190731346304 45.337865260980585, 124.48190735857447 45.33786530632662, 124.48190908305416 45.337867485717396, 124.48191082348173 45.33786925821883, 124.48191084742588 45.3378692781519, 124.48191304041585 45.33787078016299, 124.48191306936758 45.33787079645911, 124.48191424466613 45.33787133527316, 124.48191430691347 45.33787137086862, 124.48191435728477 45.33787141482649, 124.48191439357089 45.33787146521902, 124.48205602972592 45.33813287428792, 124.48209892223618 45.33821865917773, 124.48217588570282 45.33838058109386, 124.48217654181242 45.33838174176859, 124.4822284386254 45.33846058503417, 124.48226720837448 45.338524207658324, 124.48234716985588 45.338674131207206, 124.48243608188163 45.33883297411357, 124.48249620626916 45.33895019576785, 124.48258206611759 45.339100949756705, 124.4826498765884 45.33923756714809, 124.48268381951245 45.33931243669224, 124.48268504375451 45.339314436210486, 124.48268506188394 45.33931445929587, 124.48268681572114 45.339316251952326, 124.48268683988893 45.33931627210027, 124.48268905592363 45.33931778900614, 124.48268908519985 45.33931780544144, 124.4826916782712 45.33931898830307, 124.48269171153139 45.339319000394546, 124.48269458198884 45.339319803755, 124.48269461795499 45.339319811038024, 124.48269765548847 45.339320204024645, 124.48269769277806 45.33932020621924, 124.48270078065676 45.33932017372974, 124.48270081783713 45.33932017075158, 124.48270383739546 45.33931971403459, 124.4827038730377 45.33931970599809, 124.48270670823598 45.339318842604946, 124.48270674096999 45.339318829819064, 124.48270928285305 45.33931759292939, 124.48270931142105 45.339317575885524, 124.4827114623054 45.33931601303248, 124.48271148560994 45.339315992385316, 124.48271316283878 45.33931416362821, 124.48271317998355 45.339314140171886, 124.48271431910166 45.33931211578898, 124.48271432942832 45.339312090424286, 124.48271488665996 45.33930994821182, 124.4827148897717 45.339309921913156, 124.48271484370301 45.33930774419514, 124.48271483949276 45.339307718052154, 124.48271418224398 45.33930556291411, 124.48269484568127 45.339262916564955, 124.48269483004036 45.33926286541536, 124.4826948286885 45.339262813098514, 124.48269484167666 45.33926276158099, 124.4826948685166 45.33926271279923, 124.48269490819942 45.33926266858687, 124.48269495923347 45.339262630605816, 124.48269501970046 45.33926260028374, 124.48269508732749 45.339262578760355, 124.48269515957261 45.339262566844745, 124.48269523372021 45.33926256498479, 124.48269530698325 45.33926257325039, 124.48269537660762 45.33926259133085, 124.48269543997648 45.339262618546584, 124.48269549470781 45.339262653874556, 124.48269553874427 45.33926269598684, 124.48269557043074 45.339262743300495, 124.48271999630305 45.33931080433581, 124.48272108706273 45.33931249187488, 124.48272110261667 45.33931251142735, 124.48272259519902 45.33931406562047, 124.48273859597298 45.33932806487265, 124.4827403640422 45.33932937696676, 124.48274038717898 45.33932939154896, 124.48274245948726 45.339330496305394, 124.48277146283586 45.339343496326634, 124.48277416431563 45.339344463852115, 124.48277419849897 45.339344473302006, 124.4827754341061 45.33934472130202, 124.48277549927901 45.33934473905954, 124.48277555878792 45.33934476487763, 124.48277561064927 45.33934479789569, 124.48277638273694 45.339345388219016, 124.48277641068223 45.339345405770224, 124.48277890715272 45.339346687838095, 124.4827789394155 45.339346701206885, 124.48278174257182 45.339347615158665, 124.48278177791302 45.339347623831685, 124.48278478003121 45.3393481345446, 124.4827848170922 45.33934813818847, 124.48278790280293 45.33934822603609, 124.48278794015977 45.33934822451082, 124.48279099088059 45.33934788611714, 124.48279102709726 45.339347879481465, 124.48279392559053 45.33934712785072, 124.48279395927588 45.339347116359555, 124.48279659415397 45.33934598037652, 124.48279662401322 45.33934596447152, 124.482798894019 45.33934448779168, 124.48279891890515 45.33934446808368, 124.48280073680367 45.33934270745495, 124.48280075575981 45.33934268470181, 124.48280205169058 45.33934070778381, 124.48280206398843 45.33934068285958, 124.48280278814929 45.33933856562489, 124.48280279330073 45.33933853956574, 124.48280291755664 45.33933633689348, 124.4827978256329 45.33927430830698, 124.48279782886686 45.33927425440502, 124.48279784723779 45.3392742020336, 124.48279788001172 45.33927415328549, 124.48279792587894 45.33927411010857, 124.48279798300666 45.339274074228165, 124.48279804911212 45.33927404707807, 124.48279812155393 45.339274029743116, 124.48279819743713 45.33927402291605, 124.48279827372966 45.339274026869624, 124.4827983473829 45.339274041445876, 124.4827984154537 45.33927406606238, 124.48279847522208 45.339274099735434, 124.4827985242996 45.33927414111953, 124.48279856072534 45.339274188560985, 124.4828122982408 45.339297350478894, 124.48281374254384 45.33929924591119, 124.48281376311647 45.33929926757565, 124.48281569840854 45.33930093110119, 124.48281572451734 45.33930094956276, 124.48281807820858 45.339302318787205, 124.48281810887336 45.339302333352876, 124.48282079267474 45.33930335691538, 124.48282082674574 45.33930336703902, 124.48282373998441 45.33930400654447, 124.4828237761835 45.33930401184629, 124.48282680958077 45.33930424330608, 124.48282684655025 45.33930424358728, 124.48282988632025 45.33930405831916, 124.48282992267308 45.33930405356912, 124.48283285479054 45.33930345852271, 124.48283288916328 45.339303448919615, 124.48283560364119 45.33930246641579, 124.48283563474467 45.339302452319764, 124.48283802975986 45.33930111921342, 124.48283805642734 45.3393011011531, 124.48284004214018 45.339299467450736, 124.48284006337133 45.339299446103425, 124.48284156529645 45.339297573086405, 124.48284158029385 45.33929754925408, 124.48284254209221 45.33929550718088, 124.4828425502941 45.339295481757084, 124.48284293588718 45.33929334722877, 124.48284293698612 45.339293321166096, 124.48284273191027 45.33929117425165, 124.4828427258826 45.3392911486048, 124.48284192654032 45.339289044910906, 124.48279876047431 45.339207745179046, 124.48279873991783 45.33920768820018, 124.48279873734465 45.339207629433965, 124.4827989409068 45.33920579897412, 124.4827989402005 45.33920577281943, 124.48279858482435 45.33920362853814, 124.48279857695933 45.33920360297422, 124.48279764027576 45.33920154764655, 124.48279762554874 45.33920152363772, 124.48279614292616 45.339199634871214, 124.48279612189287 45.33919961332384, 124.48279414931359 45.33919796243602, 124.48279412276845 45.33919794416419, 124.48279285277556 45.339197225861255, 124.48279280532648 45.339197193946, 124.48279276629906 45.33919715678668, 124.4827927368393 45.339197115474185, 124.48262886585304 45.33890793145255, 124.48255176533186 45.33876375484686, 124.48240277016187 45.338505763325145, 124.48232391051191 45.33838395612049, 124.48232389403638 45.338383926031874, 124.4822720483344 45.338269282099226, 124.4821420526264 45.33800729088794, 124.48206991513031 45.33787902020703, 124.4820268105618 45.33779483439237, 124.48196621321259 45.337687547332735, 124.4819661976355 45.33768751337739, 124.48195740905258 45.337662905371275, 124.48195739814633 45.337662855584476, 124.48195740054953 45.33766280523553, 124.48195741617816 45.337662756078686, 124.48195756608428 45.337662430569594, 124.48195757406104 45.33766240501849, 124.48195793872198 45.337660261178925, 124.48195793954051 45.33766023502097, 124.48195770934556 45.33765808192251, 124.48195770299387 45.33765805622485, 124.4819568750033 45.337655950265, 124.48195087295854 45.33764495032133, 124.48194944428639 45.33764295658702, 124.48194942362211 45.33764293378195, 124.48194745832433 45.33764118192853, 124.48194743160965 45.337641162500276, 124.48194500912878 45.33763972333712, 124.48194497744353 45.33763970807076, 124.4819421957149 45.33763863978006, 124.48194216033949 45.33763862929262, 124.48194074436388 45.337638323409244, 124.48194066450107 45.33763829884058, 124.48194059458842 45.33763826216776, 124.48194053825019 45.337638215291946, 124.4819247053762 45.33762150282126, 124.48192466994294 45.33762145603854, 124.48192464816678 45.337621405271925, 124.4819246408885 45.33762135248205, 124.48192464838942 45.33762129970768, 124.48192467037967 45.33762124898699, 124.4819247060101 45.33762120227883, 124.48192475390461 45.337621161387105, 124.48192481221348 45.33762112789106, 124.48192487868478 45.33762110308433, 124.48192548019932 45.33762092955648, 124.48192551426634 45.33762091675401, 124.48192816026751 45.33761966487197, 124.48192818998443 45.337619647496915, 124.48193042467818 45.337618045706634, 124.48193044882973 45.33761802446966, 124.48193218079354 45.33761613830114, 124.48193219839196 45.33761611407087, 124.48193335677155 45.337614020686935, 124.48193336709666 45.33761399445483, 124.48193390450267 45.33761177949648, 124.48193390713206 45.337611752335675, 124.4819338015793 45.33760950641635, 124.48193379642102 45.33760947951896, 124.4819330412984 45.33760726829285, 124.48185380562573 45.33744782583016, 124.48172117590526 45.33721348019319, 124.48172116136278 45.33721344915879, 124.48171240942608 45.337190114245324, 124.4817115440836 45.337188393429145, 124.48171153123397 45.33718837330242, 124.48171026162152 45.33718675671614, 124.48168243523499 45.33715729349468, 124.48168238881648 45.337157225157995, 124.48166419694354 45.33711660115964, 124.48166294856048 45.33711455478691, 124.48166292998786 45.337114531188895, 124.48166112783663 45.33711270161212, 124.48166110296208 45.337112681101864, 124.4816588194991 45.33711114187847, 124.48165878932176 45.33711112527986, 124.4816561163562 45.33710993829579, 124.48165608209062 45.33710992627717, 124.48165312709166 45.33710913925628, 124.48165309011532 45.337109132300654, 124.48164997189248 45.33710877688621, 124.48164993369203 45.3371087752732, 124.48164677761744 45.33710886575506, 124.48164673972869 45.337108869549496, 124.48164367269572 45.33710940228981, 124.48164363664225 45.33710941133904, 124.48164078196469 45.3371103649184, 124.4816407491959 45.33711037885865, 124.48163822165019 45.337111714937016, 124.4816381934831 45.33711173320796, 124.48163609469171 45.337113398067075, 124.48163607225975 45.33711341993348, 124.48163448660752 45.3371153466353, 124.48163447081161 45.33711537121904, 124.48163346205136 45.337117482298396, 124.48163345352727 45.33711750861018, 124.48163335058902 45.33711809012693, 124.48163333297043 45.337118143979296, 124.48163330016736 45.337118194171346, 124.48163325355523 45.337118238598336, 124.48163319508878 45.337118275397266, 124.48163312721961 45.33711830302499, 124.48163305279394 45.33711832032297, 124.4816329749326 45.337118326565836, 124.48163289690075 45.3371183214918, 124.48163282197042 45.33711830531364, 124.48163275328388 45.33711827870977, 124.48163269372135 45.33711824279579, 124.48162173527693 45.33711012542854, 124.48162168067262 45.33711007384827, 124.48160656927783 45.3370915371825, 124.4816065366413 45.337091485094916, 124.48160652022764 45.33709142933718, 124.48160555886636 45.3370846036935, 124.48160556011965 45.3370845425813, 124.48160558083724 45.33708448323501, 124.48161611432967 45.33706443561236, 124.48161614564212 45.33706438980515, 124.48161618858214 45.337064348953646, 124.48161624162515 45.33706431450817, 124.48161630288818 45.337064287691604, 124.48161637019612 45.33706426945601, 124.48161644115943 45.33706426044879, 124.48161651325867 45.33706426098973, 124.48161658393414 45.337064271059624, 124.48161665067684 45.33706429030096, 124.4816169776023 45.33706441104061, 124.4816170115635 45.33706442078032, 124.48161991063148 45.337065031010276, 124.48161994660661 45.33706503599156, 124.48162295761328 45.33706524409675, 124.48162299427514 45.33706524413576, 124.4816260061586 45.337065042440166, 124.48162604215504 45.33706503753547, 124.48162894382077 45.33706443347875, 124.48162897782372 45.33706442381126, 124.48163166224248 45.337063439674274, 124.48163169299804 45.33706342560053, 124.48163406115371 45.33706209768377, 124.48163408752761 45.33706207972282, 124.48163605207012 45.337060457006814, 124.48163607308915 45.33706043582115, 124.48163756155567 45.337058578160466, 124.4816375764444 45.33705855453206, 124.48163853393224 45.33705653044724, 124.48163854214187 45.33705650524697, 124.4816389333337 45.33705438939714, 124.48163893456125 45.33705436355479, 124.48163874502787 45.3370522339841, 124.48163873924534 45.33705220852914, 124.48163796501612 45.337050119019516, 124.48146497404773 45.3367171365715, 124.48139849794713 45.336604319693066, 124.48130449089739 45.33645931219929, 124.4813028805685 45.33645737425674, 124.48130285786216 45.33645735235538, 124.48130070044382 45.33645566309865, 124.48129422065523 45.33645151603959, 124.48129416881619 45.33645147538361, 124.48129412965939 45.33645142819305, 124.48129410479197 45.33645137640479, 124.48129409523439 45.33645132214441, 124.48129410137919 45.33645126763892, 124.48129412297388 45.336451215125486, 124.48129530135692 45.33644915680579, 124.4812953120514 45.336449130905564, 124.4812958865853 45.33644694148548, 124.48129588974221 45.33644691460175, 124.4812958337265 45.33644468835052, 124.48129582923256 45.33644466164209, 124.48129513474808 45.33644246186912, 124.48122913281682 45.33630146221309, 124.48122783729603 45.33629941564131, 124.48122781813501 45.33629939209015, 124.48122596657856 45.336297570548865, 124.48122594110504 45.33629755018905, 124.48122360886545 45.33629602780854, 124.48122357811567 45.33629601146847, 124.48122086010565 45.33629485020329, 124.4812208253328 45.33629483854886, 124.48121783216483 45.33629408565823, 124.48121779478282 45.33629407916315, 124.48121464826906 45.336293765287316, 124.4812146097993 45.336293764215924, 124.48121143799085 45.33629390212838, 124.48121139999921 45.33629390652434, 124.48120833197717 45.336294490612616, 124.48120829600964 45.336294500296994, 124.48120545663157 45.33629550679079, 124.48120542415184 45.33629552136939, 124.48120292896965 45.336296909308345, 124.48120290130002 45.33629692818755, 124.48120085185889 45.33629864108752, 124.48120083012473 45.33629866349946, 124.48119930982982 45.33630063165133, 124.48119929491547 45.336300656684166, 124.48119836563735 45.33630279999097, 124.48119835817249 45.33630282654613, 124.48119805600003 45.33630508501148, 124.48119905801683 45.33641608533486, 124.48119941448029 45.336418365912984, 124.48119942281984 45.33641839307687, 124.48120043588963 45.336420573380416, 124.4812004519628 45.33642059875692, 124.48120207843364 45.33642258580114, 124.48120210148579 45.3364226082408, 124.48120429986018 45.336424337088616, 124.4812606782324 45.3364604192633, 124.48126072154832 45.33646045200151, 124.48126075659306 45.33646048934031, 124.48126078240203 45.33646053025185, 124.48129842839697 45.33653665884081, 124.48129844577825 45.33653670897473, 124.48131724455405 45.33662811012462, 124.48131724805991 45.336628162065196, 124.4813172373775 45.336628213515894, 124.4813172129034 45.336628262566784, 124.48131717554604 45.33662830739703, 124.48131712669226 45.33662834634246, 124.48131706815563 45.33662837795735, 124.48131700210892 45.33662840106812, 124.48131693100414 45.33662841481684, 124.48131685748065 45.336628418693174, 124.48131678426789 45.3366284125532, 124.48131671408339 45.33662839662486, 124.48131664953273 45.33662837149943, 124.48131659301211 45.33662833810959, 124.48131654661954 45.336628297694844, 124.48131651207723 45.33662825175544, 124.48118873360876 45.336409703595464, 124.48118760741005 45.33640814033117, 124.48118759172125 45.33640812224704, 124.48118611212122 45.336406686677364, 124.48115251110099 45.33637895252315, 124.48115246502303 45.33637890505198, 124.48115243425742 45.33637885177147, 124.48115242020215 45.33637879510253, 124.48115242349573 45.33637873762002, 124.48115244398869 45.336378681935756, 124.48115265892089 45.336378280105755, 124.48115268747348 45.33637823811015, 124.48115272583796 45.336378200202, 124.48115277287201 45.33637816751022, 124.48115282717482 45.336378141008346, 124.48115517756528 45.336377194234636, 124.48115520734812 45.3363771794108, 124.48115748822627 45.336375796220416, 124.48115751347072 45.336375777674135, 124.48115937997102 45.33637411391934, 124.48115939975737 45.33637409232614, 124.4811607838191 45.33637220867496, 124.48116079742451 45.33637218482359, 124.48116164857815 45.336370149962505, 124.4811616554866 45.336370124797135, 124.48116194444243 45.33636798731869, 124.48116194277529 45.336366987443206, 124.48116166188238 45.33636489863542, 124.48116165510478 45.336364873662106, 124.48116089516057 45.33636303525228, 124.48116088077865 45.33636297834165, 124.48116088391068 45.33636292057636, 124.48116090441282 45.33636286460654, 124.48116192302535 45.33636095669666, 124.48116271656997 45.33635888703712, 124.48116272270968 45.33635886142163, 124.48116293784342 45.3363567228831, 124.48116293689314 45.33635669691234, 124.48116256563607 45.336354569048055, 124.48116255763067 45.3363545436891, 124.48116161380719 45.33635250573423, 124.48116159904532 45.33635248193262, 124.48116011780127 45.336350609775444, 124.4811600968315 45.33635058841579, 124.48115813332463 45.336348951770276, 124.48115810692863 45.33634893364907, 124.48115573427373 45.33634759345878, 124.48115570343465 45.33634757925086, 124.48115300998295 45.33634658542095, 124.48115297584916 45.336346575655185, 124.48115006189714 45.33634596519316, 124.48115002573951 45.33634596023312, 124.48114699979487 45.33634575587099, 124.48114696306979 45.33634575590125, 124.48114390124637 45.33634596902927, 124.4811079019195 45.336350970167004, 124.48110504640842 45.33635156926891, 124.48110501293189 45.33635157880459, 124.48110236842358 45.33635254636318, 124.48110233809095 45.33635256017369, 124.48109999916312 45.336353861583966, 124.48109997305914 45.336353879175604, 124.48109802336738 45.336355467890286, 124.48109800242632 45.33635548863357, 124.48109651170454 45.33635730782979, 124.4810964966756 45.336357330982274, 124.48109551824217 45.33635931559343, 124.48109550966271 45.33635934032699, 124.48109507851385 45.336361419369446, 124.48109507669027 45.33636144480064, 124.48109520824659 45.336363543912455, 124.48109521324454 45.336363569131464, 124.48109555258267 45.33636457505748, 124.48109556271139 45.33636462752738, 124.48109555811881 45.3363646803822, 124.48109553898156 45.33636473158716, 124.48109550603647 45.336364779171056, 124.48109546055177 45.33636482130204, 124.48109540427858 45.336364856358195, 124.48109533938307 45.33636488298997, 124.48109526836369 45.33636490017212, 124.48108231528859 45.336367060363386, 124.48107937835844 45.33636777165697, 124.48107934415088 45.33636778270707, 124.48107666214175 45.33636888650149, 124.48107663167264 45.336368902069395, 124.48107430877722 45.336370355479374, 124.48107428322966 45.3363703749605, 124.4810724097112 45.33637212150937, 124.48107239013726 45.336372144078794, 124.4810710240415 45.33637414041348, 124.4810696187161 45.336376842962174, 124.4810695903481 45.33637688558665, 124.48106955190806 45.336376924085094, 124.48106950456595 45.336376957285665, 124.48106944976284 45.336376984177804, 124.4810440560574 45.336387251149375, 124.48104158871399 45.33638848458244, 124.48104156098768 45.33638850148408, 124.48103947332231 45.33639004472395, 124.48103945068596 45.33639006505152, 124.48103781963653 45.336391861222175, 124.48103780292533 45.33639188422553, 124.4810366886084 45.33639386712436, 124.48103667843785 45.336393891956405, 124.48103635229594 45.33639512062533), (124.48275285014473 45.33930469905264, 124.48275280771398 45.33930465302878, 124.48275277936612 45.33930460190184, 124.48275276627409 45.339304547787115, 124.48275272984385 45.339304165551646, 124.48275272372913 45.33930413966179, 124.48275191136447 45.33930201653104, 124.48271571821027 45.33923439251707, 124.48271569646275 45.339234330419906, 124.48271555787541 45.339233542178924, 124.48271554965322 45.339233516434206, 124.48271457903707 45.339231448841936, 124.48271456389625 45.33923142479472, 124.48271301998163 45.339229508218466, 124.48271201875825 45.33922850911837, 124.48271140606757 45.33922800692613, 124.48271136782962 45.33922796955076, 124.48271133916616 45.339227928132026, 124.4824988755706 45.33883995075591, 124.48236181875212 45.33860184769156, 124.4823135922965 45.33851446710939, 124.48225573880107 45.338421702060195, 124.48221299538804 45.33834416740334, 124.48211711951656 45.338142428701474, 124.4820718660436 45.33805293376111, 124.4819828568633 45.33789092270637, 124.4819810168192 45.33788850533659, 124.48190301656425 45.337810507825395, 124.48190077206431 45.33780871107302, 124.48190074171531 45.3378086915059, 124.48189807275251 45.33780731152016, 124.48189801215788 45.33780727249617, 124.48189796475282 45.33780722525845, 124.48188873658309 45.33779554879053, 124.48188870590347 45.33779549860712, 124.4818721986215 45.33775860425051, 124.48187099649384 45.337756615946745, 124.48187097867324 45.33775659296744, 124.48186925341125 45.33775480646101, 124.48186922961956 45.33775478635072, 124.48186704652416 45.33775326925911, 124.4818670176611 45.33775325277827, 124.48186445936486 45.33775206252522, 124.48186442652312 45.337752050297816, 124.48186194105632 45.337751333253806, 124.48186186928712 45.33775130592572, 124.48186180735965 45.33775126849169, 124.48186175808705 45.33775122265217, 124.48186172370754 45.33775117048951, 124.48185423359685 45.33773566462453, 124.48185422752795 45.337735650868574, 124.48185366348336 45.33773424075929, 124.48185364937181 45.337734177492955, 124.48185287138935 45.3377193959096, 124.48185287581143 45.33771934379399, 124.48185289437832 45.337719293253976, 124.48185292639535 45.337719246180825, 124.48185297066436 45.33771920433607, 124.48185302552872 45.33771916928559, 124.48185308893531 45.33771914234103, 124.48185315851144 45.33771912451067, 124.48185323165349 45.33771911646176, 124.48185349206187 45.337719105814145, 124.48185352978496 45.337719101571075, 124.48185657806883 45.33771853335505, 124.48185661383863 45.33771852389865, 124.48185944061936 45.33771753893173, 124.48185947300266 45.33771752464077, 124.48186196504031 45.33771616238053, 124.48186199273991 45.33771614382746, 124.48186343359167 45.33771496382689, 124.48186348595296 45.337714928383235, 124.48186354686084 45.3377149005492, 124.4818636141246 45.33771488132591, 124.48186368532458 45.33771487140482, 124.48186375790014 45.33771487114278, 124.48186382924048 45.33771488054921, 124.48186389677967 45.337714899285764, 124.48186395808847 45.33771492667851, 124.4818640109616 45.33771496174218, 124.48186405349733 45.33771500321555, 124.48186408416561 45.33771504960687, 124.48186898209649 45.33772477456168, 124.48187027777816 45.33772672447054, 124.48187029665067 45.33772674691333, 124.48187210133555 45.337728483900044, 124.48187212599298 45.337728503354136, 124.48187437189374 45.33772996217974, 124.48187440140981 45.33772997791399, 124.48187700415428 45.33773110377485, 124.48187703741937 45.3377311151977, 124.48187989923002 45.337731865798425, 124.48187993499418 45.33773187248076, 124.4818829483604 45.33773221962319, 124.48188298528102 45.337732221314184, 124.48188603699816 45.337732151957056, 124.48188607368775 45.33773214859311, 124.48188904911167 45.33773166534196, 124.48188908419162 45.337731657049545, 124.48189187154316 45.33773077805888, 124.48189190369635 45.33773076514933, 124.48189439826241 45.33772952344043, 124.48189442628015 45.33772950639901, 124.48189653434711 45.337727948619246, 124.48189655717718 45.33772792808609, 124.48189819954958 45.3377261127577, 124.48189821633476 45.337726089503676, 124.4818993313138 45.33772408482339, 124.48189934142302 45.337724059722646, 124.48189988712204 45.33772194100011, 124.48189989017555 45.337721914996166, 124.48189984609405 45.3377197618271, 124.48189984198956 45.337719735972655, 124.48189920036377 45.33771760391709, 124.48188220788643 45.33767962075495, 124.48188183945483 45.337678885909774, 124.48185963772329 45.33763900468436, 124.48182591183054 45.33757201825793, 124.48174485553656 45.33742091500321, 124.48159791162637 45.337155016624436, 124.48157306125012 45.337107437506425, 124.48157304240989 45.33710738659676, 124.48157303793295 45.33710733407645, 124.48157304798963 45.33710728194158, 124.48157307219755 45.33710723217355, 124.48157310963683 45.33710718666387, 124.48157315888443 45.33710714714216, 124.4815732180686 45.337107115110484, 124.4815732849401 45.33710709178623, 124.48157335695747 45.337107078055865, 124.4815734313835 45.337107074441214, 124.48157350538962 45.33710708107965, 124.48157357616319 45.337107097718906, 124.48157364101432 45.33710712372655, 124.48157369747831 45.33710715811414, 124.48159593540623 45.337123630672316, 124.48159599000729 45.33712368224863, 124.48165218830252 45.33719261611235, 124.48165401812484 45.337194417369304, 124.48165404326991 45.33719443752497, 124.48165634353455 45.33719594684966, 124.48165637385098 45.337195963085165, 124.48165905306023 45.33719712044175, 124.48165908734143 45.33719713211103, 124.4816620389216 45.33719789146214, 124.4816620758045 45.33719789810124, 124.48166272285798 45.337197967073486, 124.48166280137549 45.337197981583095, 124.48166287378766 45.33719800744585, 124.48166293683666 45.33719804349821, 124.481662987686 45.33719808811816, 124.48166302404779 45.33719813929826, 124.48171713710045 45.3373000715887, 124.48182600226795 45.33749782675772, 124.4818691129714 45.337588026991014, 124.48187417186112 45.33759731611882, 124.4818741932118 45.33759737351756, 124.4818741962605 45.337597432819614, 124.48187418085975 45.33759749115814, 124.48187414775418 45.3375975457128, 124.48187341313147 45.33759846214858, 124.48187339774465 45.33759848683065, 124.48187242340208 45.337600603595334, 124.48187241529907 45.33760062994513, 124.48187205869651 45.33760284119919, 124.48187205820241 45.337602868160246, 124.48187233364881 45.337605085175916, 124.48187234078362 45.33760511166513, 124.4818732372268 45.33760724548311, 124.48187325166077 45.337607270363094, 124.48187475280255 45.33760925859932, 124.48188866330285 45.33762394192235, 124.48188870234323 45.33762399508443, 124.4819299414779 45.3376997128236, 124.48192994899692 45.337699727957634, 124.4819541144564 45.33775342901593, 124.48195413021092 45.33775348192846, 124.48195413069524 45.337753535993954, 124.48195411588995 45.337753589042656, 124.48195408638917 45.33775363894564, 124.4819540433768 45.33775368370022, 124.48195398857914 45.3377537215103, 124.48195392419515 45.33775375085852, 124.48195385280869 45.33775377056706, 124.48195377728477 45.337753779845016, 124.48195370065412 45.33775377832003, 124.48195352025618 45.337753761875106, 124.48195348327592 45.33775376105386, 124.48195043651067 45.337753902188666, 124.48195040000039 45.33775390641418, 124.48194744907018 45.33775445942433, 124.48194741440172 45.33775446853782, 124.48194467016637 45.33775541264801, 124.4819446386426 45.33775542630684, 124.48194220419809 45.33775672604869, 124.48194217700177 45.337756743740414, 124.48194014380569 45.33775835028499, 124.48194012195974 45.33775837134426, 124.48193856639413 45.33776022433755, 124.4819385507189 45.3377602479736, 124.48193753122376 45.3377622778021, 124.48193752230819 45.33776230312666, 124.48193707718394 45.337764433533536, 124.48193707536284 45.33776445959614, 124.48193722133176 45.337766610547035, 124.48193722665776 45.33776663628999, 124.48193796884678 45.337768752061024, 124.48194697063535 45.33778675176178, 124.48194827477347 45.33778872085749, 124.48194829380893 45.337788743512704, 124.48195000460234 45.33779038826704, 124.48195005218997 45.33779044915887, 124.48197216929276 45.337830126138385, 124.48197361172036 45.33783210500681, 124.48197363251228 45.33783212762705, 124.48197560511645 45.33783386409548, 124.48197563188293 45.33783388334045, 124.48197805554818 45.33783530776535, 124.48197808721508 45.337835322862595, 124.48198086473097 45.3378363781119, 124.48198090002792 45.337836388455976, 124.48198391999188 45.33783703220492, 124.48198395750377 45.33783703738111, 124.48198709878841 45.33783724380961, 124.48198713701046 45.33783724361025, 124.48199027362233 45.33783700443875, 124.48199031102179 45.33783699887181, 124.48199331715583 45.337836323693125, 124.48199335223184 45.33783631298208, 124.48199523781783 45.33783557101773, 124.48199530627056 45.3378355499667, 124.48199537921681 45.337835538692595, 124.48199545387884 45.33783553762476, 124.4819955274132 45.337835546803866, 124.48199559701978 45.33783556588037, 124.4819956600477 45.337835594127775, 124.48199571409695 45.337835630470416, 124.4819957571091 45.33783567352429, 124.48199578744637 45.33783572164985, 124.48200109666817 45.337846997666055, 124.48208501564572 45.33800284757425, 124.48219283255516 45.33822147642394, 124.48222674013869 45.33830026099617, 124.48226393786481 45.33837569004992, 124.4822644248897 45.338376560247276, 124.48231325570711 45.33845429096791, 124.48231326304209 45.33845430348269, 124.48239811460418 45.3386100311288, 124.48248620882171 45.33876220050562, 124.48256612148873 45.33890404552227, 124.48260922702418 45.33898523199814, 124.48271223377006 45.33916424034587, 124.48271366992554 45.33916616846852, 124.48271369049039 45.33916619051576, 124.48271563241838 45.33916788399221, 124.48271565868708 45.339167902786535, 124.48271803176151 45.339169296538806, 124.48271806272388 45.339169311357466, 124.48272077574923 45.3391703518244, 124.48272081021578 45.33917036209822, 124.4827237589312 45.33917100929495, 124.48272379557794 45.339171014629294, 124.48272686666589 45.339171243684454, 124.48272690408409 45.339171243874176, 124.48272997952445 45.33917104598536, 124.48273001627642 45.33917104102313, 124.48273297788182 45.3391704237951, 124.48273301255465 45.339170413871706, 124.48273574651233 45.339169401024144, 124.48273577777395 45.33916938652085, 124.48273817901914 45.33916801697704, 124.48273820566794 45.33916799845127, 124.48274018192258 45.33916632484168, 124.4827402029344 45.3391663030056, 124.48274023480447 45.33916626167292, 124.4827402750442 45.339166219504506, 124.48274032578092 45.33916618340483, 124.48274038521522 45.33916615465432, 124.48274045123904 45.3391661342727, 124.48274052151046 45.33916612298287, 124.4827405935371 45.3391661211853, 124.48274066476436 45.339166128943724, 124.48274073266585 45.339166145982965, 124.48274079483318 45.339166171698665, 124.48274084906124 45.33916620517873, 124.48274089342681 45.339166245235646, 124.48274092635613 45.33916629044867, 124.4827604039646 45.33920066255683, 124.4827604252807 45.339200715065886, 124.48276043116995 45.339200769526386, 124.48276042139108 45.339200823707884, 124.48276019905897 45.33920149957037, 124.48276019426805 45.33920152488243, 124.48276008244991 45.33920366270962, 124.48276024251065 45.33920561255253, 124.48276024143458 45.33920565367919, 124.48276005661909 45.339207025496506, 124.4827600567479 45.33920705188527, 124.48276036998939 45.339209218505474, 124.48276037741496 45.33920924436883, 124.48276056501065 45.33920967518915, 124.48276058123209 45.339209738819626, 124.48276925076667 45.33931534990891, 124.48276924757073 45.339315403623324, 124.48276922934184 45.33931545582529, 124.48276919680336 45.33931550444343, 124.48276915124644 45.339315547548516, 124.48276909447868 45.339315583430164, 124.48276902875273 45.33931561066456, 124.4827689566766 45.339315628171036, 124.48276888111027 45.339315635254934, 124.48276880505226 45.339315631635166, 124.48276873152065 45.33931561745533, 124.48276866343312 45.33931559327814, 124.4827618212588 45.33931252609574, 124.48276177154037 45.339312499563995, 124.48276172859063 45.33931246769074, 124.48275285014473 45.33930469905264), (124.4826622627722 45.33942296593831, 124.48266221971576 45.3394229209925, 124.4826621902726 45.339422870882515, 124.48266217563186 45.33942281763243, 124.48266217638508 45.33942276339315, 124.48266219250178 45.33942271035551, 124.48266222333098 45.33942266066184, 124.4826622676274 45.33942261631938, 124.48266232360179 45.33942257911923, 124.48266238899316 45.339422550564, 124.48266246116032 45.33942253180709, 124.4826625371882 45.33942252360615, 124.48266261400583 45.33942252629242, 124.48266268851033 45.339422539757415, 124.48266275769242 45.33942256345722, 124.48266398143187 45.33942309596828, 124.48266401504979 45.33942310755771, 124.48266690911248 45.3394238676387, 124.48266694529039 45.339423874380074, 124.48266999400398 45.33942422167185, 124.48267003135153 45.339424223306075, 124.48267311755538 45.339424144462285, 124.48267315463745 45.33942414092659, 124.48267615973022 45.339423638977195, 124.48267619512174 45.339423630407424, 124.48267900361918 45.33942272464217, 124.48267903596069 45.33942271136741, 124.48268153993365 45.33942143659449, 124.48268156798166 45.33942141912496, 124.48268367120473 45.339419824332914, 124.48268369388073 45.33941980334049, 124.48268531552789 45.33941794981627, 124.48268533196116 45.33941792610719, 124.48268640971331 45.339415885080896, 124.4826864192723 45.33941585956634, 124.48268691171214 45.33941370947297, 124.48268691402934 45.339413683134254, 124.48268680223266 45.33941150660122, 124.48268679723421 45.339411480527644, 124.48268607507629 45.33940933574516, 124.48268035612404 45.33939759089307, 124.4826803384822 45.33939753754681, 124.48268033647712 45.33939748278713, 124.48268035019147 45.33939742886982, 124.48268037906018 45.33939737801602, 124.48268042189407 45.339397332320594, 124.48268047692864 45.339397293665975, 124.48268054189671 45.33939726364453, 124.48268061412199 45.33939724349297, 124.48268069062908 45.33939723404146, 124.48268076826648 45.339397235679314, 124.48268084383577 45.33939724833909, 124.4826809142239 45.33939727149927, 124.48271984318875 45.33941366111645, 124.48272264536978 45.33941459095928, 124.48272268072841 45.339414599817616, 124.4827238540658 45.339414804848005, 124.48272392330307 45.339414822063, 124.48272398660508 45.33941484828539, 124.4827240416423 45.33941488255009, 124.48272408638918 45.33941492359613, 124.48272411919896 45.339414969912944, 124.48272413886424 45.339415019795936, 124.48272414466119 45.33941507140934, 124.48272413637648 45.33941512285368, 124.482724114315 45.33941517223568, 124.4827240792888 45.339415217738036, 124.48269777225867 45.33944272284745, 124.48269630446306 45.3394446390908, 124.48269628999114 45.339444663426455, 124.48269538048669 45.339446744793214, 124.48269537302465 45.33944677065304, 124.4826951859411 45.339448052228526, 124.48269517105248 45.339448103908936, 124.48269514219774 45.33944815256081, 124.48269510047838 45.33944819632659, 124.48269504748761 45.33944823353524, 124.4826949852484 45.339448262766076, 124.48269491613723 45.339448282903035, 124.4826948427929 45.33944829317727, 124.48269476801575 45.33944829319651, 124.48269469466081 45.33944828296, 124.48269462552885 45.33944826285858, 124.48269456325947 45.33944823365976, 124.48269451023017 45.339448196478386, 124.48269446846561 45.33944815273409, 124.48269102671951 45.33944365358519, 124.48268975323619 45.339442251193354, 124.48268973607814 45.339442235096875, 124.48268815999651 45.33944096799703, 124.48266275230633 45.339423378060104, 124.4826627264221 45.339423358257136, 124.4826622627722 45.33942296593831), (124.48264568503971 45.3394495654316, 124.48264566652973 45.33944951288647, 124.48264566326345 45.33944945879308, 124.48264567537244 45.33944940532839, 124.4826457023694 45.33944935464406, 124.48264574316764 45.339449308779855, 124.48264579612545 45.339449269581536, 124.4826458714175 45.33944922402516, 124.4826479074205 45.33944760049873, 124.48264792929905 45.3394475791667, 124.48264923186942 45.33944600504791, 124.48264927730776 45.33944596103237, 124.48264933434774 45.339445924343984, 124.48264940066802 45.33944589647584, 124.48264947356968 45.33944587856202, 124.48264955008595 45.33944587133155, 124.48264962710309 45.33944587507866, 124.48264970148661 45.33944588965089, 124.48264977020962 45.33944591445518, 124.48264983047525 45.339445948482165, 124.48266406842168 45.33945580552172, 124.48266410622914 45.3394558359445, 124.48266413716405 45.33945587001088, 124.48267267526901 45.33946703522932, 124.48267270472515 45.339467085165545, 124.48267271947172 45.33946713824114, 124.48267271891653 45.33946719232464, 124.4826727030819 45.33946724524408, 124.48266255584197 45.33948971411879, 124.48266252677993 45.3394897619435, 124.48266248524527 45.33948980494647, 124.48266243278172 45.33948984152938, 124.48266237133929 45.33948987033253, 124.48266230320158 45.3394898902854, 124.48266223090111 45.33948990064638, 124.48266215712516 45.33948990103037, 124.48266208461578 45.33948989142312, 124.48266201606783 45.33948987218167, 124.48266195402935 45.339489844021216, 124.48266190080594 45.33948980798839, 124.48266185837575 45.33948976542246, 124.48266182831601 45.33948971790547, 124.48266181174377 45.33948966720353, 124.48266180927511 45.33948961520111, 124.48266191909255 45.33948838899582, 124.48266191657865 45.33948835724934, 124.48266125683418 45.33948573118878, 124.48264626477211 45.339450749732556, 124.48264600961896 45.33945020444525, 124.48264568503971 45.3394495654316), (124.4826560883362 45.33941691315934, 124.4826561122849 45.3394169619822, 124.48265612260404 45.33941701312877, 124.48265611891563 45.33941706472497, 124.48265610135485 45.33941711488026, 124.48265607056504 45.3394171617569, 124.48265602767442 45.339417203637296, 124.4826559742546 45.33941723898688, 124.48265591226283 45.339417266510424, 124.48265584397065 45.33941728519943, 124.48265577188032 45.33941729436912, 124.4826556986333 45.33941729368349, 124.48265562691341 45.33941728316769, 124.48265555934861 45.339417263207, 124.48265549841447 45.339417234532824, 124.48265544634376 45.33941719819582, 124.4826269864188 45.33939311672262, 124.48262694905058 45.33939307896941, 124.48262692132506 45.339393037286136, 124.48258082693901 45.3393048627757, 124.48241887263617 45.33901594443108, 124.48237476841658 45.338933760109626, 124.48226581465009 45.33874484036062, 124.48224910340072 45.33871461806249, 124.48224908332024 45.33871456788638, 124.48224907729406 45.33871451592352, 124.48224908554694 45.33871446411303, 124.48224910777088 45.3387144143884, 124.4822491431367 45.33871436860515, 124.48224919032448 45.338714328471866, 124.48224924757344 45.33871429548616, 124.482249312747 45.338714270879, 124.48225050397096 45.33871392082953, 124.48225053637567 45.338713908604554, 124.48225306039073 45.338712722921464, 124.48225308887311 45.33871270654408, 124.4822552439704 45.338711201740516, 124.48225526747542 45.338711181817466, 124.48225697378669 45.33870941366142, 124.48225699144275 45.33870939093173, 124.48225818573144 45.33870742495173, 124.48225819688497 45.33870740025656, 124.48225883489067 45.3387053093125, 124.4822588391152 45.33870528364451, 124.48225889614345 45.33870311922897, 124.48225827492556 45.33869745926634, 124.48225827680916 45.33869740456993, 124.48225829429542 45.33869735126535, 124.48225832666556 45.33869730154324, 124.48225837258936 45.338697257446995, 124.48225843017953 45.338697220788795, 124.48225849706931 45.33869719307517, 124.48225857050966 45.338697175445056, 124.48225864748261 45.338697168622964, 124.4822587248248 45.3386971728893, 124.48225879935768 45.33869718806869, 124.48225886801823 45.33869721353735, 124.48225892798492 45.33869724824858, 124.48225897679306 45.33869729077588, 124.48225901243697 45.33869733937156, 124.4823131688888 45.33879412946665, 124.48239817916144 45.338940150179354, 124.48248019371972 45.339091173755264, 124.48257812950685 45.339264060479, 124.48261899072962 45.33934079971934, 124.48265592666773 45.339416663834626, 124.4826560883362 45.33941691315934), (124.4822217105449 45.33857361506382, 124.48222169217445 45.33857356440447, 124.4822216880003 45.338573512197584, 124.48222169817915 45.33857346040289, 124.48222172232877 45.3385734109646, 124.48222175954297 45.33857336573851, 124.4822218084245 45.3385733264223, 124.4822218671386 45.33857329449178, 124.48222193348141 45.338573271145556, 124.48222200496241 45.33857325725996, 124.48222207889845 45.33857325335625, 124.48222215251421 45.33857325958093, 124.4822222230463 45.338573275700384, 124.48222228784712 45.33857330110949, 124.48222234448426 45.33857333485447, 124.48222239083172 45.33857337566864, 124.48222242514966 45.33857342201991, 124.48224537392325 45.33861345491312, 124.48224539557313 45.33861350750224, 124.48224540172562 45.338613562090885, 124.48224539212737 45.338613616431715, 124.48224536717363 45.33861366828757, 124.48224532789168 45.338613715523614, 124.48224527589855 45.338613756195166, 124.482245213335 45.338613788627846, 124.48224514277653 45.3386138114864, 124.48224506712809 45.3386138238298, 124.48224498950387 45.338613825149864, 124.48224491309978 45.33861381539224, 124.48224484106116 45.338613794958654, 124.48224477635381 45.33861376469034, 124.48224282966525 45.338612637861154, 124.48224279742539 45.33861262277729, 124.48224145758513 45.338612125781815, 124.48224139058853 45.33861209416464, 124.48224133446952 45.33861205335111, 124.48224129171834 45.33861200515229, 124.48224126423182 45.33861195170694, 124.48224098654946 45.338611159781316, 124.4822217105449 45.33857361506382), (124.4817129941219 45.33766148472818, 124.48171301138679 45.33766153285282, 124.48171301586194 45.33766158239355, 124.48171300739611 45.33766163167433, 124.48170841253537 45.33767663940265, 124.4817080575161 45.33767893223858, 124.48170805732657 45.33767896017661, 124.48170838122162 45.337681255290626, 124.48170838921557 45.337681282654344, 124.48170937806373 45.33768348114378, 124.4817093938496 45.33768350667785, 124.48171102638051 45.337685537461866, 124.48173884328789 45.33771306764537, 124.48173889242592 45.33771313428938, 124.48183296931496 45.33790075273897, 124.48195207008965 45.33811894936004, 124.48199394421977 45.33819970689653, 124.48206586556212 45.33835253983444, 124.48210096072307 45.33842273616056, 124.48210128677077 45.33842333404474, 124.48217213352005 45.33854307508192, 124.48221041164363 45.33861766747176, 124.48221043105856 45.33861772328529, 124.48221786971347 45.338656666923356, 124.48221787245808 45.338656719050505, 124.48221786093276 45.3386567705764, 124.48221783556816 45.33865681957624, 124.48221779731162 45.33865686421963, 124.48221774759234 45.338656902838885, 124.48221768826764 45.338656933991345, 124.48221762155362 45.338656956513304, 124.48221754994235 45.33865696956344, 124.4822174761089 45.33865697265424, 124.48221740281144 45.338656965670246, 124.48221733278805 45.338656948872384, 124.48221726865457 45.3386569228881, 124.48221721280652 45.3386568886881, 124.48221716733036 45.33865684754991, 124.48221713392475 45.33865680101029, 124.48217185797988 45.33857491888013, 124.48212275991807 45.338494740068626, 124.48208996398677 45.33843511120821, 124.48201853378309 45.33829051332455, 124.48201851628237 45.3382904624851, 124.48201851301808 45.33829041021956, 124.4820185241129 45.338290358491804, 124.48201876026819 45.33828969853111, 124.48201876579553 45.33828967282257, 124.48201892929615 45.338287530142416, 124.48201892771303 45.33828750416477, 124.48201850412723 45.33828537928086, 124.48201849551832 45.33828535407721, 124.48201748689308 45.33828330203046, 124.4820067366513 45.33826676320442, 124.4820067254089 45.33826674398712, 124.48179500453807 45.33786119433491, 124.48164460907851 45.337559445807074, 124.48164459193795 45.33755939763795, 124.48164458760205 45.33755934806929, 124.48164459621776 45.337559298779524, 124.48164461749316 45.33755925143764, 124.48164465070813 45.33755920764664, 124.48164469473775 45.33755916888933, 124.48164474809123 45.33755913647803, 124.48164480896203 45.337559111510224, 124.48164605431919 45.33755870375903, 124.48164608591952 45.33755869067826, 124.48164853469108 45.33755743971351, 124.48164856216498 45.337557422616044, 124.48165062694245 45.33755586473155, 124.48165064927866 45.33755584424699, 124.48165225399126 45.3375540368385, 124.4816522703666 45.33755401372177, 124.48165335589317 45.33755202337798, 124.48165336570455 45.337551998480606, 124.48165389205194 45.33754989853038, 124.48165389493802 45.33754987276842, 124.48165384271506 45.33754774057861, 124.48165383858152 45.33754771497918, 124.48165320036657 45.33754560402414, 124.48165275512874 45.337544608789365, 124.48165273952036 45.337544555988714, 124.48165273911026 45.33754450205354, 124.48165275391499 45.33754444913788, 124.4816527833431 45.33754439935511, 124.48165282621947 45.337544354693435, 124.48165288083166 45.33754431693653, 124.48165386768831 45.33754375943791, 124.48165393032362 45.33754373065256, 124.48165399969913 45.33754371100525, 124.48165407316708 45.33754370124589, 124.48165414792348 45.33754370174691, 124.48165422111511 45.33754371248922, 124.48165428994866 45.33754373306281, 124.48165435179703 45.33754376268248, 124.48165440429963 45.33754380021776, 124.48165444545275 45.33754384423609, 124.4816544736857 45.33754389305748, 124.48165671697834 45.337549206118105, 124.48165696911127 45.337549752456475, 124.4817129941219 45.33766148472818), (124.48187693325822 45.33785240016757, 124.4818769502731 45.337852451151946, 124.48187695300423 45.33785250349407, 124.48187694134867 45.33785255522255, 124.48187691574549 45.337852604389106, 124.48187687715901 45.337852649141965, 124.48187682704233 45.33785268779558, 124.48187676728323 45.33785271889412, 124.48187670013243 45.33785274126631, 124.4818766281189 45.33785275406954, 124.48187655395505 45.33785275682157, 124.48187648043414 45.33785274941877, 124.48187641032527 45.337852732139964, 124.48187634626882 45.33785270563592, 124.4818762906775 45.33785267090488, 124.48187624564498 45.33785262925492, 124.48187621286746 45.337852582254726, 124.48187592434805 45.337852041517074, 124.48185613298975 45.33781672586753, 124.48185611281906 45.33781667664223, 124.48185610620344 45.33781662561545, 124.48185611338107 45.33781657462647, 124.48185613409346 45.33781652551317, 124.48185616759393 45.33781648004583, 124.48185621267488 45.3378164398633, 124.48185626771154 45.337816406413964, 124.48185633072015 45.337816380903476, 124.48185639942938 45.337816364251346, 124.48185647136272 45.33781635705783, 124.48185654392744 45.33781635958219, 124.48185661450786 45.33781637173345, 124.48185668056003 45.33781639307363, 124.48186011796362 45.33781779609552, 124.48186017400336 45.33781782397637, 124.48186022208694 45.337817858463985, 124.48186026067019 45.337817898450716, 124.48186028851383 45.33781794265233, 124.48187693325822 45.33785240016757), (124.48175975020843 45.33761554206454, 124.48175977280235 45.337615492277386, 124.48175980858143 45.33761544649607, 124.48175985620341 45.33761540643812, 124.4817599138816 45.33761537360634, 124.48175997945222 45.337615349232465, 124.4817600504553 45.33761533423092, 124.48176012422711 45.33761532916447, 124.48176019799995 45.33761533422322, 124.48176026900619 45.33761534921737, 124.48176033458189 45.33761537358441, 124.48176039226696 45.33761540641017, 124.48176043989733 45.33761544646316, 124.48176047568607 45.33761549224075, 124.48176049829043 45.33761554202553, 124.48176842083933 45.337641388322496, 124.48176937472658 45.33764347605538, 124.48176938976844 45.33764350042311, 124.48177090663198 45.33764541529325, 124.48177092816815 45.33764543710122, 124.48177294888671 45.33764710447671, 124.48177297607839 45.33764712287595, 124.48177542188918 45.3376484777665, 124.48177545367632 45.33764849203943, 124.48177822924688 45.33764948163429, 124.48177826439085 45.337649491224745, 124.48178126153577 45.33765007695185, 124.48178129866623 45.337650081485876, 124.48178440056368 45.33765024051497, 124.48178443823357 45.33765023981585, 124.48178752397848 45.33764996594831, 124.4817875607197 45.337649960043244, 124.48179051003667 45.337649263953885, 124.4817905444168 45.3376492530731, 124.48179324234859 45.33764816189374, 124.48179327302769 45.33764814646127, 124.48179561441391 45.33764670272413, 124.48179564019695 45.337646683341056, 124.48179584149624 45.337646498365906, 124.48179589150469 45.33764646054932, 124.4817959508216 45.33764643015346, 124.48179601726939 45.337646408294155, 124.48179608840884 45.337646395773874, 124.48179616162817 45.33764639305223, 124.48179623423951 45.3376464002292, 124.48179630357718 45.33764641704125, 124.48179636709582 45.33764644287121, 124.4817964224636 45.337646476770864, 124.48179646764791 45.3376465174957, 124.48179650099 45.33764656355066, 124.48179683473006 45.33764715953469, 124.4817968525713 45.33764718382622, 124.48179860664035 45.3376490730728, 124.4817986310048 45.33764909425472, 124.48180091933773 45.337650712785425, 124.48180889143637 45.33765531207504, 124.48180894216515 45.3376553473905, 124.48180898272726 45.33765538872849, 124.48180901171568 45.33765543465476, 124.48181715859978 45.3376724558256, 124.48181717512486 45.33767250533822, 124.48181717818407 45.33767255615824, 124.48181716766877 45.337672606480496, 124.48181714395224 45.337672654517526, 124.48181710787725 45.337672698563, 124.48181706072496 45.337672737052415, 124.48181700417035 45.337672768618575, 124.48181694022219 45.33767279214023, 124.48181687115209 45.33767280678192, 124.48181679941337 45.33767281202352, 124.4818152812341 45.337672821506146, 124.48181524321737 45.33767282444617, 124.48181215562404 45.33767328761984, 124.48181211920156 45.337673295846535, 124.48180922453541 45.33767418387959, 124.48180919116982 45.33767419706266, 124.4818066056635 45.33767547429691, 124.48180657669465 45.33767549190691, 124.4818044041668 45.337677107056365, 124.48180438075825 45.337677128385856, 124.48180270844463 45.3376790165958, 124.48180269153573 45.33767904078881, 124.4818015865872 45.337681126239254, 124.48180157685701 45.33768115232396, 124.48180108364171 45.337683351275984, 124.48180108148748 45.33768337812509, 124.48180122339096 45.337685629237825, 124.48181348178423 45.33774517009519, 124.48181348519115 45.3377452235312, 124.48181347358855 45.33774527639159, 124.48181344743222 45.33774532659998, 124.48181340774968 45.33774537218416, 124.48181335609951 45.33774541135359, 124.48181329451069 45.337745442569684, 124.48181322540235 45.33774546460626, 124.48181315148919 45.33774547659768, 124.48181307567444 45.337745478072975, 124.4818130009361 45.337745468974155, 124.48181293021007 45.33774544965865, 124.48181286627432 45.33774542088515, 124.4818128116404 45.33774538378391, 124.48181276845423 45.33774533981228, 124.48176608600187 45.33768599771429, 124.48176604716093 45.337685925634794, 124.48175190229074 45.337641280971575, 124.48175189308296 45.337641223071515, 124.48175190170913 45.337641165126925, 124.48175975020843 45.33761554206454), (124.48159402412189 45.33721140120667, 124.4815940052975 45.337211350318995, 124.48159400082343 45.337211297822684, 124.4815940108696 45.33721124571111, 124.48159403505458 45.337211195962986, 124.48159407246004 45.33721115046731, 124.4815941216657 45.337211110951586, 124.481594180803 45.33721107891631, 124.48159424762659 45.33721105557786, 124.48159431959905 45.337211041822435, 124.4815943939875 45.337211038172356, 124.48159446796744 45.33721104476619, 124.48159453872952 45.337211061353585, 124.48159460358708 45.337211087304695, 124.48159466007726 45.33721112163413, 124.4815947060551 45.33721116303836, 124.48159473977479 45.33721120994521, 124.48171511423212 45.337429030289705, 124.48175653211983 45.337506241523926, 124.48175655216914 45.33750629481593, 124.48175655644394 45.33750634986945, 124.48175654476593 45.33750640438685, 124.48175651762251 45.337506456092825, 124.48175647614644 45.33750650282945, 124.48175642206881 45.33750654264617, 124.4817563576465 45.3375065738812, 124.48175607552804 45.33750668256311, 124.48175604544251 45.3375066969319, 124.4817537340714 45.33750804388302, 124.4817537083906 45.33750806201212, 124.48175303901674 45.33750863445829, 124.48175298488233 45.33750867233252, 124.48175292117521 45.33750870188503, 124.48175285042477 45.33750872194241, 124.48175277544037 45.33750873170833, 124.48175269919909 45.337508730795, 124.48175262472812 45.33750871923871, 124.48175255498438 45.33750869749827, 124.4817524927371 45.33750866643688, 124.48175244045767 45.337508627287896, 124.48175240022199 45.33750858160566, 124.48175237362753 45.337508531204044, 124.48174442010826 45.33748714061637, 124.4817438754267 45.33748595112845, 124.48159592277415 45.33721503795455, 124.48159402412189 45.33721140120667), (124.48146241415091 45.337059714286596, 124.48143898100362 45.33701415363512, 124.4814376485572 45.33701218884154, 124.48143762918114 45.337012166265005, 124.48143696197435 45.33701153750761, 124.48143690913295 45.33701146883636, 124.48140488038169 45.33694996045619, 124.48129088291728 45.336740965607035, 124.48129086470755 45.33674092119306, 124.48129085751302 45.33674087523881, 124.48129085533859 45.33674081191573, 124.48128361562814 45.33669230602614, 124.48128361496623 45.33669225437429, 124.48128362826863 45.33669220357951, 124.48128365504822 45.336692155502405, 124.48128369432389 45.33669211190402, 124.48128374465719 45.336692074381396, 124.48128380420427 45.336692044308954, 124.48128387078394 45.336692022788256, 124.48128394195737 45.33669201060762, 124.4812840151176 45.336692008213184, 124.4812840875846 45.33669201569272, 124.48128415670408 45.336692032772184, 124.48128421994399 45.336692058826, 124.48128427498807 45.336692092899796, 124.48128431981992 45.33669213374547, 124.48128435279737 45.33669217986682, 124.48132511233192 45.33676602651203, 124.48142406022083 45.33695092924783, 124.48156611984696 45.33722304000262, 124.4817137941041 45.33749344375548, 124.48171380716317 45.33749347230639, 124.48174158684262 45.3375681901224, 124.48174159926542 45.33756825268288, 124.48174159072818 45.33756831556629, 124.48173884113113 45.33757729219882, 124.48173881797089 45.33757734290835, 124.48173878113812 45.33757738942132, 124.48173873206815 45.337577429925354, 124.48173867267283 45.33757746284216, 124.4817386052666 45.337577486889124, 124.48173853247604 45.33757750112923, 124.48173845713751 45.33757750500762, 124.48173838218649 45.33757749837316, 124.48173831054353 45.33757748148435, 124.48173824500036 45.33757745499931, 124.4817381881109 45.33757741995001, 124.48173814209173 45.337577377702196, 124.48173810873614 45.337577329902075, 124.48171201714496 45.337528215949526, 124.48167409192561 45.33744937538881, 124.48167283971381 45.33744741805376, 124.48167282141594 45.33744739554834, 124.48167103584738 45.337445624125834, 124.48166689627779 45.337442256344644, 124.48166685026355 45.33744220980482, 124.48166681906174 45.33744215750887, 124.48166680405119 45.337442101768, 124.48166680589533 45.337442045045634, 124.48166693582446 45.33744133436291, 124.48166693690881 45.33744130758179, 124.48166671406945 45.337439101880015, 124.48166670763158 45.337439075557874, 124.4816658578396 45.33743691914188, 124.48155090911105 45.33722801242108, 124.48146241415091 45.337059714286596), (124.48160439900595 45.337436518704806, 124.4816043834921 45.33743646652717, 124.48160438282368 45.337436413216786, 124.48160439702659 45.337436360853786, 124.48160442554669 45.337436311481426, 124.48160446727115 45.337436267026185, 124.48160452057188 45.337436229222696, 124.48160458336902 45.33743619954607, 124.48160465321234 45.33743617915429, 124.4816047273765 45.337436168843034, 124.48160480296754 45.33743616901465, 124.48160487703609 45.337436179662454, 124.48160494669173 45.33743620037094, 124.48160500921679 45.337436230332095, 124.48160506217125 45.337436268376806, 124.48160510348903 45.337436313020596, 124.48161386205518 45.337448196753954, 124.48161557318006 45.33745004387432, 124.48161559696099 45.33745006469203, 124.48161779188028 45.337451636898386, 124.48161782102416 45.33745165399057, 124.4816204131828 45.33745288928776, 124.48162044654117 45.33745290198115, 124.48162333370497 45.33745375164914, 124.48162336996262 45.33745375944315, 124.48162643826363 45.33745418997168, 124.4816264759899 45.337454192558745, 124.48162960441623 45.33745418696803, 124.48162964212334 45.33745418424617, 124.48163270729127 45.3374537427567, 124.48163274349257 45.33745373483319, 124.48163562451379 45.33745287485711, 124.4816356577808 45.33745286204459, 124.48163667666118 45.33745237117306, 124.48163674655952 45.33745234454145, 124.4816368227486 45.337452328662934, 124.48163690194465 45.3374523242219, 124.48163698073417 45.33745233140976, 124.48163705572131 45.337452349916695, 124.4816371236742 45.33745237894506, 124.48163718166377 45.33745241724371, 124.48164485549107 45.33745866035259, 124.4816448983113 45.33745870288529, 124.48164492873025 45.33745875043321, 124.48166020755853 45.33749051435678, 124.48166022443479 45.337490565117356, 124.48166022715735 45.337490617219345, 124.48166021562456 45.337490668718324, 124.48166019026687 45.33749071769244, 124.48166015203051 45.337490762314026, 124.48166010234256 45.337490800917855, 124.48166004305706 45.33749083206332, 124.48165997638674 45.337490854588054, 124.48165990481955 45.337490867651496, 124.48165983102615 45.337490870766125, 124.4816597577607 45.33749086381574, 124.48165968775713 45.33749084705965, 124.48165816319798 45.33749036181425, 124.48165812882205 45.33749035354627, 124.48165521298401 45.337489864686646, 124.48165517700947 45.337489861159945, 124.48165218266627 45.33748977062503, 124.48165214639594 45.33748977196736, 124.4816491819336 45.33749008303418, 124.48164914668017 45.33749008919699, 124.48164631940394 45.33749079060586, 124.48164628644372 45.33749080136593, 124.48164369869242 45.337491867728, 124.48164366921813 45.33749188269603, 124.4816414146615 45.337493275411745, 124.48164138973982 45.337493294045984, 124.48163954998573 45.33749496270344, 124.48163953051932 45.33749498432914, 124.48163817216145 45.337496868528, 124.48163815889473 45.33749689229078, 124.48163732269569 45.337498948837336, 124.4816364802941 45.33750213124202, 124.48163645839553 45.33750218373989, 124.48163642193215 45.33750223204328, 124.48163637240309 45.33750227416635, 124.48163631184443 45.33750230837739, 124.48163624274578 45.3375023332699, 124.48163616794807 45.33750234782054, 124.48163609052627 45.337502351431105, 124.48163601366329 45.337502343953155, 124.481635940519 45.337502325694125, 124.48163587410049 45.33750229740467, 124.48163581713833 45.3375022602478, 124.4816357719744 45.337502215751094, 124.48163137370732 45.33749679463209, 124.48163134091094 45.33749674180139, 124.48160439900595 45.337436518704806), (124.48135096966064 45.33668718716918, 124.48135094759085 45.33668713503501, 124.48135094079556 45.33668708083829, 124.4813509495508 45.336687026781625, 124.48135097350081 45.33668697506189, 124.48135101167219 45.336686927780974, 124.48135106251374 45.336686886860434, 124.48135112395916 45.33668685396329, 124.4813511935113 45.336686830426466, 124.48135383933787 45.33668615686376, 124.48135387310991 45.336686145517575, 124.48135651682693 45.33668502098259, 124.48135654681246 45.33668500520872, 124.4813588287707 45.33668353860202, 124.48135885381843 45.33668351900611, 124.48136068636637 45.33668176666099, 124.48136070551426 45.33668174399546, 124.48136201826372 45.33667977322008, 124.48136203077593 45.33667974835568, 124.48136277330354 45.33667763484831, 124.48136277868325 45.3366776088179, 124.48136292239738 45.33667540728094, 124.4813592820129 45.336625655626605, 124.48135928574959 45.336625601627546, 124.48135930467119 45.33662554923716, 124.4813593380185 45.33662550055771, 124.4813593844534 45.33662545754253, 124.48135944211256 45.33662542191772, 124.48135950868226 45.336625395112726, 124.48135958149132 45.33662537820322, 124.48135965761813 45.33662537186768, 124.48135973400802 45.33662537636035, 124.4813598075957 45.33662539150093, 124.48135987542821 45.33662541668192, 124.48135993478373 45.33662545089285, 124.48135998328048 45.33662549276096, 124.48136001897257 45.3366255406062, 124.48139815519242 45.33669210579641, 124.48144704449912 45.336782900389125, 124.48152687879069 45.33693957526731, 124.48156528303159 45.33702623024364, 124.48156529858353 45.337026284082306, 124.4815730803331 45.33708153462792, 124.4815730790821 45.33708159572737, 124.48157305837485 45.337081655062285, 124.48156704427228 45.337093104592974, 124.48156673760752 45.33709391144594, 124.48156671151085 45.3370939604801, 124.48156667247727 45.33709400503609, 124.48156662197678 45.33709404343597, 124.48156656191104 45.3370940742336, 124.48156649454226 45.33709409626918, 124.4815664224074 45.3370941087129, 124.48156634822304 45.337094111096086, 124.48156627478281 45.337094103328994, 124.48156620485253 45.337094085704166, 124.4815661410658 45.33709405888532, 124.48156608582457 45.337094023882415, 124.4815660412093 45.337093982013656, 124.48156600890016 45.33709393485578, 124.48151604559907 45.33699827334829, 124.48149711130263 45.33695841599097, 124.48149587958032 45.33695646762435, 124.48149586150892 45.336956445133204, 124.48149412450839 45.33695469871596, 124.48149410067523 45.33695467907529, 124.48149391101958 45.33695455020692, 124.48149385640714 45.33695450372353, 124.48149381781032 45.33695444984168, 124.48137174288176 45.3367227175538, 124.48135096966064 45.33668718716918), (124.48104267862416 45.33641401215816, 124.48104269306484 45.336414062154056, 124.48104269390613 45.336414113173326, 124.481042681118 45.336414163392554, 124.48104265515738 45.33641421101691, 124.48104210590542 45.336414989553255, 124.48104209260043 45.33641501421894, 124.4810412827511 45.336417115951754, 124.48104127652502 45.33641714197274, 124.48104106360225 45.33641931475218, 124.48104106469351 45.336419341130565, 124.48104145687992 45.33642150145754, 124.48104146522178 45.336421527101706, 124.48104246110215 45.336423616626874, 124.48109127488932 45.33650032403767, 124.48109128275496 45.33650033733767, 124.4811661244479 45.336637048227416, 124.48121516141948 45.336722117377036, 124.48134106722225 45.33695594255189, 124.48141905044817 45.33710490679797, 124.48142039882421 45.33710686617716, 124.4814204183833 45.33710688867503, 124.48142228284524 45.33710862487803, 124.48142230825187 45.3371086442525, 124.48142461715014 45.337110090559165, 124.48142464742767 45.337110106065495, 124.48142731203316 45.3371112068951, 124.4814273460178 45.33711121793745, 124.48143026393075 45.33711193098558, 124.48143030031727 45.33711193713977, 124.48143335940394 45.33711223500439, 124.48143339679326 45.3371122360338, 124.48143647949456 45.33711210726809, 124.48143651645046 45.337112103133215, 124.48143950429973 45.33711155268561, 124.48143953940165 45.337111543545376, 124.48144231757783 45.33711059256917, 124.48144234947655 45.33711057877496, 124.48144481121557 45.33710926381566, 124.48144483868586 45.33710924589733, 124.48144688938386 45.337107617488634, 124.48144691137053 45.33710759613429, 124.48144847222103 45.337105716854715, 124.48144848787798 45.337105692885864, 124.48144949889864 45.33710363495455, 124.48144950762436 45.33710360929238, 124.48144968303372 45.33710271321994, 124.48144969967268 45.33710266353099, 124.48144972928216 45.33710261694116, 124.48144977080229 45.33710257511773, 124.48144982274752 45.337102539557435, 124.48144988325865 45.33710251153286, 124.48144995017022 45.3371024920469, 124.48145002108785 45.33710248179689, 124.48145009347347 45.337102481149664, 124.48145016473673 45.33710249012836, 124.48145023232729 45.33710250841167, 124.48145029382638 45.3371025353453, 124.48145034703309 45.33710256996538, 124.4814503900434 45.33710261103298, 124.48145042131799 45.33710265707842, 124.48146304088483 45.33712688856899, 124.48146438241507 45.3371288472228, 124.48146440188626 45.337128869719294, 124.48146508452518 45.33712950818146, 124.48146513778049 45.337129576833526, 124.48152104920753 45.33723590821949, 124.48157062953308 45.337326016924855, 124.4815706501465 45.33732606977236, 124.48157065519574 45.33732612446727, 124.48157064447265 45.33732617875372, 124.4815706184196 45.337326230392755, 124.48157057811086 45.33732627725457, 124.48157052520908 45.33732631740636, 124.48157046189614 45.33732634919216, 124.48157039078335 45.337326371300975, 124.48157031480359 45.33732638282095, 124.48157023709061 45.337326383276945, 124.48157016084963 45.33732637265017, 124.48157008922507 45.3373263513789, 124.48157002517104 45.33732632034044, 124.4815691079477 45.33732577135625, 124.48156907764013 45.337325756514836, 124.48156642036919 45.33732470793918, 124.48156638657898 45.33732469748723, 124.48156349291324 45.33732402905338, 124.4815634569032 45.337324023381534, 124.48156043495561 45.33732376006339, 124.48156039807097 45.33732375938356, 124.4815573607472 45.33732391101918, 124.48155732436587 45.33732391535679, 124.48155438514625 45.33732447628076, 124.48155435062789 45.33732448547374, 124.48155161932716 45.33732543472882, 124.48155158796119 45.337325448433724, 124.48154916662554 45.33732675055427, 124.48154913958487 45.33732676825857, 124.48154711868044 45.337328374594705, 124.4815470969742 45.337328395637435, 124.48154555200625 45.33733024617324, 124.48154553644568 45.33733026976804, 124.48154452513722 45.33733229536376, 124.48154451630359 45.337332320629436, 124.48154407643908 45.33733444560468, 124.48154407466247 45.33733447159775, 124.48154422267602 45.33733661655928, 124.48154422800695 45.33733664223025, 124.48154496895823 45.33733875206229, 124.48155740052812 45.33736361521541, 124.48155741894803 45.337363669276, 124.48156779535543 45.3374185160994, 124.48156779799423 45.337418568375526, 124.48156778628487 45.337418620028764, 124.48156776066726 45.33741866911877, 124.48156772210379 45.33741871380144, 124.48156767204301 45.33741875239827, 124.48156761236552 45.337418783459356, 124.48156754531317 45.33741880581789, 124.48156747340472 45.33741881863396, 124.48156739934151 45.337418821426105, 124.48156732590564 45.337418814089474, 124.48156725585581 45.337418796899655, 124.4815671918235 45.33741877050237, 124.48156713621403 45.33741873588928, 124.48156709111632 45.3374186943606, 124.48156705822466 45.337418647476376, 124.4814479511538 45.33719709158282, 124.48135699169308 45.337020170607516, 124.4813088892192 45.336934973819226, 124.48122478503674 45.33677378999078, 124.48102577849114 45.33642578217922, 124.48102432832042 45.33642382795412, 124.48101907000111 45.33641816515111, 124.4810190342186 45.33641811643842, 124.4810190131425 45.336418063628706, 124.48101900764381 45.3364180089041, 124.48101901794959 45.336417954525864, 124.48101904363409 45.33641790274096, 124.48101908363606 45.33641785568922, 124.48101913630241 45.336417815314846, 124.48103258755083 45.336409406547666, 124.4810346866487 45.33640780943404, 124.48103470927083 45.33640778841776, 124.48103632630014 45.33640593320574, 124.48103634267532 45.33640590948045, 124.48103741552217 45.33640386743857, 124.48103742502059 45.33640384191646, 124.48103746027745 45.33640368637694, 124.48103747874329 45.336403636314934, 124.48103751041191 45.336403589657145, 124.48103755411998 45.336403548117566, 124.481037608262 45.336403513222166, 124.48103767084878 45.336403486252834, 124.48103773958148 45.33640346820033, 124.48103781193498 45.33640345972779, 124.4810378852513 45.33640346114648, 124.48103795683726 45.336403472404285, 124.48103802406304 45.33640349308762, 124.48103808445906 45.3364035224367, 124.48103813580674 45.336403559373345, 124.48103817621966 45.33640360254069, 124.48103820421329 45.33640365035296, 124.48104267862416 45.33641401215816), (124.4813186617408 45.336692341762955, 124.48131864159409 45.3366922911458, 124.48131863574363 45.33669223873428, 124.4813186444112 45.33669218651722, 124.4813186672682 45.33669213647599, 124.48131870344709 45.336692090509544, 124.481318751575 45.336692050362075, 124.48131880982575 45.33669201755701, 124.4813188759889 45.33669199333921, 124.48131894755389 45.33669197862761, 124.48131902180513 45.33669197398047, 124.48131909592496 45.33669197957415, 124.48131916710096 45.336691995196354, 124.48131923263223 45.336692020254304, 124.48131929003206 45.336692053797165, 124.48131933712241 45.336692094552085, 124.48131937211635 45.336692140972595, 124.48134215420873 45.33673110731667, 124.48139401466864 45.33682956148242, 124.48139403375497 45.336829612558816, 124.48139403837027 45.336829665278884, 124.48139402833776 45.336829717623274, 124.48139400404183 45.33682976758705, 124.48139396641297 45.33682981325642, 124.48139391689253 45.336829852882126, 124.48139385737727 45.33682988494639, 124.48139379014685 45.33682990822103, 124.48139371777641 45.33682992181456, 124.48139364303802 45.33682992520631, 124.48139356879416 45.33682991826636, 124.48139349788875 45.33682990126055, 124.48139343303782 45.33682987484023, 124.48139337672507 45.3368298400174, 124.4813933311076 45.33682979812586, 124.4813932979328 45.33682975077022, 124.48135491817021 45.33675803048415, 124.4813186617408 45.336692341762955), (124.48134048459353 45.33709060213059, 124.48134046357626 45.33709065200058, 124.48134042938231 45.337090698099864, 124.48134038328219 45.337090738715396, 124.48134032698908 45.337090772337945, 124.48134026259481 45.33709079771807, 124.48134019249225 45.33709081391265, 124.48134011928649 45.3370908203199, 124.48134004569773 45.33709081670172, 124.48133997446065 45.33709080319255, 124.48133990822227 45.33709078029443, 124.48133984944413 45.33709074885822, 124.4813398003103 45.3370907100521, 124.48133976264675 45.33709066531811, 124.48133973785288 45.33709061631853, 124.4813397268502 45.33709056487421, 124.48133908809851 45.3370821014488, 124.48133909138082 45.33708204904788, 124.48133910897243 45.33708199808434, 124.48133914020909 45.33708195048308, 124.48133918391063 45.33708190804207, 124.48133923842671 45.33708187236432, 124.48133930169809 45.33708184479737, 124.48133937133504 45.33708182638247, 124.48133944470722 45.33708181781516, 124.48133951904347 45.337081819419026, 124.48133959153594 45.33708183113348, 124.48133965944663 45.337081852516086, 124.48133972021043 45.337081882759186, 124.48133977153229 45.33708192072048, 124.48133981147379 45.33708196496616, 124.48133983852627 45.33708201382503, 124.4813415991356 45.337086415349866, 124.48134161318453 45.337086477487155, 124.48134160645107 45.33708654023002, 124.48134048459353 45.33709060213059), (124.48133740442823 45.33705264358365, 124.48133734446834 45.337052678050206, 124.48133727590549 45.33705270330832, 124.48133720154135 45.337052718325914, 124.48133712441421 45.33705272248938, 124.48133704767568 45.33705271562858, 124.48133697446119 45.337052698023875, 124.48133690776231 45.33705267039459, 124.48133685030437 45.33705263386963, 124.48133680443499 45.337052589941436, 124.48133677202853 45.337052540404876, 124.48133675440907 45.33705248728405, 124.48133661609172 45.33705173264186, 124.48133661028102 45.337051712825726, 124.48133594718921 45.337050085002694, 124.48129880566123 45.33697935485295, 124.48129878672073 45.33697930408105, 124.48129878207568 45.33697925168354, 124.48129879190188 45.33697919964313, 124.48129881582749 45.33697914992899, 124.4812988529471 45.33697910442231, 124.48129890185629 45.33697906484501, 124.48129896070421 45.33697903269469, 124.48129902726416 45.336979009187885, 124.48129909901749 45.33697899521409, 124.48129917324914 45.33697899130207, 124.48129924715026 45.336978997599836, 124.48129931792438 45.336979013869104, 124.48129938289351 45.33697903949425, 124.48129943959931 45.33697907350562, 124.48129948589587 45.33697911461625, 124.48129952003147 45.336979161270534, 124.4813270928289 45.33702799417386, 124.48133915697375 45.337051458833734, 124.4813391751051 45.33705150827112, 124.48133917970884 45.33705155923223, 124.48133917062003 45.33705160989275, 124.48133914816412 45.3370516584391, 124.481339113145 45.337051703133376, 124.4813390668163 45.33705174237559, 124.4813390108364 45.337051774760916, 124.48133788243089 45.33705231019903, 124.481337854051 45.337052326673664, 124.48133740442823 45.33705264358365), (124.48126247340952 45.33659811529451, 124.48126241903307 45.336598088156514, 124.48126237215318 45.33659805477911, 124.48126233419057 45.336598016173674, 124.48126230629545 45.33659797351004, 124.48125430286946 45.336582263078945, 124.48125428471113 45.336582212544215, 124.48125428066723 45.33658216049002, 124.48125429088874 45.33658210885862, 124.4812543149941 45.336582059576436, 124.4812543520841 45.33658201448226, 124.4812544007747 45.33658197525861, 124.48125445924934 45.33658194336899, 124.48125452532605 45.336581920003255, 124.48125459653956 45.33658190603321, 124.48125467023281 45.33658190198009, 124.4812547436561 45.336581907995125, 124.48125481406989 45.3365819238539, 124.48125487884697 45.336581948964685, 124.48125493557053 45.33658198239057, 124.48125498212393 45.33658202288437, 124.48125501677029 45.33658206893522, 124.48126457712529 45.33659842079652, 124.48126459843003 45.33659847018877, 124.48126460600989 45.33659852153847, 124.48126459958756 45.336598572966615, 124.48126457939809 45.336598622591346, 124.4812645461802 45.33659866859677, 124.48126450114935 45.336598709299494, 124.48126444595341 45.3365987432101, 124.48126438261212 45.33659876908772, 124.4812643134432 45.33659878598546, 124.48126424097761 45.336598793284985, 124.48126416786724 45.33659879071919, 124.48126409678713 45.33659877838197, 124.48126403033838 45.336598756724754, 124.48126247340952 45.33659811529451), (124.48124642813325 45.33665798725669, 124.48124642878636 45.336658038979905, 124.48124641543677 45.336658089841066, 124.48124638857496 45.33665813797198, 124.48124634918751 45.33665818160473, 124.4812462987211 45.33665821913667, 124.48124623902963 45.336658249189185, 124.48124617230538 45.3366582706584, 124.48124610099941 45.33665828275573, 124.48124602773086 45.336658285036854, 124.4812459551908 45.336658277417946, 124.4812458860439 45.33665826017887, 124.48124582282988 45.336658233952846, 124.48124576787072 45.33665819970319, 124.48124572318514 45.33665815868791, 124.48124569041448 45.33665811241356, 124.48123688012015 45.33664196023621, 124.48113578282421 45.336465786265215, 124.48113522742126 45.336464923559696, 124.48109042854331 45.336402391819675, 124.48109040057987 45.33640234027532, 124.48109038806722 45.33640228579685, 124.48109039152861 45.33640223066226, 124.48109041081938 45.33640217717698, 124.48109546102863 45.33639246523214, 124.48109548939948 45.33639242260412, 124.48109552784409 45.336392384102965, 124.48109557519204 45.33639235090077, 124.4810956300019 45.336392324008365, 124.48110550725566 45.33638833107328, 124.48110557702816 45.33638830907194, 124.48111354264206 45.336386444780786, 124.48111361898891 45.33638643284978, 124.48111369718042 45.33638643211382, 124.48111377395142 45.33638644260366, 124.4811138460961 45.33638646388123, 124.4811139106016 45.33638649505803, 124.48111396477428 45.3363865348321, 124.48111400635192 45.3363865815425, 124.48111403359817 45.33638663323866, 124.48111404537545 45.33638668776173, 124.48111404119166 45.336386742834904, 124.48111402122174 45.33638679615833, 124.48110907670669 45.33639604439719, 124.48110824436552 45.33639828395212, 124.4811082383458 45.3363983116736, 124.48110808218784 45.33640062424608, 124.48110808444504 45.33640065224599, 124.48110861124424 45.33640293743289, 124.48110862168 45.33640296449374, 124.48110980856015 45.33640512306021, 124.4811098266675 45.33640514793419, 124.48111164561867 45.33640710889169, 124.48112521836589 45.33641887194178, 124.48112527247437 45.33641893465301, 124.48116130369358 45.33647736387622, 124.48121010282075 45.3365620154613, 124.48124120525723 45.33662306779777, 124.48124122569416 45.33662313080184, 124.48124642813325 45.33665798725669), (124.48123086686785 45.33640734995322, 124.48123087384651 45.336407296901875, 124.481230895466 45.33640724585119, 124.48123093088365 45.33640719879065, 124.48123097871934 45.33640715755427, 124.48123103710869 45.33640712374908, 124.48123110377625 45.33640709869253, 124.48123117612387 45.33640708336108, 124.48123125133219 45.336407078352224, 124.48123132647021 45.33640708386117, 124.48123139860965 45.33640709967324, 124.48123146493914 45.33640712517217, 124.4812315228738 45.33640715936428, 124.48123157015576 45.336407200917044, 124.48123160494247 45.33640724821111, 124.48123471094611 45.3364127378944, 124.48123473147564 45.336412787553975, 124.4812347381951 45.336412839063776, 124.48123473085768 45.336412890531626, 124.48123470973309 45.3364129400669, 124.48123467559705 45.336412985849954, 124.48123462970374 45.33641302619898, 124.48123457373897 45.3364130596318, 124.48123450975841 45.3364130849203, 124.4812344401125 45.336413101135506, 124.48123436735965 45.33641310768178, 124.48123429417217 45.33641310431864, 124.4812342232387 45.33641309116964, 124.48123415716486 45.336413068717796, 124.48123409837788 45.336413037787835, 124.48123102410636 45.336411070252126, 124.48123097137982 45.33641102873563, 124.48123093186909 45.33641098046579, 124.4812309072593 45.33641092750123, 124.48123089859995 45.3364108721008, 124.48123086686785 45.33640734995322), (124.48120869099468 45.336808054922905, 124.48120870976878 45.336808105654164, 124.4812087142808 45.33680815798825, 124.48120870436057 45.33680820995008, 124.48120868038244 45.33680825957862, 124.48120864325135 45.33680830500087, 124.48120859436851 45.336808344502636, 124.4812085355789 45.3368083765931, 124.4812084691012 45.33680840006115, 124.48120839744425 45.33680841402114, 124.48120832331243 45.33680841794621, 124.48120824950342 45.336808411688224, 124.48120817880277 45.336808395483345, 124.48120811387872 45.336808369943164, 124.48120805718155 45.33680833603155, 124.48120801085102 45.33680829502835, 124.4812079766355 45.33680824848099, 124.48114986949763 45.336705938612184, 124.48113802078662 45.3366836353937, 124.48113800157493 45.336683584682554, 124.4811379966444 45.33668353230776, 124.48113800618148 45.33668348025041, 124.48113802982549 45.33668343047959, 124.48113806668205 45.336683384877915, 124.481138115357 45.33668334517027, 124.48113817400929 45.33668331285865, 124.4811382404203 45.33668328916522, 124.48113831207803 45.33668327498623, 124.48113838627197 45.336683270857975, 124.48113846019568 45.336683276936625, 124.481138531053 45.336683292992255, 124.48113859616372 45.33668331841755, 124.48113865306493 45.33668335225077, 124.48113869960449 45.33668339321218, 124.48113873402177 45.3366834397524, 124.48119511882383 45.33678204188436, 124.48120869099468 45.336808054922905)), ((124.482604195809 45.33963363604269, 124.48260423418007 45.33963359064741, 124.48260428435938 45.33963355139599, 124.48260434442277 45.33963351979355, 124.48260552022583 45.33963301944869, 124.48260555021565 45.33963300366594, 124.48260783233258 45.3396315362912, 124.48260785738054 45.339631516685266, 124.4826096897297 45.3396297635179, 124.48260970887232 45.339629740843, 124.48261102103767 45.33962776925617, 124.48261103354021 45.339627744382625, 124.48261177509573 45.33962563014384, 124.4826117804773 45.339625604028406, 124.48261192292553 45.339623428386176, 124.4826119209794 45.339623402031904, 124.48261145884646 45.33962124859506, 124.48261144964737 45.33962122301499, 124.48261040069262 45.33961917453909, 124.48261038459417 45.33961915071626, 124.48260878912821 45.339617285922536, 124.4826087667494 45.339617264772755, 124.48260668608525 45.33961565532454, 124.48260665828548 45.33961563765991, 124.48260659601733 45.33961560529093, 124.48260654608046 45.339615574261714, 124.48260650452156 45.33961553760012, 124.48260647259768 45.33961549641503, 124.48260645127432 45.33961545195212, 124.48260604754353 45.33961428376417, 124.48260603503691 45.339614258672256, 124.48260471782393 45.339612269843734, 124.48260469856683 45.3396122469764, 124.48260285261325 45.339610479607025, 124.48260282735697 45.33961045985607, 124.48260052472251 45.33960898293785, 124.48260049445234 45.339608967073985, 124.48259782502258 45.33960783825982, 124.48259779092128 45.33960782690301, 124.48259485890034 45.339607090257424, 124.48259482229825 45.339607083850616, 124.48259174214138 45.33960676812947, 124.48259170446781 45.339606766922884, 124.48258859641209 45.339606884450745, 124.48258855913747 45.33960688849141, 124.48258554450977 45.33960743468047, 124.48258550908913 45.33960744381067, 124.48258270556894 45.339608397339696, 124.48258267338481 45.33960841120314, 124.48258019041026 45.33960973485026, 124.48258016271978 45.33960975290527, 124.48257809721736 45.33961139500025, 124.48257807510039 45.33961141654271, 124.4825765076989 45.3396133129847, 124.48257649206657 45.33961333710042, 124.48257547348712 45.33961543944458, 124.48257447525104 45.339618440666676, 124.48257406022216 45.339620765360685, 124.48257405943322 45.33962079373401, 124.48257434490196 45.33962312805041, 124.48257435256767 45.33962315590937, 124.4825749367622 45.33962450057264, 124.48257495110238 45.33962454914931, 124.48257495259055 45.33962459875649, 124.48257494117645 45.339624647717436, 124.48257491724591 45.339624694377314, 124.4825725634279 45.339628228594066, 124.4825714669807 45.339630459101386, 124.4825288219576 45.33975938581066, 124.4825287990801 45.33975943395198, 124.48239549722288 45.33997132412701, 124.48225964716649 45.34017509928565, 124.48217288071422 45.34029806014858, 124.48217284405453 45.34029810202801, 124.48217279722029 45.340298138516054, 124.48217274176909 45.340298168399315, 124.48217267954487 45.34029819068401, 124.48217261261688 45.340298204629036, 124.48217239552594 45.34029823502166, 124.48217235971313 45.340298242672574, 124.48216950606586 45.34029907537212, 124.48216947305819 45.3402990878031, 124.482166904594 45.34030029712029, 124.48216687565905 45.34030031385396, 124.48216469108252 45.34030185331515, 124.4821646674033 45.34030187364764, 124.4821629313293 45.34030370679508, 124.48196493255722 45.34056470820152, 124.48196369430396 45.340566851387585, 124.48196368325372 45.34056687822797, 124.48196309640998 45.34056918375016, 124.4819628419547 45.340571607772, 124.48196283009298 45.34057165734581, 124.48196280539953 45.340571704508, 124.48196276873126 45.34057174762206, 124.4819371399534 45.34059635325404, 124.48193561680989 45.340598148046034, 124.48193560133652 45.34059817092556, 124.4819345821961 45.34060013523699, 124.48193457310444 45.34060015968416, 124.481934089925 45.34060224915828, 124.48192309150282 45.34071624875342, 124.48192315585953 45.3407182572598, 124.4819231597576 45.34071828145546, 124.48192373595178 45.34072024894962, 124.48192374593496 45.3407202721855, 124.48192482954794 45.34072215654223, 124.48194419610974 45.34074869595928, 124.4819442222718 45.340748741636446, 124.48194423622513 45.340748789906364, 124.48194423750475 45.34074883916082, 124.48194409812267 45.34075018196064, 124.48194414731178 45.34075220241934, 124.48194415106319 45.34075222676762, 124.48194471831088 45.34075420741696, 124.48194472822395 45.34075423081398, 124.48194580917708 45.3407561286163, 124.48207481462973 45.34093413159455, 124.48207704790482 45.34093644389162, 124.48211009698885 45.34096291458301, 124.48211011911935 45.340962934054176, 124.48218312414997 45.34103363083419, 124.48218550347158 45.34103546537856, 124.48225203662044 45.34107660424852, 124.48225207154356 45.34107662882495, 124.48228804423333 45.34110543943801, 124.48229002255428 45.34110677071116, 124.4822900484334 45.3411067853216, 124.48229232336747 45.341107855292385, 124.4822923523528 45.34110786649355, 124.4822948863449 45.34110865143999, 124.48230947457773 45.3411121465591, 124.4823095428274 45.34111216837458, 124.48230960374097 45.34111219915079, 124.48231649841794 45.34111646135189, 124.4823183095898 45.341117428546085, 124.48245331423377 45.34117942925075, 124.48245594297946 45.34118040121313, 124.48245597616994 45.34118041079494, 124.48245885175064 45.34118102402048, 124.48250085286121 45.341187022854186, 124.48250392523892 45.34118724395074, 124.48250396265944 45.34118724404352, 124.48250703715742 45.341187038187236, 124.48250707388445 45.341187033129835, 124.48251003235936 45.341186408232296, 124.48251006698177 45.34118639821905, 124.48251279574144 45.34118537829464, 124.48251282692827 45.3411853637105, 124.48251522110765 45.341183987954395, 124.4825152476609 45.34118396935961, 124.48251721525278 45.341182290641605, 124.4825172361519 45.341182268750764, 124.48251870154326 45.341180351582594, 124.48251871598502 45.34118032723706, 124.48251962286162 45.34117824529483, 124.48251963029085 45.34117821943071, 124.48251994380193 45.34117605272153, 124.48251994393345 45.341176026332185, 124.48251965203104 45.34117385812318, 124.48251964485952 45.34117383222175, 124.48251875876134 45.34117174583462, 124.48251874456267 45.34117172141805, 124.48251729832121 45.341169797031995, 124.48251727764044 45.34116977503775, 124.48251532683389 45.341168086605535, 124.48251530046667 45.341168067879536, 124.48251292006289 45.341166680286406, 124.48251288902222 45.34116666554796, 124.48251017049932 45.34116563211866, 124.48251013608053 45.341165621964365, 124.48250714751802 45.34116497587255, 124.48246822179802 45.3411594150559, 124.4824681527938 45.34115940031083, 124.48246808893593 45.341159376699764, 124.48242863313084 45.34114125628627, 124.48242857555613 45.34114122387778, 124.48242852785297 45.34114118429022, 124.48242849178877 45.34114113899048, 124.4824284686999 45.341141089657015, 124.48242845944179 45.34114103811778, 124.48242846435753 45.34114098628244, 124.48242848326502 45.34114093607163, 124.48242851546361 45.3411408893458, 124.48242855976018 45.341140847836265, 124.48242861451365 45.341140813081076, 124.48242867769503 45.341140786368015, 124.4824287469634 45.34114076868688, 124.48242881975214 45.34114076069277, 124.48242889336426 45.34114076268191, 124.48242896507217 45.34114077458062, 124.48258288880385 45.341177650691556, 124.48258585773505 45.341178142148834, 124.48258589435973 45.34117814562049, 124.48258894192944 45.34117822446762, 124.48258897881617 45.34117822289788, 124.4825919908276 45.341177886180674, 124.48259202659429 45.3411778796284, 124.48259489018012 45.34117713996447, 124.48259492338781 45.341177128708644, 124.48259756199839 45.341175999202584, 124.48296490671565 45.34098234463463, 124.48296493776506 45.34098232987873, 124.48325090153809 45.34086033168601, 124.48325097536423 45.34086030734245, 124.48325105482552 45.340860294575215, 124.48325113631844 45.34086029396331, 124.48325121614715 45.340860305534484, 124.48341715428592 45.34089771317352, 124.48341873963597 45.34089800779232, 124.48379774567844 45.340954007750604, 124.48380034814981 45.34095423596864, 124.4842403577024 45.340967233885046, 124.4842445506231 45.34096696305178, 124.48466352100566 45.34089996778606, 124.48507766524106 45.340825306793526, 124.48507777399432 45.34082529856497, 124.48549877276072 45.340836143967756, 124.48549885580378 45.34083615260345, 124.48549893417949 45.34083617379945, 124.48589066979822 45.340978623114815, 124.48589071575536 45.34097864282566, 124.48623107744197 45.34114882368068, 124.48623110893921 45.34114884125082, 124.48637548013923 45.34123844923871, 124.48637798726911 45.34123972100006, 124.48637801964284 45.34123973423566, 124.48638083041303 45.341240636623446, 124.4863808658261 45.341240645150634, 124.48638387222124 45.341241143487174, 124.48638390931288 45.34124114697828, 124.48638699579885 45.34124122211283, 124.48638703314367 45.34124122043372, 124.48639008110885 45.34124086947885, 124.48639011727124 45.341240862694065, 124.48639300958344 45.34124009913687, 124.48639304317473 45.341240087506904, 124.48639566868361 45.3412389406907, 124.4863956984125 45.34123892466254, 124.4863979562224 45.34123743865831, 124.4863979809453 45.34123741884861, 124.48639978428959 45.341235650762606, 124.48639980305727 45.3412356279321, 124.48640108263376 45.341233645711704, 124.48640109472538 45.34123362073714, 124.48640180136117 45.3412315005577, 124.48640180631156 45.34123147439968, 124.48640191285101 45.341229297738, 124.48640191047005 45.34122927140166, 124.48640141281892 45.34122712190592, 124.48640140319807 45.34122709640318, 124.48640032048118 45.34122505667788, 124.48640030398994 45.34122503298829, 124.48639867781547 45.34122318141851, 124.4863986551553 45.341223160515426, 124.48639652109179 45.34122154979235, 124.48625152729171 45.34113155414557, 124.48625021447643 45.341130822278615, 124.48590821121603 45.34095982147891, 124.48590629588196 45.340959000769736, 124.4855102881773 45.34081499980479, 124.48550706182638 45.34081412726775, 124.48550702147097 45.34081411980969, 124.48550356113724 45.34081376159424, 124.48507659584793 45.34080276248731, 124.48507656848396 45.340802763166586, 124.48507206417642 45.340803103996734, 124.48507203723099 45.3408031074269, 124.48465626661991 45.34087806606926, 124.48423959505331 45.34094469384763, 124.48423949441076 45.34094470029216, 124.48380301364128 45.34093180426674, 124.48380295118457 45.340931798767876, 124.48342609260493 45.34087611517676, 124.48342605456365 45.340876108098676, 124.48325383519355 45.340837285688906, 124.48325054901429 45.340836809351224, 124.48325050856894 45.34083680660354, 124.48324715388593 45.34083683178854, 124.48324711353247 45.34083683514284, 124.48324384247918 45.34083736070802, 124.48324380416284 45.34083736998435, 124.48324072908039 45.34083838564023, 124.4829477545027 45.34096337478614, 124.48294644526062 45.3409639969886, 124.48258533987232 45.34115436233431, 124.48258527652177 45.34115438941752, 124.48258520695902 45.341154407385574, 124.4825851337907 45.34115441556517, 124.48258505975863 45.341154413649804, 124.48258498763687 45.34115440171123, 124.48232587799929 45.34109232337885, 124.4823258097321 45.341092301556216, 124.48232574880556 45.34109227076832, 124.48227464781569 45.34106067400891, 124.48227461288577 45.34106064942712, 124.48213503153308 45.34094885205128, 124.48213500939838 45.34094883257598, 124.48211455941532 45.34092902835424, 124.48211453117705 45.34092899658282, 124.48203412466451 45.34082278060521, 124.48197676238127 45.34074417317743, 124.48197673618887 45.34074412742937, 124.48197672224285 45.34074407908315, 124.48197672100927 45.34074402975437, 124.48199395333125 45.34057986877822, 124.48199396519429 45.340579819201, 124.48199398989077 45.34057977203583, 124.48199402656354 45.34057972891961, 124.48201284620666 45.3405616620463, 124.48201357402401 45.340560900782314, 124.48202756706488 45.34054490873125, 124.48202803302077 45.3405443401257, 124.48211327843418 45.34043300609044, 124.48228827364461 45.34018501278889, 124.48242457702632 45.33998055785306, 124.4825585809697 45.339767548546924, 124.48255953258159 45.33976554233505, 124.4826021369606 45.339636738294054, 124.48260216332297 45.33963668477286, 124.482604195809 45.33963363604269)))</textarea>
            <div class="coord-settings" style="margin-bottom:8px;font-size:12px;color:#333;">
                <label>WKT坐标系：
                    <select id="coordSysSelect" style="margin-left:6px;">
                        <option value="wgs84" selected>WGS84</option>
                        <option value="gcj02">GCJ-02（国测局）</option>
                        <option value="bd09">BD-09（百度）</option>
                        <option value="cgcs2000">CGCS2000</option>
                    </select>
                </label>
                <!-- 已移除“不进行绘制坐标转换”选项，统一使用WGS84绘制 -->
            </div>

            <div class="button-group">
                <button id="drawButton">绘制轮廓</button>
                <button id="clearButton">清空轮廓</button>
            </div>
            <!-- 显示开关：仅保留显示亩数 -->
            <div class="display-toggles" style="margin-top:8px;font-size:12px;color:#333;">
                <label><input type="checkbox" id="toggleLabelsCheckbox"> 显示亩数</label>
            </div>
        </div>

        <div class="tab-pane" id="tabSplit">
            <!-- MultiPolygon → 多个 Polygon 分割器 -->
            <div class="split-section">
                <div class="title">MultiPolygon → 多个 Polygon 分割器</div>
                <div class="desc">输入一个 MULTIPOLYGON WKT，分割为多行 POLYGON WKT。</div>
                <textarea id="multiInput"></textarea>
                <div class="split-actions">
                    <button id="splitMultiBtn">分割为多个 POLYGON</button>
                    <button id="copyPolysBtn">复制结果</button>
                </div>
                <textarea id="polyOutput" readonly></textarea>
            </div>
        </div>

        <div class="tab-pane" id="tabBatch">
            <!-- 批量POLYGON → MULTIPOLYGON 生成器 -->
            <div class="batch-section">
                <div class="title">批量POLYGON → MULTIPOLYGON 合并器</div>
                <div class="desc">每行一个 POLYGON WKT（或用分号分隔）。生成后可一键填充到上方并绘制。</div>
                <textarea id="batchInput"></textarea>
                <div class="batch-actions">
                    <button id="generateMultiBtn">生成 MULTIPOLYGON</button>
                    <button id="copyMultiBtn">复制结果</button>
                </div>
                <textarea id="multiOutput" readonly></textarea>
            </div>
        </div>
        <div class="tab-pane" id="tabTrack">
            <div class="tip">请粘贴轨迹文本（支持两种格式：1）每行一条：定位时间yyyyMMddHHmmss, 经度, 纬度；2）单行#分隔：经度,纬度,定位时间yyyyMMddHHmmss#经度,纬度,定位时间yyyyMMddHHmmss#…）。</div>
            <div class="coord-settings" style="margin-bottom:8px;font-size:12px;color:#333;">
                <label>轨迹坐标系：
                    <select id="trackCoordSysSelect" style="margin-left:6px;">
                        <option value="wgs84" selected>WGS84</option>
                        <option value="gcj02">GCJ-02（国测局）</option>
                        <option value="bd09">BD-09（百度）</option>
                        <option value="cgcs2000">CGCS2000</option>
                    </select>
                </label>
            </div>
            <textarea id="trackTextarea" style="width:100%;height:120px;margin-bottom:10px;padding:8px;border:1px solid #ddd;border-radius:4px;font-family:monospace;resize:vertical;box-sizing:border-box;">20251005060816,124.504376,45.342028
20251005061446,124.503261,45.341735
20251005061456,124.502850,45.341662
20251005061506,124.502552,45.342048
20251005061516,124.502322,45.342373
20251005061526,124.501993,45.342506
20251005061536,124.501630,45.342735
20251005061546,124.501190,45.342706
20251005061556,124.500843,45.343088
20251005061606,124.500244,45.343708
20251005061616,124.499677,45.344322
20251005061626,124.499172,45.344880
20251005061636,124.498664,45.345475
20251005061646,124.498373,45.345870
20251005061656,124.498071,45.346216
20251005061706,124.497756,45.346427
20251005061716,124.497376,45.346722
20251005061726,124.497034,45.346889
20251005061736,124.496457,45.346638
20251005061746,124.495757,45.346331
20251005061756,124.495031,45.346009
20251005061806,124.494262,45.345676
20251005061816,124.493597,45.345394
20251005061826,124.492999,45.345123
20251005061836,124.492203,45.344772
20251005061846,124.491551,45.344263
20251005061856,124.490934,45.343717
20251005061906,124.490314,45.343263
20251005061916,124.489783,45.342880
20251005061926,124.489346,45.342651
20251005061937,124.488684,45.342378
20251005061947,124.487878,45.342018
20251005061957,124.487196,45.341683
20251005062007,124.486576,45.341343
20251005062017,124.485942,45.340985
20251005062027,124.485235,45.340797
20251005062037,124.484488,45.340913
20251005062047,124.483634,45.340914
20251005062057,124.482930,45.340985
20251005062107,124.482504,45.341176
20251005062117,124.482462,45.341170
20251005062127,124.482327,45.341108
20251005062137,124.482196,45.341027
20251005062147,124.482101,45.340935
20251005062157,124.482020,45.340828
20251005062207,124.481939,45.340717
20251005062217,124.481950,45.340603
20251005062227,124.482000,45.340555
20251005062237,124.482014,45.340539
20251005062247,124.482099,45.340428
20251005062257,124.482180,45.340314
20251005062307,124.482274,45.340180
20251005062317,124.482410,45.339976
20251005062327,124.482544,45.339763
20251005062337,124.482587,45.339633
20251005062347,124.482591,45.339627
20251005062357,124.482591,45.339627
20251005062602,124.482596,45.339624
20251005062612,124.482592,45.339623
20251005062622,124.482591,45.339618
20251005062632,124.482591,45.339618
20251005062642,124.482590,45.339619
20251005062652,124.482590,45.339621
20251005062702,124.482593,45.339624
20251005062838,124.482640,45.339512
20251005062848,124.482645,45.339490
20251005062858,124.482646,45.339489
20251005062908,124.482631,45.339454
20251005062918,124.482599,45.339393
20251005062928,124.482567,45.339328
20251005062938,124.482522,45.339245
20251005062948,124.482478,45.339169
20251005062958,124.482457,45.339134
20251005063008,124.482421,45.339067
20251005063018,124.482381,45.338989
20251005063028,124.482350,45.338937
20251005063038,124.482314,45.338875
20251005063048,124.482274,45.338806
20251005063058,124.482236,45.338739
20251005063108,124.482207,45.338689
20251005063118,124.482190,45.338652
20251005063128,124.482158,45.338600
20251005063138,124.482120,45.338540
20251005063148,124.482089,45.338490
20251005063158,124.482058,45.338426
20251005063208,124.482044,45.338399
20251005063218,124.482034,45.338380
20251005063228,124.482017,45.338343
20251005063238,124.482010,45.338327
20251005063248,124.482013,45.338323
20251005063258,124.481990,45.338268
20251005063308,124.482003,45.338288
20251005063318,124.481973,45.338247
20251005063328,124.481937,45.338181
20251005063338,124.481920,45.338145
20251005063348,124.481886,45.338084
20251005063358,124.481856,45.338031
20251005063408,124.481824,45.337975
20251005063418,124.481792,45.337914
20251005063429,124.481757,45.337844
20251005063439,124.481727,45.337786
20251005063449,124.481693,45.337722
20251005063459,124.481661,45.337653
20251005063509,124.481625,45.337590
20251005063519,124.481593,45.337523
20251005063529,124.481555,45.337452
20251005063539,124.481510,45.337372
20251005063549,124.481470,45.337294
20251005063559,124.481427,45.337214
20251005063609,124.481386,45.337139
20251005063619,124.481348,45.337061
20251005063629,124.481358,45.337086
20251005063639,124.481332,45.337176
20251005063649,124.481329,45.337191
20251005063659,124.481324,45.337201
20251005063709,124.481330,45.337193
20251005063719,124.481318,45.337210
20251005063729,124.481318,45.337210
20251005063739,124.481319,45.337209
20251005063749,124.481319,45.337209
20251005063759,124.481319,45.337209
20251005063809,124.481319,45.337209
20251005063819,124.481319,45.337209
20251005063829,124.481319,45.337209
20251005063839,124.481319,45.337209
20251005063849,124.481319,45.337209
20251005063859,124.481319,45.337209
20251005063909,124.481319,45.337209
20251005063919,124.481319,45.337209
20251005063929,124.481319,45.337209
20251005063939,124.481319,45.337209
20251005063949,124.481319,45.337209
20251005063959,124.481319,45.337209
20251005064009,124.481319,45.337209
20251005064019,124.481319,45.337209
20251005064029,124.481319,45.337209
20251005064039,124.481319,45.337209
20251005064049,124.481319,45.337209
20251005064059,124.481319,45.337209
20251005064109,124.481319,45.337209
20251005064119,124.481319,45.337209
20251005064129,124.481319,45.337209
20251005064139,124.481319,45.337209
20251005064149,124.481284,45.337149
20251005064159,124.481199,45.337034
20251005064209,124.481198,45.337032
20251005064219,124.481262,45.337138
20251005064229,124.481325,45.337107
20251005064239,124.481321,45.337057
20251005064249,124.481321,45.337054
20251005064259,124.481316,45.337044
20251005064309,124.481278,45.336970
20251005064319,124.481241,45.336902
20251005064329,124.481206,45.336835
20251005064339,124.481172,45.336773
20251005064349,124.481135,45.336710
20251005064359,124.481106,45.336657
20251005064409,124.481102,45.336650
20251005064419,124.481084,45.336614
20251005065456,124.481093,45.336632
20251005065506,124.481093,45.336632
20251005065516,124.481074,45.336597
20251005065526,124.481030,45.336521
20251005065536,124.480986,45.336440
20251005065546,124.481018,45.336500
20251005065556,124.481011,45.336490
20251005065606,124.480990,45.336451
20251005065616,124.480971,45.336422
20251005065626,124.481022,45.336401
20251005065636,124.480998,45.336416
20251005065646,124.481011,45.336430
20251005065656,124.481050,45.336497
20251005065706,124.481078,45.336546
20251005065716,124.481120,45.336622
20251005065726,124.481169,45.336708
20251005065736,124.481210,45.336778
20251005065746,124.481251,45.336855
20251005065756,124.481294,45.336939
20251005065806,124.481342,45.337024
20251005065816,124.481388,45.337112
20251005065826,124.481433,45.337201
20251005065836,124.481456,45.337242
20251005065846,124.481499,45.337322
20251005065856,124.481539,45.337397
20251005065906,124.481576,45.337467
20251005065916,124.481623,45.337550
20251005065926,124.481662,45.337629
20251005065936,124.481700,45.337707
20251005065946,124.481742,45.337787
20251005065956,124.481780,45.337865
20251005070006,124.481824,45.337951
20251005070016,124.481871,45.338041
20251005070026,124.481906,45.338104
20251005070036,124.481944,45.338179
20251005070046,124.481993,45.338273
20251005070056,124.482038,45.338364
20251005070106,124.482069,45.338427
20251005070116,124.482035,45.338359
20251005070126,124.482030,45.338348
20251005070136,124.482031,45.338348
20251005070146,124.482031,45.338348
20251005070156,124.482031,45.338349
20251005070206,124.482031,45.338349
20251005070216,124.482075,45.338439
20251005070226,124.482108,45.338499
20251005070236,124.482157,45.338579
20251005070246,124.482206,45.338666
20251005070256,124.482251,45.338749
20251005070306,124.482293,45.338821
20251005070316,124.482330,45.338886
20251005070326,124.482360,45.338938
20251005070336,124.482404,45.339020
20251005070346,124.482438,45.339081
20251005070356,124.482470,45.339136
20251005070406,124.482519,45.339225
20251005070416,124.482566,45.339309
20251005070426,124.482610,45.339394
20251005070436,124.482635,45.339441
20251005070446,124.482612,45.339398
20251005070456,124.482651,45.339431
20251005070506,124.482677,45.339449
20251005070516,124.482690,45.339466
20251005070526,124.482676,45.339497
20251005070536,124.482676,45.339497
20251005070801,124.482671,45.339413
20251005070811,124.482634,45.339337
20251005070821,124.482593,45.339260
20251005070831,124.482546,45.339177
20251005070841,124.482495,45.339087
20251005070851,124.482447,45.339000
20251005070901,124.482413,45.338936
20251005070911,124.482373,45.338865
20251005070921,124.482328,45.338790
20251005070931,124.482284,45.338710
20251005070941,124.482242,45.338635
20251005070951,124.482234,45.338622
20251005071001,124.482243,45.338704
20251005071011,124.482243,45.338704
20251005071021,124.482243,45.338704
20251005071031,124.482243,45.338703
20251005071041,124.482243,45.338703
20251005071051,124.482226,45.338615
20251005071101,124.482187,45.338539
20251005071111,124.482158,45.338490
20251005071121,124.482116,45.338419
20251005071131,124.482081,45.338349
20251005071141,124.482044,45.338269
20251005071151,124.482009,45.338196
20251005071201,124.481967,45.338115
20251005071211,124.481937,45.338060
20251005071221,124.481892,45.337978
20251005071231,124.481848,45.337897
20251005071241,124.481808,45.337816
20251005071251,124.481772,45.337743
20251005071301,124.481746,45.337692
20251005071311,124.481712,45.337624
20251005071321,124.481672,45.337546
20251005071331,124.481653,45.337501
20251005071341,124.481644,45.337535
20251005071351,124.481601,45.337482
20251005071401,124.481638,45.337549
20251005071411,124.481587,45.337435
20251005071421,124.481573,45.337361
20251005071431,124.481560,45.337335
20251005071441,124.481564,45.337342
20251005071451,124.481564,45.337342
20251005071501,124.481564,45.337342
20251005071511,124.481564,45.337342
20251005071521,124.481564,45.337342
20251005071531,124.481564,45.337342
20251005072027,124.481434,45.337101
20251005072037,124.481397,45.337030
20251005072047,124.481356,45.336952
20251005072057,124.481315,45.336876
20251005072107,124.481272,45.336796
20251005072117,124.481230,45.336718
20251005072127,124.481181,45.336633
20251005072137,124.481136,45.336551
20251005072147,124.481106,45.336496
20251005072157,124.481057,45.336419
20251005072207,124.481071,45.336441
20251005072217,124.481052,45.336397
20251005072227,124.481099,45.336378
20251005072237,124.481146,45.336367
20251005072247,124.481146,45.336368
20251005072257,124.481086,45.336378
20251005072307,124.481073,45.336403
20251005072317,124.481121,45.336470
20251005072327,124.481171,45.336557
20251005072337,124.481222,45.336646
20251005072347,124.481266,45.336725
20251005072357,124.481308,45.336802
20251005072407,124.481347,45.336876
20251005072417,124.481390,45.336954
20251005072427,124.481435,45.337041
20251005072437,124.481478,45.337123
20251005072447,124.481424,45.337018
20251005072457,124.481424,45.337018
20251005072507,124.481424,45.337018
20251005072517,124.481424,45.337018
20251005072527,124.481424,45.337018
20251005072537,124.481424,45.337018
20251005072547,124.481424,45.337019
20251005072557,124.481424,45.337019
20251005072607,124.481428,45.337027
20251005072617,124.481491,45.337148
20251005072627,124.481536,45.337232
20251005072637,124.481585,45.337322
20251005072647,124.481630,45.337403
20251005072657,124.481651,45.337441
20251005072707,124.481594,45.337371
20251005072717,124.481628,45.337443
20251005072727,124.481600,45.337405
20251005072737,124.481659,45.337453
20251005072747,124.481697,45.337532
20251005072757,124.481731,45.337596
20251005072807,124.481719,45.337589
20251005072817,124.481751,45.337690
20251005072827,124.481810,45.337765
20251005072837,124.481861,45.337856
20251005072847,124.481910,45.337948
20251005072857,124.481959,45.338041
20251005072907,124.482012,45.338139
20251005072917,124.482061,45.338237
20251005072927,124.482110,45.338342
20251005072937,124.482156,45.338433
20251005072947,124.482209,45.338520
20251005072957,124.482266,45.338620
20251005073007,124.482299,45.338677
20251005073017,124.482340,45.338753
20251005073027,124.482388,45.338835
20251005073037,124.482441,45.338928
20251005073047,124.482463,45.338970
20251005073057,124.482507,45.339048
20251005073107,124.482556,45.339135
20251005073117,124.482605,45.339225
20251005073127,124.482658,45.339321
20251005073137,124.482685,45.339370
20251005073147,124.482646,45.339309
20251005073157,124.482646,45.339309
20251005073207,124.482646,45.339309
20251005073217,124.482646,45.339309
20251005073227,124.482646,45.339309
20251005073237,124.482646,45.339310
20251005073247,124.482646,45.339310
20251005073257,124.482651,45.339327
20251005073307,124.482658,45.339359
20251005073317,124.482658,45.339359
20251005073327,124.482671,45.339380
20251005073337,124.482728,45.339404
20251005073347,124.482755,45.339403
20251005073357,124.482711,45.339449
20251005074013,124.482699,45.339309
20251005074023,124.482665,45.339234
20251005074033,124.482629,45.339161
20251005074043,124.482597,45.339097
20251005074053,124.482553,45.339022
20251005074103,124.482511,45.338946
20251005074113,124.482490,45.338905
20251005074123,124.482451,45.338829
20251005074133,124.482408,45.338751
20251005074143,124.482362,45.338670
20251005074153,124.482326,45.338601
20251005074203,124.482282,45.338520
20251005074213,124.482243,45.338456
20251005074223,124.482191,45.338377
20251005074233,124.482152,45.338295
20251005074243,124.482114,45.338215
20251005074253,124.482071,45.338129
20251005074303,124.482022,45.338041
20251005074313,124.481972,45.337948
20251005074323,124.481922,45.337854
20251005074333,124.481923,45.337862
20251005074343,124.481874,45.337800
20251005074353,124.481857,45.337762
20251005074403,124.481896,45.337857
20251005074413,124.481839,45.337739
20251005074423,124.481817,45.337684
20251005074433,124.481831,45.337752
20251005074443,124.481821,45.337775
20251005074453,124.481724,45.337679
20251005074503,124.481758,45.337568
20251005074513,124.481729,45.337490
20251005074523,124.481682,45.337404
20251005074533,124.481633,45.337313
20251005074543,124.481581,45.337219
20251005074553,124.481533,45.337127
20251005074603,124.481485,45.337036
20251005074613,124.481439,45.336947
20251005074623,124.481390,45.336856
20251005074633,124.481340,45.336762
20251005074643,124.481289,45.336671
20251005074653,124.481255,45.336608
20251005074703,124.481276,45.336742
20251005074713,124.481275,45.336742
20251005074723,124.481275,45.336742
20251005074733,124.481275,45.336742
20251005074743,124.481275,45.336742
20251005074753,124.481279,45.336664
20251005074803,124.481225,45.336558
20251005074813,124.481176,45.336473
20251005074823,124.481139,45.336413
20251005074833,124.481124,45.336400
20251005074843,124.481147,45.336357
20251005074853,124.481111,45.336362
20251005074903,124.481168,45.336409
20251005074913,124.481174,45.336414
20251005074923,124.481174,45.336414
20251005074933,124.481212,45.336477
20251005074943,124.481257,45.336555
20251005074953,124.481307,45.336640
20251005075003,124.481357,45.336727
20251005075013,124.481399,45.336808
20251005075023,124.481445,45.336893
20251005075033,124.481485,45.336970
20251005075043,124.481482,45.336962
20251005075053,124.481501,45.337002
20251005075103,124.481543,45.337082
20251005075113,124.481583,45.337159
20251005075123,124.481629,45.337243
20251005075133,124.481679,45.337333
20251005075143,124.481730,45.337425
20251005075153,124.481781,45.337522
20251005075203,124.481811,45.337576
20251005075213,124.481841,45.337635
20251005075223,124.481884,45.337721
20251005075233,124.481867,45.337683
20251005075243,124.481813,45.337586
20251005075253,124.481765,45.337516
20251005075303,124.481791,45.337624
20251005075313,124.481765,45.337577
20251005075323,124.481784,45.337639
20251005075333,124.481795,45.337591
20251005075343,124.481851,45.337708
20251005075353,124.481837,45.337657
20251005075403,124.481811,45.337642
20251005075413,124.481833,45.337645
20251005075423,124.481841,45.337797
20251005075433,124.481890,45.337817
20251005075443,124.481968,45.337895
20251005075453,124.482019,45.337987
20251005075503,124.482057,45.338057
20251005075513,124.482102,45.338146
20251005075523,124.482152,45.338251
20251005075533,124.482198,45.338348
20251005075543,124.482241,45.338426
20251005075553,124.482299,45.338519
20251005075603,124.482347,45.338606
20251005075613,124.482389,45.338679
20251005075623,124.482434,45.338757
20251005075633,124.482484,45.338844
20251005075643,124.482532,45.338933
20251005075653,124.482583,45.339026
20251005075703,124.482638,45.339125
20251005075713,124.482690,45.339218
20251005075723,124.482737,45.339306
20251005075733,124.482699,45.339235
20251005075743,124.482700,45.339236
20251005075753,124.482700,45.339236
20251005075803,124.482700,45.339236
20251005075813,124.482700,45.339236
20251005075823,124.482700,45.339236
20251005075833,124.482704,45.339246
20251005075843,124.482735,45.339306
20251005075853,124.482735,45.339307
20251005075903,124.482751,45.339321
20251005075913,124.482780,45.339334
20251005075923,124.482779,45.339330
20251005082034,124.482727,45.339160
20251005082044,124.482680,45.339079
20251005082054,124.482657,45.339036
20251005082104,124.482624,45.338981
20251005082114,124.482581,45.338900
20251005082124,124.482541,45.338829
20251005082134,124.482501,45.338758
20251005082144,124.482457,45.338683
20251005082154,124.482413,45.338606
20251005082204,124.482377,45.338540
20251005082214,124.482328,45.338450
20251005082224,124.482279,45.338372
20251005082234,124.482242,45.338297
20251005082244,124.482208,45.338218
20251005082254,124.482164,45.338129
20251005082304,124.482135,45.338070
20251005082314,124.482100,45.337999
20251005082324,124.482060,45.337926
20251005082334,124.482016,45.337843
20251005082344,124.481993,45.337794
20251005082354,124.481984,45.337775
20251005082404,124.481987,45.337826
20251005082414,124.481953,45.337765
20251005082424,124.481962,45.337783
20251005082434,124.481972,45.337756
20251005082444,124.481945,45.337696
20251005082454,124.481925,45.337658
20251005082504,124.481884,45.337584
20251005082514,124.481841,45.337494
20251005082524,124.481788,45.337399
20251005082534,124.481732,45.337296
20251005082544,124.481675,45.337189
20251005082554,124.481646,45.337134
20251005082604,124.481679,45.337187
20251005082614,124.481649,45.337120
20251005082625,124.481666,45.337187
20251005082635,124.481591,45.337095
20251005082645,124.481581,45.337024
20251005082655,124.481542,45.336936
20251005082705,124.481504,45.336860
20251005082715,124.481462,45.336779
20251005082725,124.481413,45.336688
20251005082735,124.481358,45.336592
20251005082745,124.481335,45.336547
20251005082755,124.481338,45.336553
20251005082805,124.481347,45.336676
20251005082815,124.481347,45.336676
20251005082825,124.481343,45.336675
20251005082835,124.481343,45.336674
20251005082845,124.481343,45.336673
20251005082855,124.481337,45.336646
20251005082905,124.481314,45.336534
20251005082915,124.481269,45.336443
20251005082925,124.481226,45.336367
20251005082935,124.481280,45.336446
20251005082945,124.481214,45.336305
20251005082955,124.481215,45.336416
20251005083005,124.481226,45.336422
20251005083015,124.481290,45.336464
20251005083025,124.481313,45.336498
20251005083035,124.481384,45.336609
20251005083045,124.481450,45.336721
20251005083055,124.481507,45.336829
20251005083105,124.481567,45.336945
20251005083115,124.481623,45.337054
20251005083125,124.481613,45.337038
20251005083135,124.481582,45.337097
20251005083145,124.481663,45.337157
20251005083155,124.481697,45.337193
20251005083205,124.481706,45.337217
20251005083215,124.481718,45.337236
20251005083225,124.481780,45.337346
20251005083235,124.481839,45.337452
20251005083245,124.481899,45.337574
20251005083255,124.481918,45.337611
20251005083305,124.481916,45.337608
20251005083315,124.481888,45.337603
20251005083325,124.481942,45.337660
20251005083335,124.481936,45.337649
20251005083345,124.481951,45.337691
20251005083355,124.482012,45.337799
20251005083405,124.482055,45.337883
20251005083415,124.482127,45.338011
20251005083425,124.482194,45.338144
20251005083435,124.482257,45.338273
20251005083445,124.482309,45.338388
20251005083455,124.482388,45.338510
20251005083505,124.482458,45.338633
20251005083515,124.482537,45.338768
20251005083525,124.482614,45.338912
20251005083535,124.482678,45.339026
20251005083545,124.482719,45.339099
20251005083555,124.482784,45.339212
20251005083605,124.482827,45.339293
20251005083615,124.482776,45.339207
20251005083625,124.482779,45.339206
20251005083635,124.482783,45.339206
20251005083645,124.482781,45.339207
20251005083655,124.482780,45.339206
20251005083704,124.482778,45.339204
20251005083714,124.482776,45.339203
20251005083724,124.482787,45.339337
20251005084211,124.482177,45.340309
20251005084221,124.481979,45.340570
20251005084231,124.481960,45.340751
20251005084241,124.482089,45.340929
20251005084251,124.482300,45.341098
20251005084301,124.482588,45.341167
20251005084311,124.482956,45.340973
20251005084321,124.483249,45.340848
20251005084331,124.483422,45.340887
20251005084341,124.483801,45.340943
20251005084351,124.484241,45.340956
20251005084401,124.484660,45.340889
20251005084411,124.485076,45.340814
20251005084421,124.485503,45.340825
20251005084431,124.485899,45.340969
20251005084441,124.486241,45.341140
20251005084451,124.486386,45.341230
20251005084501,124.486816,45.341489
20251005084511,124.487368,45.341774
20251005084521,124.488019,45.342091
20251005084531,124.488742,45.342407
20251005084541,124.489540,45.342743
20251005084551,124.490077,45.343100
20251005084601,124.490628,45.343495
20251005084611,124.491196,45.343951
20251005084621,124.491773,45.344479
20251005084631,124.491996,45.344665
20251005084641,124.492699,45.344993
20251005084651,124.493614,45.345395
20251005084701,124.494504,45.345782
20251005084711,124.495389,45.346173
20251005084721,124.496215,45.346533
20251005084731,124.496913,45.346840
20251005084741,124.497293,45.346812
20251005084751,124.497809,45.346415
20251005084801,124.498221,45.346053
20251005084811,124.498868,45.345265
20251005084821,124.499345,45.344694
20251005084831,124.499570,45.344453
20251005084841,124.500174,45.343811
20251005084851,124.500282,45.343675
20251005084901,124.500333,45.343620
20251005084911,124.500429,45.343543
20251005084921,124.500865,45.343085
20251005084931,124.501137,45.342763
20251005084941,124.501511,45.342725
20251005084951,124.501911,45.342585
20251005085001,124.502207,45.342403
20251005085011,124.502486,45.342163
20251005085021,124.502792,45.341727
20251005085031,124.503161,45.341713
20251005085041,124.503952,45.341946
20251005153234,124.504474,45.342040
20251005153244,124.504471,45.342047
20251005153254,124.504447,45.342116
20251005153304,124.504510,45.342231</textarea>
            <div class="button-group">
                <button id="drawTrackButton" disabled style="flex: 1;">绘制轨迹</button>
                <button id="showTrackPointsButton" disabled style="flex: 1;" class="btn-warning">打点</button>
                <button id="clearTrackButton" disabled style="flex: 1;">清空轨迹</button>
            </div>
            <!-- 回放控制 -->
            <div class="split-section" style="margin-top:8px;">
                <div class="title">轨迹回放</div>
                <div class="playback-actions" style="display:flex;gap:8px;margin-bottom:8px;">
                    <button id="playbackStartBtn" disabled>开始</button>
                    <button id="playbackPauseBtn" disabled>继续</button>
                    <button id="playbackStopBtn" disabled>结束</button>
                </div>
                <div class="playback-speed" style="display:flex;align-items:center;gap:8px;margin-bottom:8px;">
                    <label>速度：
                        <select id="playbackSpeedSelect" disabled>
                            <option value="1" selected>1×</option>
                            <option value="2">2×</option>
                            <option value="4">4×</option>
                            <option value="8">8×</option>
                            <option value="16">16×</option>
                            <option value="32">32×</option>
                            <option value="64">64×</option>
                            <option value="128">128×</option>
                            <option value="256">256×</option>
                            <option value="512">512×</option>
                            <option value="1024">1024×</option>
                        </select>
                    </label>
                    <span id="playbackTimeLabel" style="font-size:12px;color:#666;">时间：—</span>
                </div>
                <div class="playback-time" style="display:flex;flex-direction:column;gap:4px;margin-bottom:8px;">
                    <label class="playback-time-label" style="display:flex;align-items:center;gap:8px;flex:1 1 auto;min-width:0;">
                        <span class="playback-time-text" style="white-space:nowrap;">起始时间：</span>
                        <input type="range" id="playbackTimeSlider" disabled min="0" max="0" step="1000" value="0" style="flex:1 1 auto;min-width:0;max-width:100%;vertical-align:middle;">
                    </label>
                    <span id="playbackTimeCursor" style="font-size:12px;color:#666;align-self:flex-end;">—</span>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    let map;
    let currentPolygons = []; // 存储多边形和其标签
    let currentTracks = []; // 存储轨迹折线及相关覆盖物
    let mapLoaded = false;
    let mapLabelHandlers = []; // 存储地图事件处理器
    let labelsEnabled = false; // 标签显示开关（默认关闭）
    let isDrawing = false; // 绘制进行中防止重复点击
    let currentMapType = 'satellite'; // 当前地图类型：'satellite'（卫星图）或'street'（街道图）

    window.onload = function () {
        if (typeof T === 'undefined') {
            alert("天地图API加载失败，请检查网络或密钥！");
            return;
        }
        initMap();
        bindDrawEvent();
        bindMinimizeEvent();
        bindTabs();
        bindBatchGenerator();
        bindMultiSplitter();
        bindLabelsToggle(); // 绑定标签显示开关
        bindTrackEvents();  // 绑定轨迹绘制与清空
        bindPlaybackControls(); // 绑定轨迹回放
        bindMeasureEvents(); // 绑定测量功能
        bindMapTypeEvent(); // 绑定地图类型切换功能
    };

    function initMap() {
        showLoading();
        disableButtons(true);

        try {
            map = new T.Map("mapContainer", {
                zoom: 12,
                center: new T.LngLat(116.40769, 39.90403)
            });

            // 已移除测试标签
            map.enableScrollWheelZoom();

            // 不再添加地图类型控件到地图，改为使用左侧工具条按钮切换
            // const mapTypeCtrl = new T.Control.MapType({
            //     mapTypes: [TMAP_NORMAL_MAP, TMAP_SATELLITE_MAP, TMAP_TERRAIN_MAP],
            //     position: T_ANCHOR_TOP_LEFT
            // });
            // map.addControl(mapTypeCtrl);

            // 加载影像底图（卫星）
            const tk = "648f621977051d0199ff0f965d3fd322";

            // 方案1：使用默认地图类型（作为备选）
            map.setMapType(TMAP_SATELLITE_MAP);
            currentMapType = 'satellite';
            updateMapTypeButton('卫星图');

            // 方案2：手动添加影像图层（底图 + 标注）
            const vecLayer = new T.TileLayer(`https://t0.tianditu.gov.cn/img_w/wmts?SERVICE=WMTS&REQUEST=GetTile&VERSION=1.0.0&LAYER=img&STYLE=default&TILEMATRIXSET=w&FORMAT=tiles&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}&tk=${tk}`);
            const cvaLayer = new T.TileLayer(`https://t0.tianditu.gov.cn/cia_w/wmts?SERVICE=WMTS&REQUEST=GetTile&VERSION=1.0.0&LAYER=cia&STYLE=default&TILEMATRIXSET=w&FORMAT=tiles&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}&tk=${tk}`);

            // 添加图层并监听加载状态
            vecLayer.addEventListener("load", function () {
                console.log("影像底图加载完成");
            });

            vecLayer.addEventListener("error", function (e) {
                console.error("影像底图加载错误:", e);
                alert("影像底图加载错误，将使用默认地图类型");
            });

            map.addLayer(vecLayer);
            map.addLayer(cvaLayer);

            // 监听地图加载事件
            map.addEventListener("loaded", function () {
                console.log("地图加载完成");
                markMapLoaded();
            });
            map.addEventListener("load", function () {
                console.log("地图load事件触发");
                markMapLoaded();
            });
            map.addEventListener("tilesloaded", function () {
                console.log("地图瓦片加载完成");
                markMapLoaded();
            });
            // 监听地图加载失败事件
            map.addEventListener("error", function (e) {
                console.error("地图加载错误:", e);
                alert("地图加载错误: " + e.message);
                hideLoading();
            });

            // 监听地图移动事件，用于更新标签位置
            const moveHandler = function () {
                updateAllLabelsPosition();
            };
            map.addEventListener("move", moveHandler);
            map.addEventListener("zoom", moveHandler);

            // 存储事件处理器，用于清理
            mapLabelHandlers.push({ event: "move", handler: moveHandler });
            mapLabelHandlers.push({ event: "zoom", handler: moveHandler });

            // 超时容错
            setTimeout(() => {
                if (!mapLoaded) markMapLoaded();
            }, 8000);

        } catch (error) {
            alert("地图初始化失败：" + error.message);
            console.error(error);
            hideLoading();
        }
    }

    function markMapLoaded() {
        if (!mapLoaded) {
            mapLoaded = true;
            hideLoading();
            // 不再禁用按钮，保持按钮始终可用
            // disableButtons(false);
            disableTrackButtons(false);
            // 仅开启速度选择，回放按钮按状态控制
            const speedSel = document.getElementById('playbackSpeedSelect');
            if (speedSel) speedSel.disabled = false;
            updatePlaybackButtonsState('idle');
        }
    }

    function showLoading() {
        const loading = document.getElementById("mapLoading");
        loading.style.display = "flex";
        loading.style.opacity = "1";
    }

    function hideLoading() {
        const loading = document.getElementById("mapLoading");
        loading.style.opacity = "0";
        setTimeout(() => loading.style.display = "none", 300);
    }

    function disableButtons(disabled) {
        // 不再禁用按钮，保持按钮始终可用
        // document.getElementById("drawButton").disabled = disabled;
        // document.getElementById("clearButton").disabled = disabled;
    }

    function disableTrackButtons(disabled) {
        const drawTrackBtn = document.getElementById("drawTrackButton");
        const showTrackPointsBtn = document.getElementById("showTrackPointsButton");
        const clearTrackBtn = document.getElementById("clearTrackButton");
        if (drawTrackBtn) drawTrackBtn.disabled = disabled;
        if (showTrackPointsBtn) showTrackPointsBtn.disabled = disabled;
        if (clearTrackBtn) clearTrackBtn.disabled = disabled;
    }
    // 回放控件的禁用/启用
    function disablePlaybackButtons(disabled) {
        ["playbackStartBtn","playbackPauseBtn","playbackStopBtn","playbackSpeedSelect","playbackTimeSlider"].forEach(id=>{
            const el = document.getElementById(id);
            if (el) el.disabled = disabled;
        });
    }

    // 回放按钮状态管理：空闲/播放/暂停
    function updatePlaybackButtonsState(state){
        try {
            const startBtn = document.getElementById('playbackStartBtn');
            const pauseBtn = document.getElementById('playbackPauseBtn');
            const stopBtn = document.getElementById('playbackStopBtn');
            if (!startBtn || !pauseBtn || !stopBtn) return;
            if (state === 'idle') {
                startBtn.disabled = false;
                pauseBtn.disabled = true;
                stopBtn.disabled = true;
                pauseBtn.textContent = '继续';
            } else if (state === 'playing') {
                startBtn.disabled = true;
                pauseBtn.disabled = false;
                stopBtn.disabled = false;
                pauseBtn.textContent = '暂停';
            } else if (state === 'paused') {
                startBtn.disabled = true;
                pauseBtn.disabled = false;
                stopBtn.disabled = false;
                pauseBtn.textContent = '继续';
            }
        } catch(e) { console.warn('更新按钮状态失败:', e); }
    }

    function bindDrawEvent() {
        document.getElementById("drawButton").addEventListener("click", function () {
            if (isDrawing) { console.log('绘制进行中，忽略重复点击'); return; }
            isDrawing = true;
            showLoading();
            try {
                const wktStr = document.getElementById("wktTextarea").value.trim();
                if (!wktStr) { alert("请输入WKT字符串！"); return; }
                clearOverlays();
                const geojson = parseWkt(wktStr);
    
                const polygonData = [];
                if (geojson.type === "Polygon") {
                    polygonData.push({ index: 1, coordinates: geojson.coordinates });
                } else if (geojson.type === "MultiPolygon") {
                    geojson.coordinates.forEach((polygon, index) => {
                        polygonData.push({ index: index + 1, coordinates: polygon });
                    });
                }
    
                // 重置并绘制
                polygonInfoList = [];
                polygonData.forEach(pd => processPolygon(pd.index, pd.coordinates));
    
                // 视图居中到所有已绘制轮廓
                try { fitViewportToPolygons(); } catch (e) { console.warn('视图居中失败', e); }
    
                // 在视图稳定后再创建/更新标签
                setTimeout(() => {
                    if (labelsEnabled) {
                        try {
                            createAllLabels();
                            updateAllLabelsPosition();
                        } catch (e) {
                            console.warn('创建或更新标签失败:', e);
                        }
                    }
                }, 150);
            } catch (e) {
                alert('绘制失败：' + (e && e.message ? e.message : e));
                console.error('绘制异常:', e);
            } finally {
                hideLoading();
                isDrawing = false;
                // 不再禁用按钮，保持按钮始终可用
                // disableButtons(false);
            }
        });

        document.getElementById("clearButton").addEventListener("click", function () {
            if (isDrawing) { console.log('绘制进行中，暂不清空'); return; }
            clearOverlays();
            console.log("已清空所有轮廓");
        });
    }

    // 存储多边形数据，用于后续标签创建
    let polygonInfoList = [];

    // 处理单个多边形的绘制和面积计算
    function processPolygon(actualPolygonIndex, polygonCoords) {
        console.log('开始处理多边形', actualPolygonIndex);

        // 坐标系选择（绘制始终使用WGS84坐标）
        const coordSys = (document.getElementById('coordSysSelect') && document.getElementById('coordSysSelect').value) || 'wgs84';

        // 统一转换为WGS84用于绘制与面积计算
        function toWgs(point){
            const lng = point[0], lat = point[1];
            if (coordSys === 'wgs84' || coordSys === 'cgcs2000') {
                return [lng, lat];
            } else if (coordSys === 'gcj02') {
                const w = gcj02ToWgs84(lng, lat);
                return [w.lng, w.lat];
            } else if (coordSys === 'bd09') {
                const gcj = bd09ToGcj02(lng, lat);
                const w = gcj02ToWgs84(gcj.lng, gcj.lat);
                return [w.lng, w.lat];
            }
            return [lng, lat];
        }
        const coordsWGS84 = polygonCoords.map(ring => ring.map(toWgs));
        let outerRingWGS = coordsWGS84[0] || [];

        // 生成用于绘制的坐标（直接使用WGS84坐标）
        const rings = coordsWGS84.map(ring => ring.map(([lng, lat]) => new T.LngLat(lng, lat)));


         // 创建半透明填充的多边形（无边框）
          const polygon = new T.Polygon(rings, {
              color: "#FFD700",
              weight: 1,
              opacity: 1,
              fillColor: "#FFFF00",
              fillOpacity: 0.35
          });
 
          // 使用WGS84坐标计算面积（更准确的面积计算）
         let areaSqm;
         let areaMu;



         try {
             // 检查Turf.js是否可用
             if (typeof turf !== 'undefined' && turf.area) {
                 // 使用Turf.js计算多边形面积
                // 构造GeoJSON格式的多边形
                const geoJsonPolygon = {
                    type: "Polygon",
                    coordinates: coordsWGS84
                };


                 // 使用Turf.js计算面积（平方米）
                 areaSqm = turf.area(geoJsonPolygon);
                 areaMu = (areaSqm / 666.6667).toFixed(4); // 转换为亩
                 console.log(`多边形${actualPolygonIndex}面积计算结果(Turf.js): ${areaSqm}平方米 = ${areaMu}亩`);
             } else {
                 // 如果Turf.js不可用，回退到之前的计算方法
                 console.warn('Turf.js不可用，使用备用计算方法');
                 // 计算带孔洞的多边形面积
                 areaSqm = 0;
                 // 计算外环面积
                 outerRingWGS = coordsWGS84[0] || [];
                 areaSqm += calculatePolygonArea(outerRingWGS);

                 // 减去内环（孔洞）面积
                 for (let i = 1; i < coordsWGS84.length; i++) {
                     const innerRingArea = calculatePolygonArea(coordsWGS84[i]);
                     areaSqm -= innerRingArea;
                 }

                  areaMu = (areaSqm / 666.6667).toFixed(4); // 使用更精确的转换系数
                  console.log(`多边形${actualPolygonIndex}面积计算结果(备用): ${areaSqm}平方米 = ${areaMu}亩`);
              }
          } catch (error) {
              console.error(`面积计算失败:`, error);
              areaSqm = 0;
              areaMu = '0.0000';
          }

          // 计算多边形的中心点和底部中心点（WGS84）
          const centerPoint = calculatePolygonCenter(outerRingWGS);
          const bottomCenterPoint = calculatePolygonBottomCenter(outerRingWGS);

          // 添加多边形到地图
          if (map) {
              map.addOverLay(polygon);
              console.log(`多边形${actualPolygonIndex}已添加到地图`);
          } else {
              console.error('地图对象不存在');
          }

          // 存储多边形信息，用于后续标签创建
          polygonInfoList.push({
              index: actualPolygonIndex,
              polygon: polygon,
              area: areaMu,
              bottomCenter: { lng: bottomCenterPoint.lng, lat: bottomCenterPoint.lat },
              ringPoints: rings
          });
      }

    // 视图居中：根据已绘制的GCJ-02点
    function fitViewportToPolygons() {
        const points = [];
        try {
            if (!map || !map.setViewport) return;
            polygonInfoList.forEach(info => {
                if (!info || !info.ringPoints) return;
                info.ringPoints.forEach(ring => {
                    ring.forEach(ll => points.push(ll));
                });
            });
            if (!points.length) return;
            map.setViewport(points);
        } catch (e) {
            try {
                const lngs = points.map(p => p.lng);
                const lats = points.map(p => p.lat);
                const center = new T.LngLat(
                    (Math.min(...lngs) + Math.max(...lngs)) / 2,
                    (Math.min(...lats) + Math.max(...lats)) / 2
                );
                if (map && map.panTo) map.panTo(center);
            } catch (e2) {
                console.warn('视图居中失败:', e2);
            }
        }
    }

    // 统一创建所有多边形的标签
    function createAllLabels() {
        const mapContainer = document.getElementById('mapContainer');
        if (!mapContainer || !map) return;

        polygonInfoList.forEach(info => {
            if (!info) return;
            // 防止重复创建
            if (info.labelRef) return;
            // 创建标签元素
            const labelDiv = document.createElement('div');
            labelDiv.className = 'area-label';
            labelDiv.innerHTML = `多边形${info.index}：${info.area}亩`;

            // 添加到地图容器并根据屏幕边界定位到轮廓下方
            mapContainer.appendChild(labelDiv);
            positionLabelForPolygon(labelDiv, info);

            // 记录引用，避免重复创建
            info.labelRef = labelDiv;

            // 存储到 currentPolygons 以复用现有定位/清理逻辑
            const labelObj = {
                domElement: labelDiv,
                isDomLabel: true,
                polygonInfo: info
            };
            currentPolygons.push({ polygon: info.polygon, label: labelObj });
        });

        // 不清空 polygonInfoList，便于开关随时创建/隐藏标签
    }

    // 根据多边形屏幕边界定位标签，保证始终在轮廓下方
    function positionLabelForPolygon(labelDiv, info) {
        if (!map || !info || !info.ringPoints) return;
        const points = [];
        info.ringPoints.forEach(ring => {
            ring.forEach(ll => {
                const p = map.lngLatToContainerPoint(ll);
                points.push(p);
            });
        });
        if (!points.length) return;
        const minX = Math.min(...points.map(p => p.x));
        const maxX = Math.max(...points.map(p => p.x));
        const maxY = Math.max(...points.map(p => p.y));
        const container = document.getElementById('mapContainer');
        const labelWidth = labelDiv.offsetWidth;
        const labelHeight = labelDiv.offsetHeight;
        const targetLeft = Math.round((minX + maxX) / 2 - labelWidth / 2);
        const targetTop = Math.round(maxY + 6);
        const clampedLeft = Math.max(0, Math.min(targetLeft, container.clientWidth - labelWidth));
        const clampedTop = Math.max(0, Math.min(targetTop, container.clientHeight - labelHeight));
        labelDiv.style.left = clampedLeft + 'px';
        labelDiv.style.top = clampedTop + 'px';
    }

    // 更新所有标签位置（地图move/zoom时调用）
    function updateAllLabelsPosition() {
        try {
            if (!map) return;
            const container = document.getElementById('mapContainer');
            if (!container) return;
            currentPolygons.forEach(item => {
                if (!item || !item.label) return;
                const labelObj = item.label;
                if (labelObj.isDomLabel && labelObj.domElement && labelObj.polygonInfo) {
                    // 确保标签在容器中
                    if (!labelObj.domElement.parentNode) {
                        container.appendChild(labelObj.domElement);
                    }
                    positionLabelForPolygon(labelObj.domElement, labelObj.polygonInfo);
                }
            });
        } catch (e) {
            console.warn('更新标签位置时出错:', e);
        }
    }
    // 确保在全局可用（处理第三方库事件回调作用域差异）
    window.updateAllLabelsPosition = updateAllLabelsPosition;

    // 绑定“显示亩数标签”开关（默认隐藏）
    function bindLabelsToggle() {
        const cb = document.getElementById('toggleLabelsCheckbox');
        const container = document.getElementById('mapContainer');
        if (!cb || !container) return;
        // 默认隐藏标签
        container.classList.add('labels-hidden');
        cb.addEventListener('change', () => {
            labelsEnabled = cb.checked;
            if (labelsEnabled) {
                container.classList.remove('labels-hidden');
                const hasAnyLabel = currentPolygons.some(item => item && item.label && item.label.domElement);
                if (!hasAnyLabel) {
                    try { createAllLabels(); } catch (e) { console.warn('创建标签失败:', e); }
                }
                updateAllLabelsPosition();
            } else {
                container.classList.add('labels-hidden');
            }
        });
    }

    /**
     * 计算多边形中心点（比底部中心更适合显示标签）
     */
    function calculatePolygonCenter(outerRing) {
        let sumLng = 0, sumLat = 0;
        const len = outerRing.length;

        for (let i = 0; i < len; i++) {
            sumLng += outerRing[i][0];
            sumLat += outerRing[i][1];
        }

        return {
            lng: sumLng / len,
            lat: sumLat / len
        };
    }

    /**
     * 计算多边形面积（球面多边形面积计算）
     * 使用更准确的球面坐标面积计算方法，确保面积与视觉大小一致
     */
    function calculatePolygonArea(coordinates) {
        // 地球半径（米）- 使用更精确的值
        const R = 6371000.8;
        const n = coordinates.length;

        // 将所有坐标转换为弧度
        const coordsRad = coordinates.map(point => [
            point[0] * Math.PI / 180,
            point[1] * Math.PI / 180
        ]);

        let areaRad = 0;

        // 使用更准确的球面多边形面积公式（Girard定理）
        for (let i = 0; i < n; i++) {
            const j = (i + 1) % n;
            const lon1 = coordsRad[i][0];
            const lat1 = coordsRad[i][1];
            const lon2 = coordsRad[j][0];
            const lat2 = coordsRad[j][1];

            // 计算球面多边形面积增量
            const dlon = lon2 - lon1;
            const sinLat1 = Math.sin(lat1);
            const sinLat2 = Math.sin(lat2);
            const cosLat1 = Math.cos(lat1);
            const cosLat2 = Math.cos(lat2);

            // 使用更精确的公式
            areaRad += dlon * (sinLat1 * cosLat2 * Math.cos(dlon / 2) + sinLat2 * cosLat1);
        }

        // 计算总面积（平方米）
        const areaSqm = Math.abs(areaRad) * R * R * 0.5;

        return areaSqm;
    }

    /**
     * 清空所有多边形和标签（同时处理 polygonInfoList 与 currentPolygons）
     */
    function clearOverlays() {
        try {
            // 先移除 polygonInfoList 中记录的多边形与其DOM标签
            polygonInfoList.forEach(info => {
                if (info && info.polygon && map && map.removeOverLay) {
                    try { map.removeOverLay(info.polygon); } catch (e) { console.warn('移除多边形失败:', e); }
                }
                if (info && info.labelRef && info.labelRef.parentNode) {
                    try { info.labelRef.parentNode.removeChild(info.labelRef); } catch (e) { console.warn('移除DOM标签失败:', e); }
                    info.labelRef = null;
                }
            });

            // 再处理 currentPolygons（兼容旧路径与标签对象）
            currentPolygons.forEach(item => {
                if (item.polygon && map && map.removeOverLay) {
                    try { map.removeOverLay(item.polygon); } catch (e) { console.warn('移除多边形失败:', e); }
                }
                if (item.label) {
                    if (item.label.domElement && item.label.domElement.parentNode) {
                        try { item.label.domElement.parentNode.removeChild(item.label.domElement); } catch (e) { console.warn('移除DOM标签失败:', e); }
                    } else if (map && map.removeOverLay && !item.label.isDomLabel) {
                        try { map.removeOverLay(item.label); } catch (e) { console.warn('移除地图覆盖物标签失败:', e); }
                    }
                }
            });

            // 清空记录数组
            currentPolygons = [];
            polygonInfoList = [];

            console.log('已清空所有多边形和标签（保留事件监听器）');
        } catch (error) {
            console.error('清空覆盖物时出错:', error);
        }
    }

    // 其他辅助函数（保持不变）
    function bindMinimizeEvent() {
        const container = document.querySelector(".wkt-input-container");
        const btn = document.getElementById("minimizeBtn");
        const minIcon = btn?.querySelector(".min-icon");
        const restoreIcon = btn?.querySelector(".restore-icon");

        btn?.addEventListener("click", () => {
            const minimized = container.classList.toggle("minimized");
            if (minIcon && restoreIcon) {
                if (minimized) {
                    minIcon.style.display = "none";
                    restoreIcon.style.display = "";
                } else {
                    minIcon.style.display = "";
                    restoreIcon.style.display = "none";
                }
            }
        });
    }

    // 在脚本内部补充：页签切换（3个页签）
     function bindTabs() {
         const tabs = [
             { btn: document.getElementById('tabDrawBtn'), pane: document.getElementById('tabDraw'), key: 'draw' },
             { btn: document.getElementById('tabTrackBtn'), pane: document.getElementById('tabTrack'), key: 'track' },
             { btn: document.getElementById('tabSplitBtn'), pane: document.getElementById('tabSplit'), key: 'split' },
             { btn: document.getElementById('tabBatchBtn'), pane: document.getElementById('tabBatch'), key: 'batch' },
         ];
         if (tabs.some(t => !t.btn || !t.pane)) return;
         function activate(key) {
             tabs.forEach(t => {
                 const active = t.key === key;
                 t.btn.classList.toggle('active', active);
                 t.pane.classList.toggle('active', active);
             });
         }
         tabs.forEach(t => t.btn.addEventListener('click', () => activate(t.key)));
         activate('draw');
     }
    function updateParserStatus() {
        const el = document.getElementById('parserStatus');
        if (!el) return;
        const ok = (typeof Terraformer !== 'undefined' && Terraformer.WKT && typeof Terraformer.WKT.parse === 'function');
        if (ok) {
            el.textContent = 'Terraformer WKT Parser';
            el.style.color = '#2f8f2f';
        } else {
            el.textContent = '本地回退解析（仅支持POLYGON/MULTIPOLYGON）';
            el.style.color = '#c77d1e';
        }
    }
     function parseWkt(wkt) {
         wkt = wkt.trim();
         // 优先使用成熟库（Terraformer WKT Parser）
         if (typeof Terraformer !== 'undefined' && Terraformer.WKT && Terraformer.WKT.parse) {
             try {
                 return Terraformer.WKT.parse(wkt);
             } catch (e) {
                 console.warn('Terraformer解析失败，尝试本地回退解析:', e);
             }
         } else {
             // 不再提示“未加载”，由状态栏展示回退信息
         }
         // 回退解析：仅支持 POLYGON / MULTIPOLYGON
         const typeMatch = wkt.match(/^\s*(POLYGON|MULTIPOLYGON)\s*\(/i);
         if (!typeMatch) throw new Error('仅支持POLYGON/MULTIPOLYGON');
         const type = typeMatch[1].toUpperCase();
         const inner = wkt.substring(wkt.indexOf('('));
         if (type === 'POLYGON') {
             const coords = parsePolygonCoords(inner.replace(/^\(/, '').replace(/\)$/, ''));
             return { type: 'Polygon', coordinates: coords };
         } else {
             const trimmed = inner.replace(/^\(\(/, '').replace(/\)\)$/, '');
             const coords = parseMultiPolygonCoords(trimmed);
             return { type: 'MultiPolygon', coordinates: coords };
         }
     }

     function bindMultiSplitter() {
         const input = document.getElementById('multiInput');
         const output = document.getElementById('polyOutput');
         const splitBtn = document.getElementById('splitMultiBtn');
         const copyBtn = document.getElementById('copyPolysBtn');
         if (!input || !output || !splitBtn || !copyBtn) return;

         // 本地WKT序列化辅助
         function ringToText(ring) {
             if (!ring || !ring.length) return '()';
             const first = ring[0];
             const last = ring[ring.length - 1];
             const closed = (first[0] === last[0] && first[1] === last[1]) ? ring : ring.concat([[first[0], first[1]]]);
             return '(' + closed.map(pt => pt[0] + ' ' + pt[1]).join(', ') + ')';
         }
         function toWktPolygonCoords(coords) {
             return 'POLYGON(' + coords.map(ringToText).join(', ') + ')';
         }
         function toWktMulti(coords) {
             return 'MULTIPOLYGON(' + coords.map(poly => '(' + poly.map(ringToText).join(', ') + ')').join(', ') + ')';
         }

         function polygonsFromMulti(text) {
             const geo = parseWkt(text.trim());
             if (geo.type !== 'MultiPolygon') throw new Error('请输入有效的 MULTIPOLYGON WKT');
             const polys = geo.coordinates.map(rings => toWktPolygonCoords(rings));
             return polys;
         }
         splitBtn.addEventListener('click', () => {
             try {
                 const list = polygonsFromMulti(input.value.trim());
                 output.value = list.join('\n');
             } catch (e) {
                 alert('分割失败：' + e.message);
             }
         });
         copyBtn.addEventListener('click', async () => {
             const val = output.value.trim();
             if (!val) { alert('没有可复制的结果'); return; }
             try { await navigator.clipboard.writeText(val); alert('已复制到剪贴板'); } catch (e) { console.warn('复制失败', e); }
         });
     }

     function bindBatchGenerator() {
         const batchInput = document.getElementById('batchInput');
         const output = document.getElementById('multiOutput');
         const genBtn = document.getElementById('generateMultiBtn');
         const copyBtn = document.getElementById('copyMultiBtn');

         // 本地WKT序列化辅助（与分割器保持一致）
         function ringToText(ring) {
             if (!ring || !ring.length) return '()';
             const first = ring[0];
             const last = ring[ring.length - 1];
             const closed = (first[0] === last[0] && first[1] === last[1]) ? ring : ring.concat([[first[0], first[1]]]);
             return '(' + closed.map(pt => pt[0] + ' ' + pt[1]).join(', ') + ')';
         }
         function toWktMulti(coords) {
             return 'MULTIPOLYGON(' + coords.map(poly => '(' + poly.map(ringToText).join(', ') + ')').join(', ') + ')';
         }

         genBtn.addEventListener('click', () => {
             try {
                 const lines = batchInput.value.trim().split(/\n|;/).map(s => s.trim()).filter(Boolean);
                 if (lines.length === 0) throw new Error('请按每行或分号输入至少一个POLYGON');
                 const polygons = lines.map((line, idx) => {
                     const g = parseWkt(line);
                     if (g.type !== 'Polygon') throw new Error(`第${idx + 1}行不是有效的POLYGON WKT`);
                     return g;
                 });
                 const multiGeo = { type: 'MultiPolygon', coordinates: polygons.map(p => p.coordinates) };
                 output.value = toWktMulti(multiGeo.coordinates);
             } catch (e) {
                 alert('生成失败：' + e.message);
             }
         });

         copyBtn.addEventListener('click', async () => {
             const val = output.value.trim();
             if (!val) { alert('没有可复制的结果'); return; }
             try { await navigator.clipboard.writeText(val); alert('已复制到剪贴板'); } catch (e) { console.warn('复制失败', e); }
         });

     }

     function setExampleWkt() {
         const exampleWkt = "MULTIPOLYGON(" +
             "(" +
             "(116.35 39.93, 116.39 39.93, 116.39 39.90, 116.35 39.90, 116.35 39.93)," + // 外环
             "(116.36 39.92, 116.38 39.92, 116.38 39.91, 116.36 39.91, 116.36 39.92)" +  // 内环
             ")," +
             "(" +
             "(116.40 39.95, 116.43 39.97, 116.46 39.96, 116.49 39.98, 116.52 39.95, 116.55 39.93, 116.58 39.94, 116.61 39.92, 116.64 39.95, 116.40 39.95)" +
             ")" +
             ")";
         document.getElementById("wktTextarea").value = exampleWkt;
     }

     function parsePolygonCoords(coordStr) {
         const ringStrs = coordStr.split(/\)\s*,\s*\(/).map(s => s.replace(/[()]/g, '').trim());
         const rings = [];
         ringStrs.forEach(ringStr => {
             const pts = ringStr.split(/,\s*/).map(pointStr => {
                 const [lng, lat] = pointStr.split(/\s+/).map(Number);
                 if (isNaN(lng) || isNaN(lat)) throw new Error("坐标格式错误：" + pointStr);
                 return [lng, lat];
             });
             // 自动拆分：如果一个ring中包含多次回到起点（闭合），则拆分为多个环
             // 兼容用户将外环与内环错误地写在同一对括号中的情况
             let start = 0;
             while (start < pts.length) {
                 const startPt = pts[start];
                 let closeIdx = -1;
                 for (let i = start + 1; i < pts.length; i++) {
                     if (pts[i][0] === startPt[0] && pts[i][1] === startPt[1]) {
                         closeIdx = i;
                         break;
                     }
                 }
                 if (closeIdx === -1) {
                     // 未找到闭合：将剩余点视为一个环，并强制闭合
                     const ring = pts.slice(start);
                     if (ring.length && (ring[0][0] !== ring[ring.length - 1][0] || ring[0][1] !== ring[ring.length - 1][1])) {
                         ring.push([ring[0][0], ring[0][1]]);
                     }
                     rings.push(ring);
                     break;
                 } else {
                     const ring = pts.slice(start, closeIdx + 1);
                     rings.push(ring);
                     start = closeIdx + 1;
                 }
             }
         });
         return rings;
     }

     function parseMultiPolygonCoords(coordStr) {
         const polygonStrs = coordStr.split(/\)\s*\)\s*,\s*\(\s*\(/).map(s => s.replace(/[()]/g, '').trim());
         return polygonStrs.map(polygonStr => parsePolygonCoords(polygonStr));
     }

     function wgs84ToGcj02(lng, lat) {
         const x_PI = 3.14159265358979324 * 3000.0 / 180.0;
         const PI = 3.1415926535897932384626;
         const a = 6378245.0;
         const ee = 0.00669342162296594323;

         if (outOfChina(lng, lat)) return { lng, lat };

         let dlat = transformLat(lng - 105.0, lat - 35.0);
         let dlng = transformLng(lng - 105.0, lat - 35.0);
         const radlat = lat / 180.0 * PI;
         let magic = Math.sin(radlat);
         magic = 1 - ee * magic * magic;
         const sqrtmagic = Math.sqrt(magic);
         dlat = (dlat * 180.0) / ((a * (1 - ee)) / (magic * sqrtmagic) * PI);
         dlng = (dlng * 180.0) / (a / sqrtmagic * Math.cos(radlat) * PI);

         return { lng: lng + dlng, lat: lat + dlat };

         function outOfChina(lng, lat) {
             return (lng < 72.004 || lng > 137.8347) || (lat < 0.8293 || lat > 55.8271);
         }

         function transformLat(x, y) {
             let ret = -100.0 + 2.0 * x + 3.0 * y + 0.2 * y * y + 0.1 * x * y + 0.2 * Math.sqrt(Math.abs(x));
             ret += (20.0 * Math.sin(6.0 * x * PI) + 20.0 * Math.sin(2.0 * x * PI)) * 2.0 / 3.0;
             ret += (20.0 * Math.sin(y * PI) + 40.0 * Math.sin(y / 3.0 * PI)) * 2.0 / 3.0;
             ret += (160.0 * Math.sin(y / 12.0 * PI) + 320 * Math.sin(y * PI / 30.0)) * 2.0 / 3.0;
             return ret;
         }

         function transformLng(x, y) {
             let ret = 300.0 + x + 2.0 * y + 0.1 * x * x + 0.1 * x * y + 0.1 * Math.sqrt(Math.abs(x));
             ret += (20.0 * Math.sin(6.0 * x * PI) + 20.0 * Math.sin(2.0 * x * PI)) * 2.0 / 3.0;
             ret += (20.0 * Math.sin(x * PI) + 40.0 * Math.sin(x / 3.0 * PI)) * 2.0 / 3.0;
             ret += (150.0 * Math.sin(x / 12.0 * PI) + 300.0 * Math.sin(x / 30.0 * PI)) * 2.0 / 3.0;
             return ret;
         }
     }

     function gcj02ToWgs84(lng, lat) {
         const g = wgs84ToGcj02(lng, lat);
         return { lng: lng * 2 - g.lng, lat: lat * 2 - g.lat };
     }

     function bd09ToGcj02(bdLng, bdLat) {
         const x_PI = 3.14159265358979324 * 3000.0 / 180.0;
         const x = bdLng - 0.0065;
         const y = bdLat - 0.006;
         const z = Math.sqrt(x * x + y * y) - 0.00002 * Math.sin(y * x_PI);
         const theta = Math.atan2(y, x) - 0.000003 * Math.cos(x * x_PI);
         const ggLng = z * Math.cos(theta);
         const ggLat = z * Math.sin(theta);
         return { lng: ggLng, lat: ggLat };
     }

     function calculatePolygonBottomCenter(outerRing) {
         let minLat = Infinity;
         let bottomPoints = [];
         outerRing.forEach(point => {
             const lat = point[1];
             if (lat < minLat) {
                 minLat = lat;
                 bottomPoints = [point];
             } else if (lat === minLat) {
                 bottomPoints.push(point);
             }
         });

         const sumLng = bottomPoints.reduce((sum, point) => sum + point[0], 0);
         const centerLng = sumLng / bottomPoints.length;

         return { lng: centerLng, lat: minLat };
     }

     function fitBounds(geojson) {
         try {
             const allPoints = [];
             function collectPoints(coords) {
                 if (typeof coords[0] === 'number') {
                     allPoints.push(coords);
                 } else {
                     coords.forEach(coord => collectPoints(coord));
                 }
             }
             collectPoints(geojson.coordinates);

             if (allPoints.length === 0) return;

             const lats = allPoints.map(p => p[1]);
             const lngs = allPoints.map(p => p[0]);
             const minLng = Math.min(...lngs);
             const maxLng = Math.max(...lngs);
             const minLat = Math.min(...lats);
             const maxLat = Math.max(...lats);

             const sw = wgs84ToGcj02(minLng, minLat);
             const ne = wgs84ToGcj02(maxLng, maxLat);

             // 修复setViewport方法的使用，确保参数格式正确
             if (map && map.setViewport) {
                 map.setViewport([
                     new T.LngLat(sw.lng, sw.lat),
                     new T.LngLat(ne.lng, ne.lat)
                 ], { padding: [50, 50] });
             } else {
                 console.warn('地图对象或setViewport方法不可用');
             }
         } catch (error) {
             console.error('调整视图范围时出错:', error);
         }
     }
// 轨迹绘制与解析
    function bindTrackEvents() {
        const drawBtn = document.getElementById('drawTrackButton');
        const showPointsBtn = document.getElementById('showTrackPointsButton');
        const clearBtn = document.getElementById('clearTrackButton');
        const ta = document.getElementById('trackTextarea');
        if (!drawBtn || !showPointsBtn || !clearBtn || !ta) return;

        drawBtn.addEventListener('click', function(){
            try {
                const text = ta.value.trim();
                if (!text) { alert('请粘贴轨迹文本（时间戳,经度,纬度）'); return; }
                const points = parseTrackText(text);
                if (points.length < 2) { alert('有效轨迹点不足，至少需要两点'); return; }
                drawTrackFromPoints(points);
                fitViewportToTrack(points);
            } catch (e) {
                alert('绘制轨迹失败：' + (e && e.message ? e.message : e));
                console.error('绘制轨迹异常:', e);
            }
        });

        showPointsBtn.addEventListener('click', function(){
            try {
                const text = ta.value.trim();
                if (!text) { alert('请粘贴轨迹文本（时间戳,经度,纬度）'); return; }
                const points = parseTrackText(text);
                if (points.length === 0) { alert('未找到有效轨迹点'); return; }
                showTrackPoints(points);
                fitViewportToTrack(points);
            } catch (e) {
                alert('显示轨迹点失败：' + (e && e.message ? e.message : e));
                console.error('显示轨迹点异常:', e);
            }
        });

        clearBtn.addEventListener('click', function(){
            clearTrackOverlays();
            console.log('已清空轨迹');
        });
    }

    function showTrackPoints(points) {
        // 先移除旧轨迹（不影响轮廓）
        clearTrackOverlays(false);
        
        if (!map || !points || points.length === 0) {
            console.log('无轨迹点可显示');
            return;
        }
        
        console.log(`准备显示${points.length}个轨迹点`);
        
        // 使用批量处理和更小的图标来提高性能
        // 创建一个更小的红点SVG图标
        const smallRedDotIcon = new T.Icon({
            iconUrl: 'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="1" height="1"><circle cx="0.5" cy="0.5" r="0.3" fill="%23FF0000"/></svg>',
            iconSize: new T.Point(1, 1),
            iconAnchor: new T.Point(0.5, 0.5)
        });
        
        // 优化批量添加点的速度
        const batchSize = 2000; // 增加每批处理的点数
        const concurrentBatches = 4; // 并发批次数量
        
        // 预创建点击事件处理函数，避免重复创建
        function createClickHandler(point, index) {
            return function() {
                const infoWindow = new T.InfoWindow({
                    content: `点${index + 1}<br/>经度: ${point.lng.toFixed(6)}<br/>纬度: ${point.lat.toFixed(6)}`,
                    offset: new T.Point(0, -20)
                });
                infoWindow.open(map, point);
            };
        }
        
        // 使用setTimeout实现更高效的批量添加，避免阻塞UI
        let currentIndex = 0;
        
        function addBatch() {
            if (currentIndex >= points.length) {
                console.log(`已显示${points.length}个轨迹点`);
                return;
            }
            
            // 添加当前批次的点
            const endIndex = Math.min(currentIndex + batchSize, points.length);
            const markersToAdd = [];
            
            // 先创建所有标记
            for (let i = currentIndex; i < endIndex; i++) {
                const point = points[i];
                const index = i;
                
                const marker = new T.Marker(point, {
                    icon: smallRedDotIcon
                });
                
                // 添加点击事件
                marker.addEventListener('click', createClickHandler(point, index));
                
                markersToAdd.push(marker);
            }
            
            // 批量添加到地图和数组
            markersToAdd.forEach(marker => {
                map.addOverLay(marker);
                currentTracks.push(marker);
            });
            
            currentIndex = endIndex;
            
            // 使用setTimeout而不是requestAnimationFrame，减少对渲染周期的依赖
            // 设置为0，将任务放入微任务队列，但允许UI有短暂的呼吸空间
            setTimeout(addBatch, 0);
        }
        
        // 启动批量添加
        addBatch();
    }
    
    // 恢复原始的clearTrackOverlays函数
    function clearTrackOverlays(resetArray = true){        
        try {
            currentTracks.forEach(pl => {
                if (pl && map && map.removeOverLay) {
                    try { map.removeOverLay(pl); } catch (e) { console.warn('移除轨迹失败:', e); }
                }
            });
            if (resetArray) currentTracks = [];
        } catch (e) {
            console.warn('清空轨迹时出错:', e);
        }
    }

    function parseTrackText(text){
        // 选择输入坐标系（优先使用轨迹页签专属选择器，若未设置则回退到绘制页签选择器）
        const coordSysEl = document.getElementById('trackCoordSysSelect') || document.getElementById('coordSysSelect');
        const coordSys = (coordSysEl && coordSysEl.value) || 'wgs84';
        const isHash = text.indexOf('#') !== -1;
        const items = isHash ? text.split('#') : text.split(/\r?\n/);
        const pts = [];
        for (let i=0;i<items.length;i++){
            const raw = items[i];
            if (!raw) continue;
            const line = raw.trim();
            if (!line) continue;
            const parts = line.split(',');
            if (parts.length < 3) continue;
            let lng = parseFloat((parts[isHash ? 0 : 1] || '').trim());
            let lat = parseFloat((parts[isHash ? 1 : 2] || '').trim());
            // 初步过滤：数值合法性与正常范围
            if (!isFinite(lng) || !isFinite(lat)) continue;
            if (lng === 0 || lat === 0) continue; // 丢弃0.0异常点
            if (lng < -180 || lng > 180 || lat < -90 || lat > 90) continue; // 超出经纬度范围丢弃

            // 将输入坐标转换为WGS84
            let w;
            if (coordSys === 'wgs84' || coordSys === 'cgcs2000') {
                w = { lng, lat };
            } else if (coordSys === 'gcj02') {
                w = gcj02ToWgs84(lng, lat);
            } else if (coordSys === 'bd09') {
                const g = bd09ToGcj02(lng, lat);
                w = gcj02ToWgs84(g.lng, g.lat);
            } else {
                w = { lng, lat };
            }
            // 转换结果兜底检查
            if (!isFinite(w.lng) || !isFinite(w.lat)) continue;
            if (w.lng < -180 || w.lng > 180 || w.lat < -90 || w.lat > 90) continue;

            // 使用WGS84坐标绘制到地图
            pts.push(new T.LngLat(w.lng, w.lat));
        }
        return pts;
    }

    function drawTrackFromPoints(points){
        // 先移除旧轨迹（不影响轮廓）
        clearTrackOverlays(false);
        const polyline = new T.Polyline(points, {
            color: '#FF3B30',
            weight: 1,
            opacity: 0.9
        });
        if (map) {
            map.addOverLay(polyline);
        }
        currentTracks.push(polyline);
    }

    function clearTrackOverlays(resetArray = true){
        try {
            currentTracks.forEach(pl => {
                if (pl && map && map.removeOverLay) {
                    try { map.removeOverLay(pl); } catch (e) { console.warn('移除轨迹失败:', e); }
                }
            });
            if (resetArray) currentTracks = [];
        } catch (e) {
            console.warn('清空轨迹时出错:', e);
        }
    }


    function fitViewportToTrack(points){
        try {
            if (!map || !map.setViewport || !points || !points.length) return;
            map.setViewport(points);
        } catch (e) {
            console.warn('轨迹视图居中失败:', e);
        }
    }

    // ========= 轨迹回放功能 =========
    let playbackState = { points: [], idx: 0, speed: 1, timer: null, running: false, marker: null, line: null, path: [] };

    function bindPlaybackControls(){
        const startBtn = document.getElementById('playbackStartBtn');
        const pauseBtn = document.getElementById('playbackPauseBtn');
        const stopBtn = document.getElementById('playbackStopBtn');
        const speedSel = document.getElementById('playbackSpeedSelect');
        const timeSlider = document.getElementById('playbackTimeSlider');
        const timeCursor = document.getElementById('playbackTimeCursor');
        const ta = document.getElementById('trackTextarea');
        if (!startBtn || !pauseBtn || !stopBtn || !speedSel) return;

        // 初始按钮状态
        updatePlaybackButtonsState('idle');

        startBtn.addEventListener('click', function(){
            try {
                const text = (ta && ta.value || '').trim();
                if (!text) { alert('请粘贴轨迹文本（时间戳,经度,纬度）'); return; }
                const pts = parseTrackTextWithTime(text);
                if (pts.length < 2) { alert('有效轨迹点不足，至少需要两点'); return; }
                startPlayback(pts);
                // 状态在startPlayback中已设置为playing
            } catch (e) {
                alert('开始回放失败：' + (e && e.message ? e.message : e));
                console.error('开始回放异常:', e);
            }
        });

        pauseBtn.addEventListener('click', function(){
            if (!playbackState.running) {
                // 继续
                playbackState.running = true;
                scheduleNext();
                updatePlaybackButtonsState('playing');
            } else {
                // 暂停
                if (playbackState.timer) { clearTimeout(playbackState.timer); playbackState.timer = null; }
                playbackState.running = false;
                updatePlaybackButtonsState('paused');
            }
        });

        stopBtn.addEventListener('click', function(){ 
            stopPlayback(); 
            updatePlaybackButtonsState('idle');
        });

        speedSel.addEventListener('change', function(){
            const v = parseFloat(speedSel.value);
            playbackState.speed = (isFinite(v) && v > 0) ? v : 1;
        });

        if (timeSlider) {
            timeSlider.addEventListener('input', function(){
                const ms = parseInt(timeSlider.value, 10);
                const txt = formatTimeForLabel(ms);
                if (timeCursor) timeCursor.textContent = txt;
            });
            timeSlider.addEventListener('change', function(){
                jumpToSliderTime();
            });
        }
    }

    function parseTrackTextWithTime(text){
        const coordSysEl = document.getElementById('trackCoordSysSelect') || document.getElementById('coordSysSelect');
        const coordSys = (coordSysEl && coordSysEl.value) || 'wgs84';
        const isHash = text.indexOf('#') !== -1;
        const items = isHash ? text.split('#') : text.split(/\r?\n/);
        const out = [];
        for (let i=0;i<items.length;i++){
            const raw = items[i];
            if (!raw) continue;
            const line = raw.trim();
            if (!line) continue;
            const parts = line.split(',');
            if (parts.length < 3) continue;
            const tsRaw = (parts[isHash ? 2 : 0] || '').trim();
            const ts = (tsRaw || '').replace(/\D/g,'');
            let lng = parseFloat((parts[isHash ? 0 : 1] || '').trim());
            let lat = parseFloat((parts[isHash ? 1 : 2] || '').trim());
            if (!isFinite(lng) || !isFinite(lat)) continue;
            if (lng === 0 || lat === 0) continue;
            if (lng < -180 || lng > 180 || lat < -90 || lat > 90) continue;
            const t = parseTimestamp(ts);
            if (!t) continue;
            let w;
            if (coordSys === 'wgs84' || coordSys === 'cgcs2000') {
                w = { lng, lat };
            } else if (coordSys === 'gcj02') {
                w = gcj02ToWgs84(lng, lat);
            } else if (coordSys === 'bd09') {
                const g = bd09ToGcj02(lng, lat);
                w = gcj02ToWgs84(g.lng, g.lat);
            } else { w = { lng, lat }; }
            if (!isFinite(w.lng) || !isFinite(w.lat)) continue;
            if (w.lng < -180 || w.lng > 180 || w.lat < -90 || w.lat > 90) continue;
            out.push({ ll: new T.LngLat(w.lng, w.lat), time: t, ts });
        }
        out.sort((a,b)=>a.time - b.time);
        return out;
    }

    function parseTimestamp(ts){
        const tstr = (ts || '').replace(/\D/g,'');
        const m = tstr && tstr.match(/^\d{14}$/);
        if (!m) return null;
        const y = parseInt(tstr.slice(0,4),10);
        const M = parseInt(tstr.slice(4,6),10) - 1;
        const d = parseInt(tstr.slice(6,8),10);
        const h = parseInt(tstr.slice(8,10),10);
        const m2 = parseInt(tstr.slice(10,12),10);
        const s = parseInt(tstr.slice(12,14),10);
        const dt = new Date(y,M,d,h,m2,s);
        return isNaN(dt.getTime()) ? null : dt;
    }

    function startPlayback(points){
        console.log('[Playback] startPlayback: 点数=', points && points.length);
        stopPlayback();
        playbackState.points = points;
        playbackState.idx = 0;
        playbackState.speed = playbackState.speed || 1;
        playbackState.running = true;
        // 配置时间滑动条，并尊重现有滑块位置作为起始
        configureTimeSlider(points);
        // 启用滑块
        const slider = document.getElementById('playbackTimeSlider');
        if (slider) slider.disabled = false;
        let initIdx = 0;
        if (slider && slider.min && slider.max) {
            const ms = parseInt(slider.value, 10);
            if (isFinite(ms)) initIdx = findIndexByTime(points, ms);
        }
        playbackState.idx = initIdx;
        const first = points[initIdx];
        console.log('[Playback] 首点:', first && first.ts, first && first.ll, 'initIdx=', initIdx);
        playbackState.path = points.slice(0, initIdx+1).map(p=>p.ll);
        playbackState.line = new T.Polyline(playbackState.path, { color: '#00FFFF', weight: 1, opacity: 0.9 });
        if (map) {
            map.addOverLay(playbackState.line);
        }
        currentTracks.push(playbackState.line);
        // 创建并定位DOM标记以保证可见移动
        ensurePlaybackDom(first.ll);
        updatePlaybackDom(first.ll);
        updatePlaybackTimeLabel(first.ts);
        try { fitViewportToTrack(points.map(p=>p.ll)); } catch(e){}
        // 更新按钮状态
        updatePlaybackButtonsState('playing');
        scheduleNext();
    }

    function scheduleNext(){
        if (!playbackState.running) return;
        if (!playbackState.points || playbackState.idx >= playbackState.points.length - 1) {
            playbackState.running = false;
            console.log('[Playback] 回放结束：idx=', playbackState.idx, '点数=', playbackState.points ? playbackState.points.length : 0);
            updatePlaybackButtonsState('idle'); // 播放结束后按钮回到初始状态：开始可点，继续/结束灰化
            return;
        }
        const next = playbackState.points[playbackState.idx+1];
        const speed = playbackState.speed || 1;
        const delay = Math.max(4, Math.round(1000 / speed)); // 1x=1000ms/点，2x=500ms/点...
        console.log('[Playback] scheduleNext: idx=', playbackState.idx, '->', playbackState.idx+1, 'delay=', delay, 'speed=', speed);
        playbackState.timer = setTimeout(()=>{
            playbackState.idx++;
            const nextLL = next.ll;
            console.log('[Playback] 下一点:', next && next.ts, nextLL);
            try {
                // 维护路径数组
                playbackState.path = playbackState.path || [];
                playbackState.path.push(nextLL);
                console.log('[Playback] 路径长度=', playbackState.path.length);
                // 使用DOM标记进行移动（容器/图层坐标）
                if (!playbackDom.el) console.log('[Playback] DOM标记不存在，将尝试创建');
                updatePlaybackDom(nextLL);
                // 折线更新：优先setLngLats，兜底重建
                if (playbackState.line && typeof playbackState.line.setLngLats === 'function') {
                    try { playbackState.line.setLngLats(playbackState.path); }
                    catch(e){
                        console.warn('[Playback] setLngLats失败，重建折线', e);
                        if (map) { try { map.removeOverLay(playbackState.line); } catch(e){} }
                        playbackState.line = new T.Polyline(playbackState.path, { color: '#00FFFF', weight: 1, opacity: 0.9 });
                        if (map) map.addOverLay(playbackState.line);
                    }
                } else {
                    console.log('[Playback] 折线不支持setLngLats，重建');
                    if (playbackState.line && map) { try { map.removeOverLay(playbackState.line); } catch(e){} }
                    playbackState.line = new T.Polyline(playbackState.path, { color: '#00FFFF', weight: 1, opacity: 0.9 });
                    if (map) map.addOverLay(playbackState.line);
                }
            } catch(e) { console.warn('更新回放覆盖物失败:', e); }
            updatePlaybackTimeLabel(next.ts);
            scheduleNext();
        }, delay);
    }

    function stopPlayback(){
        if (playbackState.timer) { clearTimeout(playbackState.timer); playbackState.timer = null; }
        playbackState.running = false;
        playbackState.idx = 0;
        try {
            // 移除DOM标记
            removePlaybackDom();
            if (playbackState.marker && map) map.removeOverLay(playbackState.marker);
            if (playbackState.line && map) map.removeOverLay(playbackState.line);
        } catch(e){}
        playbackState.marker = null;
        playbackState.line = null;
        updatePlaybackTimeLabel('—');
        // 按钮回到初始状态
        updatePlaybackButtonsState('idle');
    }

    function updatePlaybackTimeLabel(text){
        const el = document.getElementById('playbackTimeLabel');
        if (el) el.textContent = '时间：' + (text || '—');
    }

    // 时间滑动条：配置与跳转
    function configureTimeSlider(points){
        try {
            const slider = document.getElementById('playbackTimeSlider');
            const cursor = document.getElementById('playbackTimeCursor');
            if (!slider || !points || !points.length) return;
            const minMs = points[0].time.getTime();
            const maxMs = points[points.length - 1].time.getTime();
            const prev = parseInt(slider.value, 10);
            slider.min = String(minMs);
            slider.max = String(maxMs);
            slider.step = '1000'; // 以秒为步进
            let val = (isFinite(prev) && prev >= minMs && prev <= maxMs) ? prev : minMs;
            slider.value = String(val);
            if (cursor) cursor.textContent = formatTimeForLabel(val);
        } catch(e) { console.warn('配置时间滑动条失败:', e); }
    }
    function formatTimeForLabel(ms){
        if (!isFinite(ms)) return '—';
        const d = new Date(ms);
        const pad = n => String(n).padStart(2,'0');
        const y = d.getFullYear();
        const M = pad(d.getMonth()+1);
        const da = pad(d.getDate());
        const h = pad(d.getHours());
        const m = pad(d.getMinutes());
        const s = pad(d.getSeconds());
        return `${y}-${M}-${da} ${h}:${m}:${s}`;
    }
    function findIndexByTime(points, ms){
        try {
            if (!points || !points.length) return 0;
            const n = points.length;
            const minMs = points[0].time.getTime();
            const maxMs = points[n-1].time.getTime();
            if (!isFinite(ms)) return 0;
            if (ms <= minMs) return 0;
            if (ms >= maxMs) return n-1;
            let lo = 0, hi = n - 1, ans = 0;
            while (lo <= hi) {
                const mid = (lo + hi) >> 1;
                const t = points[mid].time.getTime();
                if (t < ms) { lo = mid + 1; ans = lo; }
                else { hi = mid - 1; ans = mid; }
            }
            return Math.max(0, Math.min(n-1, ans));
        } catch(e){ console.warn('findIndexByTime失败:', e); return 0; }
    }
    function jumpToSliderTime(){
        try {
            const slider = document.getElementById('playbackTimeSlider');
            if (!slider || !playbackState.points || !playbackState.points.length) return;
            const ms = parseInt(slider.value, 10);
            if (!isFinite(ms)) return;
            const idx = findIndexByTime(playbackState.points, ms);
            playbackState.idx = idx;
            const pts = playbackState.points;
            const ll = pts[idx].ll;
            playbackState.path = pts.slice(0, idx+1).map(p=>p.ll);
            // 更新折线
            try {
                if (playbackState.line && typeof playbackState.line.setLngLats === 'function') {
                    playbackState.line.setLngLats(playbackState.path);
                } else {
                    if (playbackState.line && map) { try { map.removeOverLay(playbackState.line); } catch(e){} }
                    playbackState.line = new T.Polyline(playbackState.path, { color: '#00FFFF', weight: 1, opacity: 0.9 });
                    if (map) map.addOverLay(playbackState.line);
                }
            } catch(e){ console.warn('滑块更新折线失败:', e); }
            // 更新标记与时间
            ensurePlaybackDom(ll);
            updatePlaybackDom(ll);
            updatePlaybackTimeLabel(pts[idx].ts);
            // 若正在播放，立即按新位置继续
            if (playbackState.running) {
                if (playbackState.timer) { clearTimeout(playbackState.timer); playbackState.timer = null; }
                scheduleNext();
            }
        } catch(e) { console.warn('滑块跳转失败:', e); }
    }

    // DOM标记：使用容器坐标实现可见移动
    let playbackDom = { el: null, lastLL: null, bound: false };

    function ensurePlaybackDom(ll){
        try {
            playbackDom.lastLL = ll;
            const pane = (map && map.getPanes && map.getPanes().overlayPane) || document.getElementById('mapContainer');
            if (!pane) { console.warn('未找到overlayPane或mapContainer'); return; }
            if (!playbackDom.el) {
                const el = document.createElement('div');
                el.id = 'playbackDomMarker';
                el.style.position = 'absolute';
                el.style.width = '0';
                el.style.height = '0';
                el.style.borderLeft = '3px solid transparent';
                el.style.borderRight = '3px solid transparent';
                el.style.borderBottom = '4px solid #2C64A7';
                el.style.borderTop = '0';
                el.style.transform = 'translate(-50%, -50%)';
                el.style.zIndex = '9999';
                // 添加伪元素来增强箭头效果
                el.style.clipPath = 'polygon(50% 0, 100% 100%, 0 100%)';
                pane.appendChild(el);
                playbackDom.el = el;
                console.log('[Playback] 创建DOM标记，父节点=', pane === document.getElementById('mapContainer') ? '#mapContainer' : 'overlayPane');
                bindPlaybackDomEvents();
            }
            updatePlaybackDom(ll);
        } catch(e) { console.warn('创建DOM标记失败:', e); }
    }

    function updatePlaybackDom(ll){
        try {
            playbackDom.lastLL = ll;
            if (!map || !playbackDom.el || !ll) { console.log('[Playback] update取消：map/el/ll缺失'); return; }
            let p;
            if (typeof map.lngLatToLayerPoint === 'function') {
                p = map.lngLatToLayerPoint(ll);
                console.log('[Playback] 使用layerPoint定位:', ll && ll.lng, ll && ll.lat, '=>', p && p.x, p && p.y);
            } else if (typeof map.lngLatToContainerPoint === 'function') {
                p = map.lngLatToContainerPoint(ll);
                console.log('[Playback] 使用containerPoint定位:', ll && ll.lng, ll && ll.lat, '=>', p && p.x, p && p.y);
            } else {
                console.warn('地图对象不支持lngLat到像素坐标转换');
                return;
            }
            playbackDom.el.style.left = p.x + 'px';
            playbackDom.el.style.top = p.y + 'px';
        } catch(e) { console.warn('更新DOM标记位置失败:', e); }
    }

    function bindPlaybackDomEvents(){
        if (playbackDom.bound) return;
        const updater = function(){
            try {
                if (!map || !playbackDom.el || !playbackDom.lastLL) return;
                let p;
                if (typeof map.lngLatToLayerPoint === 'function') {
                    p = map.lngLatToLayerPoint(playbackDom.lastLL);
                } else if (typeof map.lngLatToContainerPoint === 'function') {
                    p = map.lngLatToContainerPoint(playbackDom.lastLL);
                }
                if (!p) return;
                playbackDom.el.style.left = p.x + 'px';
                playbackDom.el.style.top = p.y + 'px';
            } catch(e){}
        };
        try {
            map.addEventListener('move', updater);
            map.addEventListener('zoom', updater);
            playbackDom.bound = true;
        } catch(e){}
    }

    function removePlaybackDom(){
        try {
            const el = playbackDom.el;
            playbackDom.lastLL = null;
            if (el && el.parentNode) el.parentNode.removeChild(el);
        } catch(e){}
        playbackDom.el = null;
        playbackDom.bound = false;
    }

    // 测量功能相关变量
    let measureState = {
        isActive: false,
        mode: '', // 'distance' or 'area'
        points: [],
        tempLine: null,
        lines: [],
        markers: [],
        labels: [],
        polygon: null,
        areaLabel: null
    };

    // 绑定测量按钮事件
    function bindMeasureEvents() {
        const distanceBtn = document.getElementById('measureDistanceBtn');
        const areaBtn = document.getElementById('measureAreaBtn');
        
        if (distanceBtn) {
            distanceBtn.addEventListener('click', function() {
                startMeasureDistance();
            });
        }
        
        if (areaBtn) {
            areaBtn.addEventListener('click', function() {
                startMeasureArea();
            });
        }
    }

    // 绑定地图类型切换按钮事件
    function bindMapTypeEvent() {
        const mapTypeBtn = document.getElementById('mapTypeBtn');
        
        if (mapTypeBtn) {
            mapTypeBtn.addEventListener('click', function() {
                toggleMapType();
            });
        }
    }

    // 切换地图类型
    function toggleMapType() {
        if (!map) {
            alert('地图未初始化');
            return;
        }
        
        // 切换地图类型
        if (currentMapType === 'satellite') {
            // 切换到街道地图
            map.setMapType(TMAP_NORMAL_MAP);
            currentMapType = 'street';
            updateMapTypeButton('街道图');
        } else {
            // 切换到卫星地图
            map.setMapType(TMAP_SATELLITE_MAP);
            currentMapType = 'satellite';
            updateMapTypeButton('卫星图');
        }
    }

    // 更新地图类型按钮显示
    function updateMapTypeButton(typeName) {
        const mapTypeBtn = document.getElementById('mapTypeBtn');
        if (mapTypeBtn) {
            mapTypeBtn.innerHTML = `<span>${typeName}</span>`;
            mapTypeBtn.title = `当前：${typeName}，点击切换`;
        }
    }

    // 开始测距
    function startMeasureDistance() {
        if (!map) {
            alert('地图未初始化');
            return;
        }
        
        // 先移除所有可能存在的事件监听器
        try {
            map.removeEventListener('click', handleMapClick);
            map.removeEventListener('click', handleAreaMapClick);
            map.removeEventListener('mousemove', handleMouseMove);
            map.removeEventListener('mousemove', handleAreaMouseMove);
            map.removeEventListener('dblclick', finishMeasure);
            map.removeEventListener('dblclick', finishAreaMeasure);
        } catch(e) {
            console.log('移除事件监听器时出错:', e);
        }
        
        // 重置测量状态
        clearMeasureResult();
        
        // 设置测量状态为激活
        measureState.isActive = true;
        measureState.mode = 'distance'; // 设置为距离测量模式
        
        // 禁用其他按钮
        disableButtons(true);
        
        // 添加地图点击事件监听器
        map.addEventListener('click', handleMapClick);
        
        // 添加鼠标移动事件监听器
        map.addEventListener('mousemove', handleMouseMove);
        
        // 添加双击事件监听器结束测量
        map.addEventListener('dblclick', finishMeasure);
        
        console.log('测距功能已启动');
    }

    // 开始测面
    function startMeasureArea() {
        if (!map) {
            alert('地图未初始化');
            return;
        }
        
        // 先移除所有可能存在的事件监听器
        try {
            map.removeEventListener('click', handleMapClick);
            map.removeEventListener('click', handleAreaMapClick);
            map.removeEventListener('mousemove', handleMouseMove);
            map.removeEventListener('mousemove', handleAreaMouseMove);
            map.removeEventListener('dblclick', finishMeasure);
            map.removeEventListener('dblclick', finishAreaMeasure);
        } catch(e) {
            console.log('移除事件监听器时出错:', e);
        }
        
        // 重置测量状态
        clearMeasureResult();
        
        // 设置测量状态为激活
        measureState.isActive = true;
        measureState.mode = 'area'; // 设置为面积测量模式
        
        // 禁用其他按钮
        disableButtons(true);
        
        // 添加地图点击事件监听器
        map.addEventListener('click', handleAreaMapClick);
        
        // 添加鼠标移动事件监听器
        map.addEventListener('mousemove', handleAreaMouseMove);
        
        // 添加双击事件监听器结束测量
        map.addEventListener('dblclick', finishAreaMeasure);
        
        console.log('测面功能已启动');
    }

    // 处理地图点击事件
    function handleMapClick(event) {
        if (!measureState.isActive || measureState.mode !== 'distance') return;
        
        const point = event.lnglat;
        measureState.points.push(point);
        
        // 创建小圆点图标
        const smallDotIcon = new T.Icon({
            iconUrl: 'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="8" height="8"><circle cx="4" cy="4" r="3" fill="%23FF0000" stroke="%23FFFFFF" stroke-width="1"/></svg>',
            iconSize: new T.Point(8, 8),
            iconAnchor: new T.Point(4, 4)
        });
        
        // 创建点标记
        const marker = new T.Marker(point, {icon: smallDotIcon});
        map.addOverLay(marker);
        measureState.markers.push(marker);
        
        // 如果不是第一个点，创建线段
        if (measureState.points.length > 1) {
            const prevPoint = measureState.points[measureState.points.length - 2];
            const line = new T.Polyline([prevPoint, point], {
                color: '#FF0000',
                weight: 3,
                opacity: 0.8
            });
            map.addOverLay(line);
            measureState.lines.push(line);
            
            // 计算距离并显示标签
            const distance = calculateDistance(prevPoint, point);
            showDistanceLabel(point, distance);
        }
        
        // 移除临时线
        if (measureState.tempLine) {
            map.removeOverLay(measureState.tempLine);
            measureState.tempLine = null;
        }
    }

    // 处理测面地图点击事件
    function handleAreaMapClick(event) {
        if (!measureState.isActive || measureState.mode !== 'area') return;
        
        const point = event.lnglat;
        measureState.points.push(point);
        
        // 创建小圆点图标（与测距功能一致）
        const smallDotIcon = new T.Icon({
            iconUrl: 'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="8" height="8"><circle cx="4" cy="4" r="3" fill="%23FF0000" stroke="%23FFFFFF" stroke-width="1"/></svg>',
            iconSize: new T.Point(8, 8),
            iconAnchor: new T.Point(4, 4)
        });
        
        // 创建点标记
        const marker = new T.Marker(point, {icon: smallDotIcon});
        map.addOverLay(marker);
        measureState.markers.push(marker);
        
        // 移除之前的多边形
        if (measureState.polygon) {
            map.removeOverLay(measureState.polygon);
        }
        
        // 如果点数大于2，创建多边形
        if (measureState.points.length >= 3) {
            const polygon = new T.Polygon(measureState.points, {
                color: '#FF0000',
                weight: 3,
                opacity: 0.8,
                fillColor: '#FF0000',
                fillOpacity: 0.3
            });
            map.addOverLay(polygon);
            measureState.polygon = polygon;
            
            // 计算面积并显示标签
            const area = calculatePolygonArea(measureState.points);
            showAreaLabel(getPolygonCenter(measureState.points), area);
        }
        
        // 移除临时线
        if (measureState.tempLine) {
            map.removeOverLay(measureState.tempLine);
            measureState.tempLine = null;
        }
    }

    // 处理鼠标移动事件
    function handleMouseMove(event) {
        if (!measureState.isActive || measureState.mode !== 'distance' || measureState.points.length === 0) return;
        
        const lastPoint = measureState.points[measureState.points.length - 1];
        const currentPoint = event.lnglat;
        
        // 移除之前的临时线
        if (measureState.tempLine) {
            map.removeOverLay(measureState.tempLine);
        }
        
        // 创建新的临时线
        measureState.tempLine = new T.Polyline([lastPoint, currentPoint], {
            color: '#0000FF',
            weight: 2,
            opacity: 0.6,
            dashArray: [5, 5]
        });
        map.addOverLay(measureState.tempLine);
    }

    // 处理测面鼠标移动事件
    function handleAreaMouseMove(event) {
        if (!measureState.isActive || measureState.mode !== 'area' || measureState.points.length === 0) return;
        
        const firstPoint = measureState.points[0];
        const lastPoint = measureState.points[measureState.points.length - 1];
        const currentPoint = event.lnglat;
        
        // 移除之前的临时线
        if (measureState.tempLine) {
            map.removeOverLay(measureState.tempLine);
        }
        
        // 创建新的临时线（从最后一个点到当前点，再到第一个点形成闭合效果）
        const tempPoints = [lastPoint, currentPoint];
        if (measureState.points.length >= 2) {
            tempPoints.push(firstPoint);
        }
        
        measureState.tempLine = new T.Polyline(tempPoints, {
            color: '#0000FF',
            weight: 2,
            opacity: 0.6,
            dashArray: [5, 5]
        });
        map.addOverLay(measureState.tempLine);
    }

    // 结束测量
    function finishMeasure() {
        if (!measureState.isActive || measureState.mode !== 'distance') return;
        
        // 移除事件监听器
        map.removeEventListener('click', handleMapClick);
        map.removeEventListener('mousemove', handleMouseMove);
        map.removeEventListener('dblclick', finishMeasure);
        
        // 移除临时线
        if (measureState.tempLine) {
            map.removeOverLay(measureState.tempLine);
            measureState.tempLine = null;
        }
        
        // 显示总距离
        if (measureState.points.length > 1) {
            const totalDistance = calculateTotalDistance();
            showTotalDistanceLabel(totalDistance);
        }
        
        // 重置测量状态
        measureState.isActive = false;
        measureState.mode = '';
        
        // 恢复其他按钮
        disableButtons(false);
        
        console.log('测距功能已完成');
    }

    // 结束测面测量
    function finishAreaMeasure() {
        if (!measureState.isActive || measureState.mode !== 'area') return;
        
        // 移除事件监听器
        map.removeEventListener('click', handleAreaMapClick);
        map.removeEventListener('mousemove', handleAreaMouseMove);
        map.removeEventListener('dblclick', finishAreaMeasure);
        
        // 移除临时线
        if (measureState.tempLine) {
            map.removeOverLay(measureState.tempLine);
            measureState.tempLine = null;
        }
        
        // 如果点数大于等于3，创建最终多边形
        if (measureState.points.length >= 3) {
            // 移除之前的多边形
            if (measureState.polygon) {
                map.removeOverLay(measureState.polygon);
            }
            
            const polygon = new T.Polygon(measureState.points, {
                color: '#FF0000',
                weight: 3,
                opacity: 0.8,
                fillColor: '#FF0000',
                fillOpacity: 0.3
            });
            map.addOverLay(polygon);
            measureState.polygon = polygon;
            
            // 计算并显示总面积
            const area = calculatePolygonArea(measureState.points);
            showTotalAreaLabel(getPolygonCenter(measureState.points), area);
        } else {
            // 点数不足3个，移除所有标记
            clearMeasureResult();
        }
        
        // 重置测量状态
        measureState.isActive = false;
        measureState.mode = '';
        
        // 恢复其他按钮
        disableButtons(false);
        
        console.log('测面功能已完成');
    }

    // 计算两点间距离（米）
    function calculateDistance(point1, point2) {
        // 使用天地图提供的距离计算方法
        if (T.CRS && T.CRS.EPSG4326 && T.CRS.EPSG4326.distance) {
            return T.CRS.EPSG4326.distance(point1, point2);
        }
        
        // 如果没有提供，则使用球面距离公式
        const R = 6371000; // 地球半径（米）
        const dLat = (point2.lat - point1.lat) * Math.PI / 180;
        const dLon = (point2.lng - point1.lng) * Math.PI / 180;
        const a = 
            Math.sin(dLat/2) * Math.sin(dLat/2) +
            Math.cos(point1.lat * Math.PI / 180) * Math.cos(point2.lat * Math.PI / 180) * 
            Math.sin(dLon/2) * Math.sin(dLon/2);
        const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));
        return R * c;
    }

    // 计算多边形面积（平方米）
    function calculatePolygonArea(points) {
        // 使用天地图提供的面积计算方法（如果可用）
        if (T.GeometryUtils && T.GeometryUtils.computeArea) {
            return T.GeometryUtils.computeArea(points);
        }
        
        // 如果没有提供，则使用球面多边形面积计算公式
        // 这里使用简单的平面近似计算，对于小面积比较准确
        if (points.length < 3) return 0;
        
        let area = 0;
        const n = points.length;
        
        for (let i = 0; i < n; i++) {
            const j = (i + 1) % n;
            area += points[i].lng * points[j].lat;
            area -= points[j].lng * points[i].lat;
        }
        
        area = Math.abs(area) / 2.0;
        
        // 转换为平方米（这是一个简化的近似值）
        // 更精确的计算需要考虑地球曲率
        const earthRadius = 6371000; // 地球半径（米）
        const degreeToMeter = (2 * Math.PI * earthRadius) / 360; // 每度对应的米数
        
        // 这个转换只是一个粗略的近似
        return area * degreeToMeter * degreeToMeter;
    }

    // 获取多边形中心点
    function getPolygonCenter(points) {
        if (points.length === 0) return null;
        
        let x = 0, y = 0;
        for (let i = 0; i < points.length; i++) {
            x += points[i].lng;
            y += points[i].lat;
        }
        
        return new T.LngLat(x / points.length, y / points.length);
    }

    // 计算总距离
    function calculateTotalDistance() {
        let total = 0;
        for (let i = 1; i < measureState.points.length; i++) {
            const distance = calculateDistance(measureState.points[i-1], measureState.points[i]);
            total += distance;
        }
        return total;
    }

    // 显示两点间距离标签
    function showDistanceLabel(point, distance) {
        const label = document.createElement('div');
        label.className = 'distance-label';
        label.innerHTML = distance.toFixed(2) + ' 米';
        label.style.position = 'absolute';
        label.style.backgroundColor = 'rgba(255, 255, 255, 0.9)';
        label.style.padding = '2px 6px';
        label.style.borderRadius = '3px';
        label.style.fontSize = '12px';
        label.style.boxShadow = '0 1px 2px rgba(0,0,0,0.3)';
        label.style.zIndex = '1000';
        label.style.transform = 'translate(-50%, -50%)';
        
        // 添加删除按钮
        const closeBtn = document.createElement('span');
        closeBtn.innerHTML = '×';
        closeBtn.style.marginLeft = '5px';
        closeBtn.style.cursor = 'pointer';
        closeBtn.style.fontWeight = 'bold';
        closeBtn.onclick = function() {
            if (label.parentNode) {
                label.parentNode.removeChild(label);
            }
        };
        label.appendChild(closeBtn);
        
        document.getElementById('mapContainer').appendChild(label);
        
        // 定位标签（向上偏移20像素）
        const pixel = map.lngLatToContainerPoint(point);
        label.style.left = pixel.x + 'px';
        label.style.top = (pixel.y - 20) + 'px';
        
        measureState.labels.push(label);
    }

    // 显示面积标签
    function showAreaLabel(point, area) {
        // 如果已存在面积标签，先移除它
        if (measureState.areaLabel) {
            if (measureState.areaLabel.parentNode) {
                measureState.areaLabel.parentNode.removeChild(measureState.areaLabel);
            }
        }
        
        const label = document.createElement('div');
        label.className = 'area-label';
        label.innerHTML = area.toFixed(2) + ' 平方米';
        label.style.position = 'absolute';
        label.style.backgroundColor = 'rgba(255, 255, 255, 0.9)';
        label.style.padding = '2px 6px';
        label.style.borderRadius = '3px';
        label.style.fontSize = '12px';
        label.style.boxShadow = '0 1px 2px rgba(0,0,0,0.3)';
        label.style.zIndex = '1000';
        label.style.transform = 'translate(-50%, -50%)';
        
        // 添加删除按钮
        const closeBtn = document.createElement('span');
        closeBtn.innerHTML = '×';
        closeBtn.style.marginLeft = '5px';
        closeBtn.style.cursor = 'pointer';
        closeBtn.style.fontWeight = 'bold';
        closeBtn.onclick = function() {
            if (label.parentNode) {
                label.parentNode.removeChild(label);
            }
        };
        label.appendChild(closeBtn);
        
        document.getElementById('mapContainer').appendChild(label);
        
        // 定位标签
        const pixel = map.lngLatToContainerPoint(point);
        label.style.left = pixel.x + 'px';
        label.style.top = (pixel.y - 20) + 'px';
        
        measureState.areaLabel = label;
        measureState.labels.push(label);
    }

    // 显示总面积标签
    function showTotalAreaLabel(point, area) {
        // 如果已存在面积标签，先移除它
        if (measureState.areaLabel) {
            if (measureState.areaLabel.parentNode) {
                measureState.areaLabel.parentNode.removeChild(measureState.areaLabel);
            }
        }
        
        // 计算亩数（1亩 ≈ 666.6667平方米）
        const areaInMu = area / 666.6667;
        
        const label = document.createElement('div');
        label.className = 'total-area-label';
        label.innerHTML = '总面积: ' + area.toFixed(2) + ' 平方米<br>' + areaInMu.toFixed(2) + ' 亩';
        label.style.position = 'absolute';
        label.style.backgroundColor = 'rgba(0, 0, 0, 0.7)';
        label.style.color = 'white';
        label.style.padding = '4px 8px';
        label.style.borderRadius = '4px';
        label.style.fontSize = '14px';
        label.style.fontWeight = 'bold';
        label.style.boxShadow = '0 2px 4px rgba(0,0,0,0.3)';
        label.style.zIndex = '1000';
        label.style.transform = 'translate(-50%, -50%)';
        label.style.lineHeight = '1.4';
        
        // 添加删除按钮
        const closeBtn = document.createElement('span');
        closeBtn.innerHTML = ' ×';
        closeBtn.style.cursor = 'pointer';
        closeBtn.style.fontWeight = 'bold';
        closeBtn.onclick = function() {
            if (label.parentNode) {
                label.parentNode.removeChild(label);
            }
        };
        label.appendChild(closeBtn);
        
        document.getElementById('mapContainer').appendChild(label);
        
        // 定位标签
        const pixel = map.lngLatToContainerPoint(point);
        label.style.left = pixel.x + 'px';
        label.style.top = (pixel.y - 40) + 'px';
        
        measureState.areaLabel = label;
        measureState.labels.push(label);
    }

    // 显示总距离标签
    function showTotalDistanceLabel(totalDistance) {
        const lastPoint = measureState.points[measureState.points.length - 1];
        const label = document.createElement('div');
        label.className = 'total-distance-label';
        label.innerHTML = '总距离: ' + totalDistance.toFixed(2) + ' 米';
        label.style.position = 'absolute';
        label.style.backgroundColor = 'rgba(0, 0, 0, 0.7)';
        label.style.color = 'white';
        label.style.padding = '4px 8px';
        label.style.borderRadius = '4px';
        label.style.fontSize = '14px';
        label.style.fontWeight = 'bold';
        label.style.boxShadow = '0 2px 4px rgba(0,0,0,0.3)';
        label.style.zIndex = '1000';
        label.style.transform = 'translate(-50%, -50%)';
        
        // 添加删除按钮
        const closeBtn = document.createElement('span');
        closeBtn.innerHTML = ' ×';
        closeBtn.style.cursor = 'pointer';
        closeBtn.style.fontWeight = 'bold';
        closeBtn.onclick = function() {
            if (label.parentNode) {
                label.parentNode.removeChild(label);
            }
        };
        label.appendChild(closeBtn);
        
        document.getElementById('mapContainer').appendChild(label);
        
        // 定位标签（向上偏移40像素，比段距离标签更高）
        const pixel = map.lngLatToContainerPoint(lastPoint);
        label.style.left = pixel.x + 'px';
        label.style.top = (pixel.y - 60) + 'px';  // 从-40改为-60，增加间距
        
        measureState.labels.push(label);
    }

    // 清除测量结果
    function clearMeasureResult() {
        // 移除所有线条
        measureState.lines.forEach(line => {
            if (map && map.removeOverLay) {
                try { map.removeOverLay(line); } catch(e) {}
            }
        });
        
        // 移除所有标记
        measureState.markers.forEach(marker => {
            if (map && map.removeOverLay) {
                try { map.removeOverLay(marker); } catch(e) {}
            }
        });
        
        // 移除所有标签
        measureState.labels.forEach(label => {
            if (label.parentNode) {
                try { label.parentNode.removeChild(label); } catch(e) {}
            }
        });
        
        // 移除临时线
        if (measureState.tempLine) {
            if (map && map.removeOverLay) {
                try { map.removeOverLay(measureState.tempLine); } catch(e) {}
            }
            measureState.tempLine = null;
        }
        
        // 移除多边形
        if (measureState.polygon) {
            if (map && map.removeOverLay) {
                try { map.removeOverLay(measureState.polygon); } catch(e) {}
            }
            measureState.polygon = null;
        }
        
        // 移除面积标签
        if (measureState.areaLabel) {
            if (measureState.areaLabel.parentNode) {
                try { measureState.areaLabel.parentNode.removeChild(measureState.areaLabel); } catch(e) {}
            }
            measureState.areaLabel = null;
        }
        
        // 重置状态
        measureState.points = [];
        measureState.lines = [];
        measureState.markers = [];
        measureState.labels = [];
        measureState.isActive = false;
        measureState.mode = '';
    }

    // 添加CSS样式用于距离标签
    const style = document.createElement('style');
    style.innerHTML = `
        .distance-label, .total-distance-label {
            font-family: Arial, sans-serif;
            pointer-events: auto;
        }
    `;
    document.head.appendChild(style);

</script>
</body>

</html>
